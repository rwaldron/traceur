(global||this).traceurImportScript=function(){};
(function(e,d){"object"===typeof exports?module.exports=d():"function"===typeof define&&define.amd?define([],d):(e.sourceMapModule=e.sourceMapModule||{})["array-set"]=d()})(this,function(){function e(){this._array=[];this._set={}}e.fromArray=function(d){for(var c=new e,f=0,b=d.length;f<b;f++)c.add(d[f]);return c};e.prototype.add=function(d){if(!this.has(d)){var c=this._array.length;this._array.push(d);this._set[d]=c}};e.prototype.has=function(d){return Object.prototype.hasOwnProperty.call(this._set,d)};
e.prototype.indexOf=function(d){if(this.has(d))return this._set[d];throw Error('"'+d+'" is not in the set.');};e.prototype.at=function(d){if(0<=d&&d<this._array.length)return this._array[d];throw Error("No element indexed by "+d);};e.prototype.toArray=function(){return this._array.slice()};return e});
(function(e,d){"object"===typeof exports?module.exports=d():"function"===typeof define&&define.amd?define([],d):(e.sourceMapModule=e.sourceMapModule||{}).base64=d()})(this,function(){var e={},d={},c={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(f,b){d[f]=b;c[b]=f});e.encode=function(d){if(d in c)return c[d];throw new TypeError("Must be between 0 and 63: "+d);};e.decode=function(c){if(c in d)return d[c];throw new TypeError("Not a valid base 64 digit: "+
c);};return e});
(function(e,d){if("object"===typeof exports){var c=require("./base64");module.exports=d(c)}else"function"===typeof define&&define.amd?define(["source-map/base64"],d):(c=e.sourceMapModule=e.sourceMapModule||{},c["base64-vlq"]=d(c.base64))})(this,function(e){return{encode:function(d){var c="",f=0>d?(-d<<1)+1:(d<<1)+0;do d=f&31,f>>>=5,0<f&&(d|=32),c+=e.encode(d);while(0<f);return c},decode:function(d){var c=0,f=d.length,b=0,g=0,a,h;do{if(c>=f)throw Error("Expected more digits in base 64 VLQ value.");h=
e.decode(d.charAt(c++));a=!!(h&32);h&=31;b+=h<<g;g+=5}while(a);f=b>>1;return{value:1===(b&1)?-f:f,rest:d.slice(c)}}}});
(function(e,d){"object"===typeof exports?module.exports=d():"function"===typeof define&&define.amd?define([],d):(e.sourceMapModule=e.sourceMapModule||{})["binary-search"]=d()})(this,function(){function e(d,c,f,b,g){var a=Math.floor((c-d)/2)+d,h=g(f,b[a]);return 0===h?b[a]:0<h?1<c-a?e(a,c,f,b,g):b[a]:1<a-d?e(d,a,f,b,g):0>d?null:b[d]}return{search:function(d,c,f){return 0<c.length?e(-1,c.length,d,c,f):null}}});
(function(e,d){"object"===typeof exports?module.exports=d():"function"===typeof define&&define.amd?define([],d):(e.sourceMapModule=e.sourceMapModule||{}).util=d()})(this,function(){return{getArg:function(e,d,c){if(d in e)return e[d];if(3===arguments.length)return c;throw Error('"'+d+'" is a required argument.');},join:function(e,d){return"/"===d.charAt(0)?d:e.replace(/\/*$/,"")+"/"+d}}});
(function(e,d){if("object"===typeof exports){var c=require("./base64-vlq"),f=require("./util"),b=require("./array-set").ArraySet;module.exports=d(c,f,b)}else if("function"===typeof define&&define.amd)define(["source-map/base64-vlq","source-map/util","source-map/array-set"],d);else{var g=e.sourceMapModule=e.sourceMapModule||{},c=g["base64-vlq"],f=g.util,b=g["array-set"];g["source-map-generator"]=d(c,f,b)}})(this,function(e,d,c){function f(b){this._file=d.getArg(b,"file");this._sourceRoot=d.getArg(b,
"sourceRoot",null);this._sources=new c;this._names=new c;this._mappings=[]}f.prototype._version=3;f.prototype.addMapping=function(b){var c=d.getArg(b,"generated"),a=d.getArg(b,"original",null),f=d.getArg(b,"source",null),b=d.getArg(b,"name",null);this._validateMapping(c,a,f,b);f&&!this._sources.has(f)&&this._sources.add(f);b&&!this._names.has(b)&&this._names.add(b);this._mappings.push({generated:c,original:a,source:f,name:b})};f.prototype._validateMapping=function(b,c,a,d){if(!b||!("line"in b&&"column"in
b&&0<b.line&&0<=b.column&&!c&&!a&&!d))if(!b||!("line"in b&&"column"in b&&c&&"line"in c&&"column"in c&&0<b.line&&0<=b.column&&0<c.line&&0<=c.column&&a))throw Error("Invalid mapping.");};f.prototype._serializeMappings=function(){var b=0,c=1,a=0,d=0,f=0,i=0,k="",l;this._mappings.sort(function(a,b){var c=a.generated.line-b.generated.line;return 0===c?a.generated.column-b.generated.column:c});for(var p=0,o=this._mappings.length;p<o;p++){l=this._mappings[p];if(l.generated.line!==c)for(b=0;l.generated.line!==
c;)k+=";",c++;else 0<p&&(k+=",");k+=e.encode(l.generated.column-b);b=l.generated.column;l.source&&l.original&&(k+=e.encode(this._sources.indexOf(l.source)-i),i=this._sources.indexOf(l.source),k+=e.encode(l.original.line-1-d),d=l.original.line-1,k+=e.encode(l.original.column-a),a=l.original.column,l.name&&(k+=e.encode(this._names.indexOf(l.name)-f),f=this._names.indexOf(l.name)))}return k};f.prototype.toString=function(){var b={version:this._version,file:this._file,sources:this._sources.toArray(),
names:this._names.toArray(),mappings:this._serializeMappings()};this._sourceRoot&&(b.sourceRoot=this._sourceRoot);return JSON.stringify(b)};return f});
(function(e,d){if("object"===typeof exports){var c=require("./util"),f=require("./binary-search"),b=require("./array-set").ArraySet,g=require("./base64-vlq");module.exports=d(c,f,b,g)}else if("function"===typeof define&&define.amd)define(["source-map/util","source-map/binary-search","source-map/array-set","source-map/base64-vlq"],d);else{var a=e.sourceMapModule=e.sourceMapModule||{},c=a.util,f=a["binary-search"],b=a["array-set"],g=a["base64-vlq"];a["source-map-consumer"]=d(c,f,b,g)}})(this,function(e,
d,c,f){function b(b){var a=b;"string"===typeof b&&(a=JSON.parse(b));var b=e.getArg(a,"version"),d=e.getArg(a,"sources"),f=e.getArg(a,"names"),i=e.getArg(a,"sourceRoot",null),k=e.getArg(a,"mappings");e.getArg(a,"file");if(b!==this._version)throw Error("Unsupported version: "+b);this._names=c.fromArray(f);this._sources=c.fromArray(d);this._generatedMappings=[];this._parseMappings(k,i)}b.prototype._version=3;b.prototype._parseMappings=function(b,a){for(var c=1,d=0,i=0,k=0,l=0,p=0,o=/^[,;]/,m=b,n;0<m.length;)if(";"===
m.charAt(0))c++,m=m.slice(1),d=0;else if(","===m.charAt(0))m=m.slice(1);else{n={};n.generatedLine=c;m=f.decode(m);n.generatedColumn=d+m.value;d=n.generatedColumn;m=m.rest;if(0<m.length&&!o.test(m.charAt(0))){m=f.decode(m);n.source=a?e.join(a,this._sources.at(l+m.value)):this._sources.at(l+m.value);l+=m.value;m=m.rest;if(0===m.length||o.test(m.charAt(0)))throw Error("Found a source, but no line and column");m=f.decode(m);n.originalLine=i+m.value;i=n.originalLine;n.originalLine+=1;m=m.rest;if(0===m.length||
o.test(m.charAt(0)))throw Error("Found a source and line, but no column");m=f.decode(m);n.originalColumn=k+m.value;k=n.originalColumn;m=m.rest;0<m.length&&!o.test(m.charAt(0))&&(m=f.decode(m),n.name=this._names.at(p+m.value),p+=m.value,m=m.rest)}this._generatedMappings.push(n)}};b.prototype.originalPositionFor=function(b){b={generatedLine:e.getArg(b,"line"),generatedColumn:e.getArg(b,"column")};if(0>=b.generatedLine)throw new TypeError("Line must be greater than or equal to 1.");if(0>b.generatedColumn)throw new TypeError("Column must be greater than or equal to 0.");
return(b=d.search(b,this._generatedMappings,function(a,b){var c=a.generatedLine-b.generatedLine;return 0===c?a.generatedColumn-b.generatedColumn:c}))?{source:e.getArg(b,"source",null),line:e.getArg(b,"originalLine",null),column:e.getArg(b,"originalColumn",null),name:e.getArg(b,"name",null)}:{source:null,line:null,column:null,name:null}};return b});
(function(e,d){if("object"===typeof exports){var c=require("./source-map-generator");module.exports=d(c)}else if("function"===typeof define&&define.amd)define(["source-map/source-map-generator"],d);else{var f=e.sourceMapModule=e.sourceMapModule||{},c=f["source-map-generator"];f["source-node"]=d(c)}})(this,function(e){function d(c,d,b,e){this.children=[];this.line=c;this.column=d;this.source=b;e&&this.add(e)}d.prototype.add=function(c){if(Array.isArray(c))c.forEach(function(c){this.add(c)},this);else if(c instanceof
d||"string"===typeof c)this.children.push(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this};d.prototype.walk=function(c){this.children.forEach(function(f){f instanceof d?f.walk(c):""!==f&&c(f,{source:this.source,line:this.line,column:this.column})},this)};d.prototype.join=function(c){var d,b,e=this.children.length;if(0<e){d=[];for(b=0;b<e-1;b++)d.push(this.children[b]),d.push(c);d.push(this.children[b]);this.children=d}return this};
d.prototype.replaceRight=function(c,f){var b=this.children[this.children.length-1];b instanceof d?b.replaceRight(c,f):"string"===typeof b?this.children[this.children.lenth-1]=b.replace(c,f):this.children.push("".replace(c,f));return this};d.prototype.toString=function(){var c="";this.walk(function(d){c+=d});return c};d.prototype.toStringWithSourceMap=function(c){var d="",b=1,g=0,a=new e(c);this.walk(function(c,j){d+=c;null!==j.source&&(null!==j.line&&null!==j.column)&&a.addMapping({source:j.source,
original:{line:j.line,column:j.column},generated:{line:b,column:g}});c.split("").forEach(function(a){"\n"===a?(b++,g=0):g++})});return{code:d,map:a}};return d});traceur.define("outputgeneration",function(){function e(c,b){return b.toUpperCase()}var d={},c=(0,eval)("this");Object.keys(c.sourceMapModule).forEach(function(f){var b=f.replace(/-(.)/g,e),f=c.sourceMapModule[f];"function"===typeof f&&(b=b.replace(/^(.)/,e));d[b]=f});return d});
(function(){function e(b,c){Object.keys(a[b]).forEach(function(a){i[a]=c})}function d(b){var c;Object.keys(a[b]).every(function(a){a=i[a];return void 0===c?(c=a,!0):a!==c?(c=null,!1):!0});return c}function c(a){a.forEach(f)}function f(a){if(a=/--([^=]+)(?:=(.+))?/.exec(a)){var b=a[1].replace(/-\w/g,function(a){return a[1].toUpperCase()}),c;switch(a[2]){case "":c=!0;break;case "false":c=!1;break;case "parse":c="parse";break;default:c=!0}if(b in i)i[b]=c;else throw Error("Unknown option: "+a[1]);}}
function b(b,c){a[c][b]=!0;Object.defineProperty(i,b,{get:function(){return h[b]===j[b]?h[b]:"parse"},set:function(a){"parse"===a?(h[b]=!0,j[b]=!1):h[b]=j[b]=Boolean(a)},enumerable:!0,configurable:!0});h[b]=!0;j[b]=!0}var g={es6:"es6",harmony:"harmony",experimental:"experimental"},a=Object.create(null);Object.keys(g).forEach(function(b){a[b]=Object.create(null)});var h=Object.create(null),j=Object.create(null),i={set es6(a){e(g.es6,Boolean(a))},get es6(){return d(g.es6)},set harmony(a){e(g.harmony,
Boolean(a))},get harmony(){return d(g.harmony)},set experimental(a){e(g.experimental,Boolean(a))},get experimental(){return d(g.experimental)}};Object.defineProperties(i,{parse:{value:h},transform:{value:j},reset:{value:function(a){Object.keys(i).forEach(function(b){i[b]=!a})}},fromString:{value:function(a){c(a.split(/\s+/))}},fromArgv:{value:c},setFromObject:{value:function(a){Object.keys(a).forEach(function(b){i[b]=a[b]})}}});b("blockBinding",g.es6);b("defaultParameters",g.es6);b("destructuring",
g.es6);b("restParameters",g.es6);b("spread",g.es6);b("isExpression",g.es6);b("quasi",g.es6);b("forOf",g.harmony);b("generatorComprehension",g.harmony);b("arrayComprehension",g.harmony);b("generators",g.harmony);b("modules",g.harmony);b("privateNames",g.harmony);b("arrowFunctions",g.experimental);b("cascadeExpression",g.experimental);b("collections",g.experimental);b("deferredFunctions",g.experimental);b("propertyMethods",g.experimental);b("propertyNameShorthand",g.experimental);b("propertyOptionalComma",
g.experimental);b("classes",g.experimental);i.debug=!0;i.sourceMaps=!0;i.freeVariableChecker=!0;i.validate=!0;traceur.options=i})();traceur.define("util",function(){return{evaluateStringLiteral:function(e){return eval(e.value)}}});
traceur.define("util",function(){function e(){this.values_=[];this.keys_=[]}e.prototype={has:function(d){return-1!=this.keys_.indexOf(d)},get:function(d){d=this.keys_.indexOf(d);return-1==d?void 0:this.values_[d]},put:function(d,c){var f=this.keys_.indexOf(d);-1==f?(this.keys_.push(d),this.values_.push(c)):this.values_[f]=c},addAll:function(d){for(var c=d.keys(),d=d.values(),f=0;f<c.length;f++)this.put(c[f],d[f])},remove:function(d){d=this.keys_.indexOf(d);-1!=d&&(this.keys_.splice(d,1),this.values_.splice(d,
1))},keys:function(){return this.keys_.concat()},values:function(){return this.values_.concat()}};return{ArrayMap:e}});
traceur.define("util",function(){function e(){this.keys_=Object.create(null);this.values_=Object.create(null)}e.prototype={put:function(d,c){var f=d.uid;this.keys_[f]=d;this.values_[f]=c},get:function(d){return this.values_[d.uid]},has:function(d){return d.uid in this.keys_},addAll:function(d){for(var c in d.keys_)this.keys_[c]=d.keys_[c],this.values_[c]=d.values_[c]},keys:function(){return Object.keys(this.keys_).map(function(d){return this.keys_[d]},this)},values:function(){return Object.keys(this.values_).map(function(d){return this.values_[d]},
this)},remove:function(d){d=d.uid;delete this.keys_[d];delete this.values_[d]}};return{ObjectMap:e}});traceur.define("util",function(){return{SourceRange:function(e,d){this.start=e;this.end=d}}});traceur.define("util",function(){function e(d,c,f,b){this.source=d;this.offset=c;this.line=f;this.column=b}e.prototype={toString:function(){return(this.source?this.source.name:"")+"("+(this.line+1)+", "+(this.column+1)+")"}};return{SourcePosition:e}});
traceur.define("util",function(){function e(d){var b=d[c.PATH];var e=b.replace(/\/\//.g,"/");if(".."==e||"."==e)b="";else if(e.indexOf("./"==-1)&&-1==e.indexOf("/."))b=e;else{for(var b="/"==e[0],e=e.split("/"),a=[],h=0;h<e.length;){var j=e[h++];"."==j?b&&h==e.length&&a.push(""):".."==j?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),b&&h==e.length&&a.push("")):(a.push(j),b=!0)}b=a.join("/")}d[c.PATH]=b;var b=d[c.SCHEME],e=d[c.USER_INFO],a=d[c.DOMAIN],h=d[c.PORT],j=d[c.PATH],i=d[c.QUERY_DATA],d=d[c.FRAGMENT],
k=[];b&&k.push(b,":");a&&(k.push("//"),e&&k.push(e,"@"),k.push(a),h&&k.push(":",h));j&&k.push(j);i&&k.push("?",i);d&&k.push("#",d);return k.join("")}var d=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),c={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};return{canonicalizeUrl:function(c){c=c.match(d);return e(c)},resolveUrl:function(f,b){if("@"===b[0])return b;var g=b.match(d),a=f.match(d);if(g[c.SCHEME])return e(g);
g[c.SCHEME]=a[c.SCHEME];for(var h=c.SCHEME;h<=c.PORT;h++)g[h]||(g[h]=a[h]);if("/"==g[c.PATH][0])return e(g);a=a[c.PATH];h=a.lastIndexOf("/");a=a.slice(0,h+1)+g[c.PATH];g[c.PATH]=a;return e(g)}}});
traceur.define("syntax",function(){return{TokenType:{END_OF_FILE:"End of File",ERROR:"error",IDENTIFIER:"identifier",BREAK:"break",CASE:"case",CATCH:"catch",CONTINUE:"continue",DEBUGGER:"debugger",DEFAULT:"default",DELETE:"delete",DO:"do",ELSE:"else",FINALLY:"finally",FOR:"for",FUNCTION:"function",IF:"if",IN:"in",INSTANCEOF:"instanceof",NEW:"new",RETURN:"return",SWITCH:"switch",THIS:"this",THROW:"throw",TRY:"try",TYPEOF:"typeof",VAR:"var",VOID:"void",WHILE:"while",WITH:"with",CLASS:"class",CONST:"const",
ENUM:"enum",EXPORT:"export",EXTENDS:"extends",IMPORT:"import",SUPER:"super",IMPLEMENTS:"implements",INTERFACE:"interface",LET:"let",PACKAGE:"package",PRIVATE:"private",PROTECTED:"protected",PUBLIC:"public",STATIC:"static",YIELD:"yield",OPEN_CURLY:"{",CLOSE_CURLY:"}",OPEN_PAREN:"(",CLOSE_PAREN:")",OPEN_SQUARE:"[",CLOSE_SQUARE:"]",PERIOD:".",PERIOD_OPEN_CURLY:".{",SEMI_COLON:";",COMMA:",",OPEN_ANGLE:"<",CLOSE_ANGLE:">",LESS_EQUAL:"<=",GREATER_EQUAL:">=",EQUAL_EQUAL:"==",NOT_EQUAL:"!=",EQUAL_EQUAL_EQUAL:"===",
NOT_EQUAL_EQUAL:"!==",PLUS:"+",MINUS:"-",STAR:"*",PERCENT:"%",PLUS_PLUS:"++",MINUS_MINUS:"--",LEFT_SHIFT:"<<",RIGHT_SHIFT:">>",UNSIGNED_RIGHT_SHIFT:">>>",AMPERSAND:"&",BAR:"|",CARET:"^",BANG:"!",TILDE:"~",AND:"&&",OR:"||",QUESTION:"?",COLON:":",EQUAL:"=",PLUS_EQUAL:"+=",MINUS_EQUAL:"-=",STAR_EQUAL:"*=",PERCENT_EQUAL:"%=",LEFT_SHIFT_EQUAL:"<<=",RIGHT_SHIFT_EQUAL:">>=",UNSIGNED_RIGHT_SHIFT_EQUAL:">>>=",AMPERSAND_EQUAL:"&=",BAR_EQUAL:"|=",CARET_EQUAL:"^=",SLASH:"/",SLASH_EQUAL:"/=",NULL:"null",TRUE:"true",
FALSE:"false",NUMBER:"number literal",STRING:"string literal",REGULAR_EXPRESSION:"regular expression literal",DOT_DOT_DOT:"...",AWAIT:"await",ARROW:"=>",BACK_QUOTE:"`",DOLLAR:"$",QUASI_LITERAL_PORTION:"quasi literal portion"}}});
traceur.define("syntax",function(){function e(c,b){this.type=c;this.location=b}var d=traceur.syntax.TokenType,c=traceur.assert;e.prototype={toString:function(){return this.type.toString()},asIdentifier:function(){c(this instanceof traceur.syntax.IdentifierToken);return this},asLiteral:function(){c(this instanceof traceur.syntax.LiteralToken);return this},isAssignmentOperator:function(){switch(this.type){case d.EQUAL:case d.STAR_EQUAL:case d.SLASH_EQUAL:case d.PERCENT_EQUAL:case d.PLUS_EQUAL:case d.MINUS_EQUAL:case d.LEFT_SHIFT_EQUAL:case d.RIGHT_SHIFT_EQUAL:case d.UNSIGNED_RIGHT_SHIFT_EQUAL:case d.AMPERSAND_EQUAL:case d.CARET_EQUAL:case d.BAR_EQUAL:return!0;
default:return!1}}};return{Token:e}});traceur.define("syntax",function(){function e(c,e,b){d.call(this,c,b);this.value=e}var d=traceur.syntax.Token;e.prototype=traceur.createObject(d.prototype,{toString:function(){return this.value}});return{LiteralToken:e}});traceur.define("syntax",function(){function e(e,b){d.call(this,c.IDENTIFIER,e);this.value=b}var d=traceur.syntax.Token,c=traceur.syntax.TokenType;e.prototype=traceur.createObject(d.prototype,{toString:function(){return this.value}});return{IdentifierToken:e}});
traceur.define("syntax",function(){function e(b,a){this.value=b;this.type=a}var d=traceur.syntax.TokenType,c={},f=Object.create(null),b=Object.create(null);e.prototype={toString:function(){return this.value}};"break case catch continue debugger default delete do else finally for function if in instanceof new return switch this throw try typeof var void while with class const enum export extends import super implements interface let package private protected public static yield null true false await".split(" ").forEach(function(g){var a=
g.toUpperCase();0===a.indexOf("__")&&(a=a.substring(2));g=new e(g,d[a]);c[a]=g;f[g.value]=g;b[g.type]=g});c.isKeyword=function(b){return"__proto__"!==b&&b in f};c.getTokenType=function(b){return"__proto__"==b?null:f[b].type};c.get=function(b){return"__proto__"==b?null:f[b]};return{Keywords:c}});
traceur.define("syntax",function(){function e(b){this.sourceFile_=b;var b=b.contents,c=[];c.push(0);for(var a=0;a<b.length;a++){var d=b.charAt(a),e;a:switch(d){case "\n":case "\r":case "\u2028":case "\u2029":e=!0;break a;default:e=!1}e&&(a<b.length&&("\r"==d&&"\n"==b.charAt(a+1))&&a++,c.push(a+1))}c.push(f);this.lineStartOffsets_=c}var d=traceur.util.SourceRange,c=traceur.util.SourcePosition,f=9007199254740992;e.prototype={getSourcePosition:function(b){var d=this.getLine(b);return new c(this.sourceFile_,
b,d,this.getColumn(d,b))},getLine:function(b){a:{for(var c=this.lineStartOffsets_,a=0,d=c.length-1;a<=d;){var e=a+d>>1;if(b>c[e])a=e+1;else if(b<c[e])d=e-1;else{b=e;break a}}b=-(a+1)}return 0<=b?b:-b-2},offsetOfLine:function(b){return this.lineStartOffsets_[b]},getColumn:function(b){var c,a;2<=arguments.length?(c=arguments[0],a=arguments[1]):(a=arguments[0],c=this.getLine(a));return a-this.offsetOfLine(c)},getSourceRange:function(b,c){return new d(this.getSourcePosition(b),this.getSourcePosition(c))}};
return{LineNumberTable:e}});traceur.define("syntax",function(){var e=traceur.syntax.LineNumberTable;return{SourceFile:function(d,c){this.name=d;this.contents=c;this.lineNumberTable=new e(this);this.uid=traceur.getUid()}}});
traceur.define("syntax",function(){function e(a,b,c){this.errorReporter_=a;this.source_=b;this.index_=c||0;this.currentTokens_=[]}function d(a){switch(a){case "\n":case "\r":case "\u2028":case "\u2029":return!0;default:return!1}}function c(a){a=a.charCodeAt(0);return 48<=a&&57>=a}function f(a){a=a.charCodeAt(0);return 48<=a&&57>=a||65<=a&&70>=a||97<=a&&102>=a}function b(a){switch(a){case "$":case "_":return!0;default:a:{for(var a=a.charCodeAt(0),b=0;b<k.length;b++){if(a<k[b][0]){a=!1;break a}if(a<=
k[b][1]){a=!0;break a}}a=!1}return a}}var g=traceur.syntax.IdentifierToken,a=traceur.syntax.Keywords,h=traceur.syntax.LiteralToken,j=traceur.syntax.Token,i=traceur.syntax.TokenType,k=[[65,90],[97,122],[170,170],[181,181],[186,186],[192,214],[216,246],[248,705],[710,721],[736,740],[748,748],[750,750],[880,884],[886,887],[890,893],[902,902],[904,906],[908,908],[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],[1369,1369],[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1646,1647],[1649,1747],
[1749,1749],[1765,1766],[1774,1775],[1786,1788],[1791,1791],[1808,1808],[1810,1839],[1869,1957],[1969,1969],[1994,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2112,2136],[2308,2361],[2365,2365],[2384,2384],[2392,2401],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482,2482],[2486,2489],[2493,2493],[2510,2510],[2524,2525],[2527,2529],[2544,2545],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],
[2654,2654],[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749,2749],[2768,2768],[2784,2785],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877,2877],[2908,2909],[2911,2913],[2929,2929],[2947,2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972,2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024,3024],[3077,3084],[3086,3088],[3090,3112],[3114,3123],[3125,3129],[3133,3133],[3160,3161],[3168,3169],[3205,3212],[3214,3216],
[3218,3240],[3242,3251],[3253,3257],[3261,3261],[3294,3294],[3296,3297],[3313,3314],[3333,3340],[3342,3344],[3346,3386],[3389,3389],[3406,3406],[3424,3425],[3450,3455],[3461,3478],[3482,3505],[3507,3515],[3517,3517],[3520,3526],[3585,3632],[3634,3635],[3648,3654],[3713,3714],[3716,3716],[3719,3720],[3722,3722],[3725,3725],[3732,3735],[3737,3743],[3745,3747],[3749,3749],[3751,3751],[3754,3755],[3757,3760],[3762,3763],[3773,3773],[3776,3780],[3782,3782],[3804,3805],[3840,3840],[3904,3911],[3913,3948],
[3976,3980],[4096,4138],[4159,4159],[4176,4181],[4186,4189],[4193,4193],[4197,4198],[4206,4208],[4213,4225],[4238,4238],[4256,4293],[4304,4346],[4348,4348],[4352,4680],[4682,4685],[4688,4694],[4696,4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800,4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6E3],
[6016,6067],[6103,6103],[6108,6108],[6176,6263],[6272,6312],[6314,6314],[6320,6389],[6400,6428],[6480,6509],[6512,6516],[6528,6571],[6593,6599],[6656,6678],[6688,6740],[6823,6823],[6917,6963],[6981,6987],[7043,7072],[7086,7087],[7104,7141],[7168,7203],[7245,7247],[7258,7293],[7401,7404],[7406,7409],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025,8025],[8027,8027],[8029,8029],[8031,8061],[8064,8116],[8118,8124],[8126,8126],[8130,8132],[8134,8140],[8144,8147],[8150,8155],
[8160,8172],[8178,8180],[8182,8188],[8305,8305],[8319,8319],[8336,8348],[8450,8450],[8455,8455],[8458,8467],[8469,8469],[8473,8477],[8484,8484],[8486,8486],[8488,8488],[8490,8493],[8495,8505],[8508,8511],[8517,8521],[8526,8526],[8544,8584],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11520,11557],[11568,11621],[11631,11631],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11823,11823],[12293,12295],[12321,12329],
[12337,12341],[12344,12348],[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12704,12730],[12784,12799],[13312,13312],[19893,19893],[19968,19968],[40907,40907],[40960,42124],[42192,42237],[42240,42508],[42512,42527],[42538,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783],[42786,42888],[42891,42894],[42896,42897],[42912,42921],[43002,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],[43259,43259],[43274,43301],
[43312,43334],[43360,43388],[43396,43442],[43471,43471],[43520,43560],[43584,43586],[43588,43595],[43616,43638],[43642,43642],[43648,43695],[43697,43697],[43701,43702],[43705,43709],[43712,43712],[43714,43714],[43739,43741],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44032,44032],[55203,55203],[55216,55238],[55243,55291],[63744,64045],[64048,64109],[64112,64217],[64256,64262],[64275,64279],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],
[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65276],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65856,65908],[66176,66204],[66208,66256],[66304,66334],[66352,66378],[66432,66461],[66464,66499],[66504,66511],[66513,66517],[66560,66717],[67584,67589],[67592,67592],[67594,67637],
[67639,67640],[67644,67644],[67647,67669],[67840,67861],[67872,67897],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68192,68220],[68352,68405],[68416,68437],[68448,68466],[68608,68680],[69635,69687],[69763,69807],[73728,74606],[74752,74850],[77824,78894],[92160,92728],[110592,110593],[119808,119892],[119894,119964],[119966,119967],[119970,119970],[119973,119974],[119977,119980],[119982,119993],[119995,119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],
[120094,120121],[120123,120126],[120128,120132],[120134,120134],[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628],[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[131072,131072],[173782,173782],[173824,173824],[177972,177972],[177984,177984],[178205,178205],[194560,195101]];e.prototype={errorReporter_:null,source_:null,currentTokens_:null,index_:-1,lastToken_:null,get lastToken(){return this.lastToken_},
getLineNumberTable_:function(){return this.getFile().lineNumberTable},getFile:function(){return this.source_},getOffset:function(){return 0==this.currentTokens_.length?this.index_:this.peekToken().location.start.offset},getPosition:function(){return this.getPosition_(this.getOffset())},getPosition_:function(a){return this.getLineNumberTable_().getSourcePosition(a)},getTokenRange_:function(a){return this.getLineNumberTable_().getSourceRange(a,this.index_)},nextToken:function(){this.peekToken();var a=
this.currentTokens_.shift();return this.lastToken_=a},clearTokenLookahead_:function(){this.index_=this.getOffset();this.currentTokens_.length=0},clearTokenAndWhitespaceLookahead_:function(){this.index_=this.lastToken.location.end.offset;this.currentTokens_.length=0},nextRegularExpressionLiteralToken:function(){return this.lastToken_=this.nextRegularExpressionLiteralToken_()},nextRegularExpressionLiteralToken_:function(){this.clearTokenLookahead_();var a=this.index_;this.nextChar_();if(!this.skipRegularExpressionBody_())return new h(i.REGULAR_EXPRESSION,
this.getTokenString_(a),this.getTokenRange_(a));if("/"!=this.peekChar_())return this.reportError_("Expected '/' in regular expression literal"),new h(i.REGULAR_EXPRESSION,this.getTokenString_(a),this.getTokenRange_(a));for(this.nextChar_();this.isIdentifierPart_(this.peekChar_());)this.nextChar_();return new h(i.REGULAR_EXPRESSION,this.getTokenString_(a),this.getTokenRange_(a))},skipRegularExpressionBody_:function(){if(!this.isRegularExpressionFirstChar_(this.peekChar_()))return this.reportError_("Expected regular expression first char"),
!1;if(!this.skipRegularExpressionChar_())return!1;for(;!this.isAtEnd_()&&this.isRegularExpressionChar_(this.peekChar_());)if(!this.skipRegularExpressionChar_())return!1;return!0},skipRegularExpressionChar_:function(){switch(this.peekChar_()){case "\\":return this.skipRegularExpressionBackslashSequence_();case "[":return this.skipRegularExpressionClass_();default:return this.nextChar_(),!0}},skipRegularExpressionBackslashSequence_:function(){this.nextChar_();if(d(this.peekChar_()))return this.reportError_("New line not allowed in regular expression literal"),
!1;this.nextChar_();return!0},skipRegularExpressionClass_:function(){for(this.nextChar_();!this.isAtEnd_()&&this.peekRegularExpressionClassChar_();)if(!this.skipRegularExpressionClassChar_())return!1;if("]"!=this.peekChar_())return this.reportError_("']' expected"),!1;this.nextChar_();return!0},peekRegularExpressionClassChar_:function(){return"]"!=this.peekChar_()&&!d(this.peekChar_())},skipRegularExpressionClassChar_:function(){if(this.peek_("\\"))return this.skipRegularExpressionBackslashSequence_();
this.nextChar_();return!0},isRegularExpressionFirstChar_:function(a){return this.isRegularExpressionChar_(a)&&"*"!=a},isRegularExpressionChar_:function(a){switch(a){case "/":return!1;case "\\":case "[":return!0;default:return!d(a)}},nextQuasiLiteralPortionToken:function(){this.clearTokenLookahead_();var a=this.index_;if(this.isAtEnd_())return this.lastToken_=this.createToken_(i.END_OF_FILE,a);this.skipQuasiLiteralPortion_();return this.lastToken_=new h(i.QUASI_LITERAL_PORTION,this.getTokenString_(a),
this.getTokenRange_(a))},nextQuasiSubstitutionToken:function(){this.clearTokenLookahead_();var a=this.index_,b=this.nextChar_();traceur.assert("$"==b);return this.lastToken_=this.createToken_(i.DOLLAR,a)},nextQuasiIdentifier:function(){this.clearTokenLookahead_();var a=this.index_,b=this.nextChar_();return this.scanIdentifierOrKeyword(a,b)},peekQuasiToken:function(a){this.clearTokenLookahead_();var c=this.peekChar_();switch(a){case i.IDENTIFIER:return b(c);case i.END_OF_FILE:return"\x00"==c;default:return c==
a}},skipQuasiLiteralPortion_:function(){for(;!this.isAtEnd_()&&!this.peek_("`")&&!(this.peek_("$")&&"{"==this.peekChar_(1));)this.peek_("\\")?this.skipStringLiteralEscapeSequence_():this.nextChar_()},peekToken:function(a){return this.peekToken_(a||0,!0)},peekTokenNoLineTerminator:function(a){this.clearTokenAndWhitespaceLookahead_();return this.peekToken_(a||0,!1)},peekToken_:function(a,b){for(;this.currentTokens_.length<=a;){var c=this.scanToken_(b);if(!c)return null;this.currentTokens_.push(c)}return this.currentTokens_[a]},
isAtEnd_:function(){return this.index_>=this.source_.contents.length},skipWhitespace_:function(a){for(;!this.isAtEnd_()&&this.peekWhitespace_(a);)this.nextChar_()},peekWhitespace_:function(a){var b;a:switch(this.peekChar_()){case "\t":case "\x0B":case "\f":case " ":case "\u00a0":case "\ufeff":case "\n":case "\r":case "\u2028":case "\u2029":b=!0;break a;default:b=!1}return b&&(a||!d(this.peekChar_()))},skipComments_:function(a){for(;this.skipComment_(a););},skipComment_:function(a){this.skipWhitespace_(a);
if(!this.isAtEnd_()&&this.peek_("/"))switch(this.peekChar_(1)){case "/":return this.skipSingleLineComment_(),!0;case "*":return this.skipMultiLineComment_(),!0}return!1},skipSingleLineComment_:function(){for(;!this.isAtEnd_()&&!d(this.peekChar_());)this.nextChar_()},skipMultiLineComment_:function(){this.nextChar_();for(this.nextChar_();!this.isAtEnd_()&&("*"!=this.peekChar_()||"/"!=this.peekChar_(1));)this.nextChar_();this.nextChar_();this.nextChar_()},scanToken_:function(a){this.skipComments_(a);
var b=this.index_;if(this.isAtEnd_())return this.createToken_(i.END_OF_FILE,b);var e=this.nextChar_();if(!a&&d(e))return null;switch(e){case "{":return this.createToken_(i.OPEN_CURLY,b);case "}":return this.createToken_(i.CLOSE_CURLY,b);case "(":return this.createToken_(i.OPEN_PAREN,b);case ")":return this.createToken_(i.CLOSE_PAREN,b);case "[":return this.createToken_(i.OPEN_SQUARE,b);case "]":return this.createToken_(i.CLOSE_SQUARE,b);case ".":return c(this.peekChar_())?this.scanNumberPostPeriod_(b):
this.peek_(".")&&"."==this.peekChar_(1)?(this.nextChar_(),this.nextChar_(),this.createToken_(i.DOT_DOT_DOT,b)):this.peek_("{")?(this.nextChar_(),this.createToken_(i.PERIOD_OPEN_CURLY,b)):this.createToken_(i.PERIOD,b);case ";":return this.createToken_(i.SEMI_COLON,b);case ",":return this.createToken_(i.COMMA,b);case "~":return this.createToken_(i.TILDE,b);case "?":return this.createToken_(i.QUESTION,b);case ":":return this.createToken_(i.COLON,b);case "<":switch(this.peekChar_()){case "<":return this.nextChar_(),
this.peek_("=")?(this.nextChar_(),this.createToken_(i.LEFT_SHIFT_EQUAL,b)):this.createToken_(i.LEFT_SHIFT,b);case "=":return this.nextChar_(),this.createToken_(i.LESS_EQUAL,b);default:return this.createToken_(i.OPEN_ANGLE,b)}case ">":switch(this.peekChar_()){case ">":switch(this.nextChar_(),this.peekChar_()){case "=":return this.nextChar_(),this.createToken_(i.RIGHT_SHIFT_EQUAL,b);case ">":return this.nextChar_(),this.peek_("=")?(this.nextChar_(),this.createToken_(i.UNSIGNED_RIGHT_SHIFT_EQUAL,b)):
this.createToken_(i.UNSIGNED_RIGHT_SHIFT,b);default:return this.createToken_(i.RIGHT_SHIFT,b)}case "=":return this.nextChar_(),this.createToken_(i.GREATER_EQUAL,b);default:return this.createToken_(i.CLOSE_ANGLE,b)}case "=":return this.peek_("=")?(this.nextChar_(),this.peek_("=")?(this.nextChar_(),this.createToken_(i.EQUAL_EQUAL_EQUAL,b)):this.createToken_(i.EQUAL_EQUAL,b)):this.peek_(">")?(this.nextChar_(),this.createToken_(i.ARROW,b)):this.createToken_(i.EQUAL,b);case "!":return this.peek_("=")?
(this.nextChar_(),this.peek_("=")?(this.nextChar_(),this.createToken_(i.NOT_EQUAL_EQUAL,b)):this.createToken_(i.NOT_EQUAL,b)):this.createToken_(i.BANG,b);case "*":return this.peek_("=")?(this.nextChar_(),this.createToken_(i.STAR_EQUAL,b)):this.createToken_(i.STAR,b);case "%":return this.peek_("=")?(this.nextChar_(),this.createToken_(i.PERCENT_EQUAL,b)):this.createToken_(i.PERCENT,b);case "^":return this.peek_("=")?(this.nextChar_(),this.createToken_(i.CARET_EQUAL,b)):this.createToken_(i.CARET,b);
case "/":return this.peek_("=")?(this.nextChar_(),this.createToken_(i.SLASH_EQUAL,b)):this.createToken_(i.SLASH,b);case "+":switch(this.peekChar_()){case "+":return this.nextChar_(),this.createToken_(i.PLUS_PLUS,b);case "=":return this.nextChar_(),this.createToken_(i.PLUS_EQUAL,b);default:return this.createToken_(i.PLUS,b)}case "-":switch(this.peekChar_()){case "-":return this.nextChar_(),this.createToken_(i.MINUS_MINUS,b);case "=":return this.nextChar_(),this.createToken_(i.MINUS_EQUAL,b);default:return this.createToken_(i.MINUS,
b)}case "&":switch(this.peekChar_()){case "&":return this.nextChar_(),this.createToken_(i.AND,b);case "=":return this.nextChar_(),this.createToken_(i.AMPERSAND_EQUAL,b);default:return this.createToken_(i.AMPERSAND,b)}case "|":switch(this.peekChar_()){case "|":return this.nextChar_(),this.createToken_(i.OR,b);case "=":return this.nextChar_(),this.createToken_(i.BAR_EQUAL,b);default:return this.createToken_(i.BAR,b)}case "`":return this.createToken_(i.BACK_QUOTE,b);case "0":return this.scanPostZero_(b);
case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":return this.scanPostDigit_(b);case '"':case "'":return this.scanStringLiteral_(b,e);default:return this.scanIdentifierOrKeyword(b,e)}},scanNumberPostPeriod_:function(a){this.skipDecimalDigits_();return this.scanExponentOfNumericLiteral_(a)},scanPostDigit_:function(a){this.skipDecimalDigits_();return this.scanFractionalNumericLiteral_(a)},scanPostZero_:function(a){switch(this.peekChar_()){case "x":case "X":return this.nextChar_(),
f(this.peekChar_())||this.reportError_("Hex Integer Literal must contain at least one digit"),this.skipHexDigits_(),new h(i.NUMBER,this.getTokenString_(a),this.getTokenRange_(a));case ".":return this.scanFractionalNumericLiteral_(a);case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":return this.scanPostDigit_(a);default:return new h(i.NUMBER,this.getTokenString_(a),this.getTokenRange_(a))}},createToken_:function(a,b){return new j(a,this.getTokenRange_(b))},scanUnicode:function(a){this.reportError_(this.getPosition_(a),
"Unimplemented: Unicode escape sequence");return this.createToken_(i.ERROR,a)},scanIdentifierOrKeyword:function(c,d){if("\\"==d)return this.scanUnicode(c,d);if(!b(d))return this.reportError_(this.getPosition_(c),"Character code '"+d.charCodeAt(0)+"' is not a valid identifier start char"),this.createToken_(i.ERROR,c);for(;this.isIdentifierPart_(this.peekChar_());)this.nextChar_();if("\\"==d)return this.scanUnicode(c,d);var e=this.source_.contents.substring(c,this.index_);return a.isKeyword(e)?new j(a.getTokenType(e),
this.getTokenRange_(c)):new g(this.getTokenRange_(c),e)},isIdentifierPart_:function(a){return b(a)||c(a)},scanStringLiteral_:function(a,b){for(;this.peekStringLiteralChar_(b);)if(!this.skipStringLiteralChar_())return new h(i.STRING,this.getTokenString_(a),this.getTokenRange_(a));this.peekChar_()!=b?this.reportError_(this.getPosition_(a),"Unterminated String Literal"):this.nextChar_();return new h(i.STRING,this.getTokenString_(a),this.getTokenRange_(a))},getTokenString_:function(a){return this.source_.contents.substring(a,
this.index_)},peekStringLiteralChar_:function(a){return!this.isAtEnd_()&&this.peekChar_()!=a&&!d(this.peekChar_())},skipStringLiteralChar_:function(){if(this.peek_("\\"))return this.skipStringLiteralEscapeSequence_();this.nextChar_();return!0},skipStringLiteralEscapeSequence_:function(){this.nextChar_();if(this.isAtEnd_())return this.reportError_("Unterminated string literal escape sequence"),!1;if(d(this.peekChar_()))return this.skipLineTerminator_(),!0;switch(this.nextChar_()){case "'":case '"':case "\\":case "b":case "f":case "n":case "r":case "t":case "v":case "0":return!0;
case "x":return this.skipHexDigit_()&&this.skipHexDigit_();case "u":return this.skipHexDigit_()&&this.skipHexDigit_()&&this.skipHexDigit_()&&this.skipHexDigit_();default:return!0}},skipHexDigit_:function(){if(!f(this.peekChar_()))return this.reportError_("Hex digit expected"),!1;this.nextChar_();return!0},skipLineTerminator_:function(){"\r"==this.nextChar_()&&this.peek_("\n")&&this.nextChar_()},scanFractionalNumericLiteral_:function(a){this.peek_(".")&&(this.nextChar_(),this.skipDecimalDigits_());
return this.scanExponentOfNumericLiteral_(a)},scanExponentOfNumericLiteral_:function(a){switch(this.peekChar_()){case "e":case "E":this.nextChar_();switch(this.peekChar_()){case "+":case "-":this.nextChar_()}c(this.peekChar_())||this.reportError_("Exponent part must contain at least one digit");this.skipDecimalDigits_()}return new h(i.NUMBER,this.getTokenString_(a),this.getTokenRange_(a))},skipDecimalDigits_:function(){for(;c(this.peekChar_());)this.nextChar_()},skipHexDigits_:function(){for(;f(this.peekChar_());)this.nextChar_()},
nextChar_:function(){return this.isAtEnd_()?"\x00":this.source_.contents.charAt(this.index_++)},peek_:function(a){return this.peekChar_()==a},peekChar_:function(a){return this.source_.contents.charAt(this.index_+(a||0))||"\x00"},reportError_:function(a){var b,c;1==arguments.length?(b=this.getPosition(),c=arguments[0]):(b=arguments[0],c=arguments[1]);this.errorReporter_.reportError(b,c)}};return{Scanner:e}});
traceur.define("syntax",function(){return{PredefinedName:{$ARGUMENTS:"$arguments",$THAT:"$that",$VALUE:"$value",ADD_CONTINUATION:"addContinuation",APPLY:"apply",ARGUMENTS:"arguments",ARRAY:"Array",BIND:"bind",CALL:"call",CALLBACK:"callback",CAPTURED_ARGUMENTS:"$arguments",CAPTURED_THIS:"$this",CAUGHT_EXCEPTION:"$caughtException",CLOSE:"close",CONFIGURABLE:"configurable",CONSTRUCTOR:"constructor",CONTINUATION:"$continuation",CREATE:"create",CREATE_CALLBACK:"$createCallback",CREATE_CLASS:"createClass",
CREATE_ERRBACK:"$createErrback",CREATE_PROMISE:"createPromise",CURRENT:"current",DEFERRED:"Deferred",DEFINE_PROPERTY:"defineProperty",ELEMENT_DELETE:"elementDelete",ELEMENT_GET:"elementGet",ELEMENT_HAS:"elementHas",ELEMENT_SET:"elementSet",ENUMERABLE:"enumerable",ERR:"$err",ERRBACK:"errback",FIELD_INITIALIZER_METHOD:"$field_initializer_",FINALLY_FALL_THROUGH:"$finallyFallThrough",FREEZE:"freeze",FROM:"from",GET:"get",GET_ITERATOR:"getIterator",GET_MODULE_INSTANCE_BY_URL:"getModuleInstanceByUrl",GET_PROPERTY:"getProperty",
INIT:"$init",IS:"is",ISNT:"isnt",IS_DONE:"isDone",ITERATOR:"iterator",LENGTH:"length",MARK_AS_GENERATOR:"markAsGenerator",MARK_METHODS:"markMethods",MODULE:"module",MODULES:"modules",MOVE_NEXT:"moveNext",NEW:"new",NEW_STATE:"$newState",OBJECT:"Object",OBJECT_NAME:"Object",OF:"of",PARAM:"$param",PROTO:"__proto__",PROTOTYPE:"prototype",PUSH:"push",RAW:"raw",REQUIRE:"require",REQUIRED:"required",REQUIRES:"requires",RESOLVE:"resolve",RESULT:"$result",RUNTIME:"runtime",SET:"set",SLICE:"slice",SPREAD:"spread",
SPREAD_NEW:"spreadNew",STATE:"$state",STORED_EXCEPTION:"$storedException",SUPER_CALL:"superCall",SUPER_GET:"superGet",SUPER_SET:"superSet",THEN:"then",THIS:"this",TRACEUR:"traceur",TYPE_ERROR:"TypeError",UNDEFINED:"undefined",VALUE:"value",WAIT_TASK:"$waitTask",WRITABLE:"writable",getParameterName:function(e){return"$"+e}}}});
traceur.define("syntax.trees",function(){function e(c,b){this.type=c;this.location=b}var d={},c=Object.create(null);e.stripLocation=function(c,b){return"location"===c?void 0:b};e.prototype={isNull:function(){return this.type===d.NULL_TREE},isPattern:function(){switch(this.type){case d.ARRAY_PATTERN:case d.OBJECT_PATTERN:return!0;case d.PAREN_EXPRESSION:return this.expression.isPattern();default:return!1}},isLeftHandSideExpression:function(){switch(this.type){case d.THIS_EXPRESSION:case d.CLASS_EXPRESSION:case d.SUPER_EXPRESSION:case d.IDENTIFIER_EXPRESSION:case d.LITERAL_EXPRESSION:case d.ARRAY_LITERAL_EXPRESSION:case d.OBJECT_LITERAL_EXPRESSION:case d.NEW_EXPRESSION:case d.MEMBER_EXPRESSION:case d.MEMBER_LOOKUP_EXPRESSION:case d.CALL_EXPRESSION:case d.FUNCTION_DECLARATION:case d.QUASI_LITERAL_EXPRESSION:return!0;
case d.PAREN_EXPRESSION:return this.expression.isLeftHandSideExpression();default:return!1}},isArrowFunctionExpression:function(){switch(this.type){case d.ARRAY_COMPREHENSION:case d.ARRAY_LITERAL_EXPRESSION:case d.ARROW_FUNCTION_EXPRESSION:case d.BINARY_OPERATOR:case d.CALL_EXPRESSION:case d.CASCADE_EXPRESSION:case d.CLASS_EXPRESSION:case d.CONDITIONAL_EXPRESSION:case d.FUNCTION_DECLARATION:case d.GENERATOR_COMPREHENSION:case d.IDENTIFIER_EXPRESSION:case d.LITERAL_EXPRESSION:case d.MEMBER_EXPRESSION:case d.MEMBER_LOOKUP_EXPRESSION:case d.MISSING_PRIMARY_EXPRESSION:case d.NEW_EXPRESSION:case d.OBJECT_LITERAL_EXPRESSION:case d.PAREN_EXPRESSION:case d.POSTFIX_EXPRESSION:case d.QUASI_LITERAL_EXPRESSION:case d.SUPER_EXPRESSION:case d.THIS_EXPRESSION:case d.UNARY_EXPRESSION:return!0;
default:return!1}},isMemberExpression:function(){switch(this.type){case d.THIS_EXPRESSION:case d.CLASS_EXPRESSION:case d.SUPER_EXPRESSION:case d.IDENTIFIER_EXPRESSION:case d.LITERAL_EXPRESSION:case d.ARRAY_LITERAL_EXPRESSION:case d.OBJECT_LITERAL_EXPRESSION:case d.PAREN_EXPRESSION:case d.QUASI_LITERAL_EXPRESSION:case d.FUNCTION_DECLARATION:case d.MEMBER_LOOKUP_EXPRESSION:case d.MEMBER_EXPRESSION:case d.CALL_EXPRESSION:case d.CASCADE_EXPRESSION:return!0;case d.NEW_EXPRESSION:return null!=this.args}return!1},
isExpression:function(){return this.isArrowFunctionExpression()||this.type==d.COMMA_EXPRESSION},isAssignmentOrSpread:function(){return this.isArrowFunctionExpression()||this.type==d.SPREAD_EXPRESSION},isRestParameter:function(){return this.type==d.REST_PARAMETER},isSpreadPatternElement:function(){return this.type==d.SPREAD_PATTERN_ELEMENT},isStatement:function(){return this.isSourceElement()},isStatementStandard:function(){switch(this.type){case d.BLOCK:case d.AWAIT_STATEMENT:case d.VARIABLE_STATEMENT:case d.EMPTY_STATEMENT:case d.EXPRESSION_STATEMENT:case d.IF_STATEMENT:case d.DO_WHILE_STATEMENT:case d.WHILE_STATEMENT:case d.FOR_OF_STATEMENT:case d.FOR_IN_STATEMENT:case d.FOR_STATEMENT:case d.CONTINUE_STATEMENT:case d.BREAK_STATEMENT:case d.RETURN_STATEMENT:case d.YIELD_STATEMENT:case d.WITH_STATEMENT:case d.SWITCH_STATEMENT:case d.LABELLED_STATEMENT:case d.THROW_STATEMENT:case d.TRY_STATEMENT:case d.DEBUGGER_STATEMENT:return!0;
default:return!1}},isSourceElement:function(){switch(this.type){case d.FUNCTION_DECLARATION:case d.CLASS_DECLARATION:return!0}return this.isStatementStandard()},isProgramElement:function(){switch(this.type){case d.VARIABLE_DECLARATION:case d.FUNCTION_DECLARATION:case d.IMPORT_DECLARATION:case d.MODULE_DECLARATION:case d.MODULE_DEFINITION:case d.EXPORT_DECLARATION:case d.CLASS_DECLARATION:return!0}return this.isStatementStandard()}};return{getTreeNameForType:function(d){if(d in c)return c[d];var b;
b=("_"+d.toString().toLowerCase()).replace(/_(\w)/g,function(b,a){return a.toUpperCase()});return c[d]=b},ParseTree:e,ParseTreeType:d}});traceur.define("syntax.trees",function(){function e(){if(f)return f;d.call(this,c.NULL_TREE,null);f=this}var d=traceur.syntax.trees.ParseTree,c=traceur.syntax.trees.ParseTreeType,f;c.NULL_TREE="NULL_TREE";e.prototype=Object.create(d.prototype);return{NullTree:e}});
traceur.define("syntax.trees",function(){function e(b){var c=arguments,a=function(a){traceur.syntax.trees.ParseTree.call(this,this.type,a);for(var b=0;b<c.length;b++)this[c[b]]=arguments[b+1]};a.prototype=Object.create(d.prototype);return a}var d=traceur.syntax.trees.ParseTree,c=traceur.syntax.trees.ParseTreeType,f={ArgumentList:e("args"),ArrayComprehension:e("expression","comprehensionForList","ifExpression"),ArrayLiteralExpression:e("elements"),ArrayPattern:e("elements"),ArrowFunctionExpression:e("formalParameters",
"functionBody"),AwaitStatement:e("identifier","expression"),BinaryOperator:e("left","operator","right"),BindThisParameter:e("expression"),BindingIdentifier:e("identifierToken"),BindingElement:e("binding","initializer"),Block:e("statements"),BreakStatement:e("name"),CallExpression:e("operand","args"),CascadeExpression:e("operand","expressions"),CaseClause:e("expression","statements"),Catch:e("binding","catchBody"),ClassDeclaration:e("name","superClass","elements"),ClassExpression:e("name","superClass",
"elements"),CommaExpression:e("expressions"),ComprehensionFor:e("left","iterator"),ConditionalExpression:e("condition","left","right"),ContinueStatement:e("name"),DebuggerStatement:e(),DefaultClause:e("statements"),DoWhileStatement:e("body","condition"),EmptyStatement:e(),ExportDeclaration:e("declaration"),ExportMappingList:e("paths"),ExportMapping:e("moduleExpression","specifierSet"),ExportSpecifier:e("lhs","rhs"),ExportSpecifierSet:e("specifiers"),ExpressionStatement:e("expression"),Finally:e("block"),
ForOfStatement:e("initializer","collection","body"),ForInStatement:e("initializer","collection","body"),FormalParameterList:e("parameters"),ForStatement:e("initializer","condition","increment","body"),FunctionDeclaration:e("name","isGenerator","formalParameterList","functionBody"),GeneratorComprehension:e("expression","comprehensionForList","ifExpression"),GetAccessor:e("propertyName","body"),IdentifierExpression:e("identifierToken"),IfStatement:e("condition","ifClause","elseClause"),ImportDeclaration:e("importPathList"),
ImportBinding:e("moduleExpression","importSpecifierSet"),ImportSpecifier:e("lhs","rhs"),ImportSpecifierSet:e("specifiers"),LabelledStatement:e("name","statement"),LiteralExpression:e("literalToken"),MemberExpression:e("operand","memberName"),MemberLookupExpression:e("operand","memberExpression"),MissingPrimaryExpression:e("nextToken"),ModuleDeclaration:e("specifiers"),ModuleDefinition:e("name","elements"),ModuleExpression:e("reference","identifiers"),ModuleRequire:e("url"),ModuleSpecifier:e("identifier",
"expression"),NewExpression:e("operand","args"),ObjectLiteralExpression:e("propertyNameAndValues"),ObjectPatternField:e("identifier","element"),ObjectPattern:e("fields"),ParenExpression:e("expression"),PostfixExpression:e("operand","operator"),Program:e("programElements"),PropertyMethodAssignment:e("name","isGenerator","formalParameterList","functionBody"),PropertyNameAssignment:e("name","value"),PropertyNameShorthand:e("name"),QuasiLiteralExpression:e("operand","elements"),QuasiLiteralPortion:e("value"),
QuasiSubstitution:e("expression"),RequiresMember:e("name"),RestParameter:e("identifier"),ReturnStatement:e("expression"),SetAccessor:e("propertyName","parameter","body"),SpreadExpression:e("expression"),SpreadPatternElement:e("lvalue"),SuperExpression:e(),SwitchStatement:e("expression","caseClauses"),ThisExpression:e(),ThrowStatement:e("value"),TryStatement:e("body","catchBlock","finallyBlock"),UnaryExpression:e("operator","operand"),VariableDeclarationList:e("declarationType","declarations"),VariableDeclaration:e("lvalue",
"initializer"),VariableStatement:e("declarations"),WhileStatement:e("condition","body"),WithStatement:e("expression","body"),YieldStatement:e("expression","isYieldFor")};Object.keys(f).forEach(function(b){var d=b[0]+b.slice(1).replace(/([A-Z])/g,"_$1").toUpperCase();f[b].prototype.type=c[d]=d});return f});
traceur.define("util",function(){function e(){}e.prototype={hadError_:!1,reportError:function(d,c,e){this.hadError_=!0;var b=Array.prototype.slice.call(arguments,2);this.reportMessageInternal(d,"error",c,b)},reportWarning:function(d,c,e){var b=Array.prototype.slice.call(arguments,2);this.reportMessageInternal(d,"warn",c,b)},reportMessageInternal:function(d,c,e,b){d&&(e=d+": "+e);console[c].apply(console,[e].concat(b))},hadError:function(){return this.hadError_},clearError:function(){this.hadError_=
!1}};e.format=function(d,c,e){var b=0,c=c.replace(/%./g,function(c){switch(c){case "%s":return e&&e[b++];case "%%":return"%"}return c});d&&(c=d+": "+c);return c};return{ErrorReporter:e}});traceur.define("util",function(){function e(){}e.prototype=traceur.createObject(traceur.util.ErrorReporter.prototype,{reportMessageInternal:function(){}});return{MutedErrorReporter:e}});
traceur.define("util",function(){function e(){this.errors=[]}var d=traceur.util.ErrorReporter;e.prototype=traceur.createObject(d.prototype,{reportMessageInternal:function(c,e,b,g){"error"===e&&this.errors.push(d.format(c,b,g))},hasMatchingError:function(c){return this.errors.some(function(d){return-1!==d.indexOf(c)})}});return{TestErrorReporter:e}});
traceur.define("codegeneration",function(){function e(a){return new X(a,null)}function d(a){return new W(null,a)}function c(a){return new T(O.STRING,JSON.stringify(a),null)}function f(a){return new X(a?O.TRUE:O.FALSE,null)}function b(){return new T(O.NULL,"null",null)}function g(a){return new T(O.NUMBER,String(a),null)}function a(a){a=n(a);return new N(null,a,null)}function h(b,c){if("string"==typeof b){var d=Ua(arguments,a);return new aa(null,d)}if("number"==typeof b)return j(b,!1);if(b instanceof
W)return new aa(null,[a(b)]);d=b.map(a);return new aa(null,d)}function j(b,c){for(var d=[],e=0;e<b;e++){var j=P.getParameterName(e);d.push(e==b-1&&c?L(j):a(j))}return new aa(null,d)}function i(){return new aa(null,[])}function k(a,b){if("number"==typeof a)return l(h(a));var c;c=a instanceof Array?a:ca(arguments);return new U(null,c)}function l(a){a=a.parameters.map(function(a){return a.isRestParameter()?Q(u(a.identifier)):a});return new U(null,a)}function p(){return new U(null,[])}function o(a){return new Y(null,
a)}function m(a,b){return new Z(null,a,e(O.EQUAL),b)}function n(a){if("string"===typeof a)a=d(a);else{if(a.type===R.BINDING_IDENTIFIER)return a;if(a.type===R.IDENTIFIER_EXPRESSION)return new $(a.location,a.identifierToken)}return new $(null,a)}function s(a){a instanceof V&&(a=ca(arguments));return new fa(null,a)}function q(a){return B(r(a))}function r(a){return v(E(t(i(),a)),D())}function x(a,b){var c=b||p();return new ga(null,a,c)}function v(a,b,c,d){c instanceof V&&(c=ca(arguments,2));var e=[];
e.push(b);e.push.apply(e,c);return x(A(a,P.CALL),k(e))}function w(a,b){return B(m(a,b))}function B(a){return new oa(null,a)}function t(a,b){return new ea(null,null,!1,a,b)}function u(a){"string"==typeof a?a=d(a):a instanceof $&&(a=a.identifierToken);return new ya(null,a)}function y(a){return new ha(null,c(a))}function C(a){return new ha(null,f(a))}function z(a){return new ha(null,g(a))}function A(a,b,c){if("string"==typeof a||a instanceof W)a=u(a);"string"==typeof b&&(b=d(b));for(var e=new za(null,
a,b),j=2;j<arguments.length;j++)e=A(e,arguments[j]);return e}function D(a){return a?A(D(),a):new Aa(null)}function F(a){a instanceof V&&(a=ca(arguments));return new Ba(null,a)}function E(a){return new Ca(null,a)}function H(a,b){"string"==typeof a&&(a=d(a));return new Da(null,a,b)}function L(a){return new Ea(null,n(a))}function Q(a){return new Fa(null,a)}function K(a,b){return new Va(null,a,b)}function I(a,b,c){return b instanceof Array?new Ta(null,a,b):I(a,[J(b,c)])}function J(a,b){if(!(a instanceof
V)||a.type!==R.BINDING_IDENTIFIER&&a.type!==R.OBJECT_PATTERN&&a.type!==R.ARRAY_PATTERN)a=n(a);return new Wa(null,a,b)}function M(a,b,c){if(a instanceof Ta)return new Xa(null,a);a=I(a,b,c);return M(a)}var W=traceur.syntax.IdentifierToken,T=traceur.syntax.LiteralToken,R=traceur.syntax.ParseTreeType,P=traceur.syntax.PredefinedName,X=traceur.syntax.Token,O=traceur.syntax.TokenType,V=traceur.syntax.trees.ParseTree,R=traceur.syntax.trees.ParseTreeType,U=traceur.syntax.trees.ArgumentList,Y=traceur.syntax.trees.ArrayLiteralExpression,
ba=traceur.syntax.trees.ArrayPattern,Z=traceur.syntax.trees.BinaryOperator,N=traceur.syntax.trees.BindingElement,$=traceur.syntax.trees.BindingIdentifier,fa=traceur.syntax.trees.Block,pa=traceur.syntax.trees.BreakStatement,ga=traceur.syntax.trees.CallExpression,ia=traceur.syntax.trees.CascadeExpression,ja=traceur.syntax.trees.CaseClause,qa=traceur.syntax.trees.Catch,ra=traceur.syntax.trees.ClassDeclaration,sa=traceur.syntax.trees.CommaExpression,ta=traceur.syntax.trees.ConditionalExpression,ua=traceur.syntax.trees.ContinueStatement,
va=traceur.syntax.trees.DefaultClause,ka=traceur.syntax.trees.DoWhileStatement,wa=traceur.syntax.trees.EmptyStatement,oa=traceur.syntax.trees.ExpressionStatement,la=traceur.syntax.trees.Finally,ma=traceur.syntax.trees.ForInStatement,na=traceur.syntax.trees.ForOfStatement,S=traceur.syntax.trees.ForStatement,aa=traceur.syntax.trees.FormalParameterList,ea=traceur.syntax.trees.FunctionDeclaration,Ga=traceur.syntax.trees.GetAccessor,ya=traceur.syntax.trees.IdentifierExpression,Ha=traceur.syntax.trees.IfStatement,
Ia=traceur.syntax.trees.LabelledStatement,ha=traceur.syntax.trees.LiteralExpression,za=traceur.syntax.trees.MemberExpression,Ja=traceur.syntax.trees.MemberLookupExpression,Ka=traceur.syntax.trees.NewExpression,Ba=traceur.syntax.trees.ObjectLiteralExpression,La=traceur.syntax.trees.ObjectPattern,xa=traceur.syntax.trees.ObjectPatternField,Ca=traceur.syntax.trees.ParenExpression,Ma=traceur.syntax.trees.PostfixExpression,Na=traceur.syntax.trees.Program,Da=traceur.syntax.trees.PropertyNameAssignment,Ea=
traceur.syntax.trees.RestParameter,Oa=traceur.syntax.trees.ReturnStatement,Pa=traceur.syntax.trees.YieldStatement,Qa=traceur.syntax.trees.SetAccessor,Fa=traceur.syntax.trees.SpreadExpression,Ra=traceur.syntax.trees.SpreadPatternElement,Sa=traceur.syntax.trees.SwitchStatement,Aa=traceur.syntax.trees.ThisExpression,G=traceur.syntax.trees.ThrowStatement,da=traceur.syntax.trees.TryStatement,Va=traceur.syntax.trees.UnaryExpression,Ta=traceur.syntax.trees.VariableDeclarationList,Wa=traceur.syntax.trees.VariableDeclaration,
Xa=traceur.syntax.trees.VariableStatement,Ya=traceur.syntax.trees.WhileStatement,Za=traceur.syntax.trees.WithStatement,ca=Array.prototype.slice.call.bind(Array.prototype.slice),Ua=Array.prototype.map.call.bind(Array.prototype.map);return{ParseTreeFactory:{createArgumentList:k,createArgumentListFromParameterList:l,createArrayLiteralExpression:o,createArrayPattern:function(a){return new ba(null,a)},createAssignStateStatement:function(a){return w(u(P.STATE),z(a))},createAssignmentExpression:m,createAssignmentStatement:w,
createBinaryOperator:function(a,b,c){return new Z(null,a,b,c)},createBindingIdentifier:n,createBlock:s,createBooleanLiteral:C,createBooleanLiteralToken:f,createBoundCall:function(a,b){return x(A(a.type==R.FUNCTION_DECLARATION?E(a):a,P.BIND),k(b))},createBreakStatement:function(a){return new pa(null,a||null)},createCallCall:v,createCallCallStatement:function(a,b,c){var d=ca(arguments,2);return B(v(a,b,d))},createCallExpression:x,createCallStatement:function(a,b){return b?B(x(a,b)):B(x(a))},createCaseClause:function(a,
b){return new ja(null,a,b)},createCatch:function(a,b){a=n(a);return new qa(null,a,b)},createCascadeExpression:function(a,b){return new ia(null,a,b)},createClassDeclaration:function(a,b,c){return new ra(null,a,b,c)},createCommaExpression:function(a){return new sa(null,a)},createConditionalExpression:function(a,b,c){return new ta(null,a,b,c)},createContinueStatement:function(a){return new ua(null,a||null)},createDefaultClause:function(a){return new va(null,a)},createDefineProperty:function(a,b,c){var d=
Object.keys(c).map(function(a){var b=c[a];b instanceof V||(b=C(!!b));return H(a,b)});return x(A(P.OBJECT,P.DEFINE_PROPERTY),k(a,y(b),F(d)))},createDoWhileStatement:function(a,b){return new ka(null,a,b)},createEmptyArgumentList:p,createEmptyArrayLiteralExpression:function(){return o([])},createEmptyBlock:function(){return s([])},createEmptyList:function(){return[]},createEmptyParameterList:i,createEmptyParameters:function(){return[]},createEmptyStatement:function(){return new wa(null)},createExpressionStatement:B,
createFalseLiteral:function(){return C(!1)},createFinally:function(a){return new la(null,a)},createForInStatement:function(a,b,c){return new ma(null,a,b,c)},createForOfStatement:function(a,b,c){return new na(null,a,b,c)},createForStatement:function(a,b,c,d){return new S(null,a,b,c,d)},createBindingElement:a,createFunctionDeclaration:function(a,b,c){null!==a&&(a=n(a));return new ea(null,a,!1,b,c)},createFunctionExpression:t,createFunctionExpressionFormals:function(a,b){a instanceof Array&&(a=h(a));
return new ea(null,null,!1,a,b)},createGetAccessor:function(a,b){"string"==typeof a&&(a=d(a));return new Ga(null,a,b)},createIdentifierExpression:u,createIdentifierToken:d,createIfStatement:function(a,b,c){return new Ha(null,a,b,c||null)},createLabelledStatement:function(a,b){return new Ia(null,a,b)},createMemberExpression:A,createMemberLookupExpression:function(a,b){return new Ja(null,a,b)},createNewExpression:function(a,b){return new Ka(null,a,b)},createNullLiteral:function(){return new ha(null,
b())},createNullLiteralToken:b,createNumberLiteral:z,createNumberLiteralToken:g,createObjectFreeze:function(a){return x(A(P.OBJECT,P.FREEZE),k(a))},createObjectLiteralExpression:F,createObjectPattern:function(a){return new La(null,a)},createObjectPatternField:function(a,b){a=n(a);return new xa(null,a,b)},createOperatorToken:e,createParameterList:h,createParameterListWithRestParams:function(a){return j(a,!0)},createParameterReference:function(a){return u(P.getParameterName(a))},createParenExpression:E,
createPostfixExpression:function(a,b){return new Ma(null,a,b)},createProgram:function(a){return new Na(null,a)},createPropertyNameAssignment:H,createPropertyNameToken:function(a){return d(a)},createRestParameter:L,createReturnStatement:function(a){return new Oa(null,a)},createScopedBlock:q,createScopedExpression:r,createScopedStatements:function(a){a instanceof V&&(a=ca(arguments));return q(s(a))},createSetAccessor:function(a,b,c){"string"==typeof a&&(a=d(a));"string"==typeof b&&(b=d(b));return new Qa(null,
a,b,c)},createSpreadExpression:Q,createSpreadPatternElement:function(a){return new Ra(null,a)},createStatementList:function(a,b){if(a instanceof Array){var c=a.slice();c.push.apply(c,ca(arguments,1));return c}return ca(arguments)},createStringLiteral:y,createStringLiteralToken:c,createSwitchStatement:function(a,b){return new Sa(null,a,b)},createThisExpression:D,createThrowStatement:function(a){return new G(null,a)},createTrueLiteral:function(){return C(!0)},createTryStatement:function(a,b,c){var d,
e;2<arguments.length?(d=arguments[1],e=arguments[2]):(d=null,e=arguments[1]);return new da(null,a,d,e)},createUnaryExpression:K,createUndefinedExpression:function(){return u(P.UNDEFINED)},createUseStrictDirective:function(){return B(y("use strict"))},createVariableDeclaration:J,createVariableDeclarationList:I,createVariableStatement:M,createVoid0:function(){return E(K(e(O.VOID),z(0)))},createWhileStatement:function(a,b){return new Ya(null,a,b)},createWithStatement:function(a,b){return new Za(null,
a,b)},createYieldStatement:function(a,b){return new Pa(null,a,b)}}}});
traceur.define("syntax",function(){function e(a,b,c){this.errorReporter_=a;this.scanner_=b instanceof traceur.syntax.Scanner?b:new traceur.syntax.Scanner(a,b,c)}var d=traceur.util.MutedErrorReporter,c=traceur.syntax.Keywords,f=traceur.syntax.PredefinedName,b=traceur.util.SourceRange,g=traceur.syntax.Token,a=traceur.syntax.TokenType,h=traceur.syntax.trees.ArgumentList,j=traceur.syntax.trees.ArrayComprehension,i=traceur.syntax.trees.ArrayLiteralExpression,k=traceur.syntax.trees.ArrayPattern,l=traceur.syntax.trees.ArrowFunctionExpression,
p=traceur.syntax.trees.AwaitStatement,o=traceur.syntax.trees.BinaryOperator,m=traceur.syntax.trees.BindingElement,n=traceur.syntax.trees.BindingIdentifier,s=traceur.syntax.trees.Block,q=traceur.syntax.trees.BreakStatement,r=traceur.syntax.trees.CallExpression,x=traceur.syntax.trees.CaseClause,v=traceur.syntax.trees.Catch,w=traceur.syntax.trees.CascadeExpression,B=traceur.syntax.trees.ClassDeclaration,t=traceur.syntax.trees.ClassExpression,u=traceur.syntax.trees.CommaExpression,y=traceur.syntax.trees.ComprehensionFor,
C=traceur.syntax.trees.ConditionalExpression,z=traceur.syntax.trees.ContinueStatement,A=traceur.syntax.trees.DebuggerStatement,D=traceur.syntax.trees.DefaultClause,F=traceur.syntax.trees.DoWhileStatement,E=traceur.syntax.trees.EmptyStatement,H=traceur.syntax.trees.ExportDeclaration,L=traceur.syntax.trees.ExportMapping,Q=traceur.syntax.trees.ExportMappingList,K=traceur.syntax.trees.ExportSpecifier,I=traceur.syntax.trees.ExportSpecifierSet,J=traceur.syntax.trees.ExpressionStatement,M=traceur.syntax.trees.Finally,
W=traceur.syntax.trees.ForOfStatement,T=traceur.syntax.trees.ForInStatement,R=traceur.syntax.trees.ForStatement,P=traceur.syntax.trees.FormalParameterList,X=traceur.syntax.trees.FunctionDeclaration,O=traceur.syntax.trees.GeneratorComprehension,V=traceur.syntax.trees.GetAccessor,U=traceur.syntax.trees.IdentifierExpression,Y=traceur.syntax.IdentifierToken,ba=traceur.syntax.trees.IfStatement,Z=traceur.syntax.trees.ImportDeclaration,N=traceur.syntax.trees.ImportBinding,$=traceur.syntax.trees.ImportSpecifier,
fa=traceur.syntax.trees.ImportSpecifierSet,pa=traceur.syntax.trees.LabelledStatement,ga=traceur.syntax.trees.LiteralExpression,ia=traceur.syntax.trees.MemberExpression,ja=traceur.syntax.trees.MemberLookupExpression,qa=traceur.syntax.trees.MissingPrimaryExpression,ra=traceur.syntax.trees.ModuleDeclaration,sa=traceur.syntax.trees.ModuleDefinition,ta=traceur.syntax.trees.ModuleExpression,ua=traceur.syntax.trees.ModuleRequire,va=traceur.syntax.trees.ModuleSpecifier,ka=traceur.syntax.trees.NewExpression,
wa=traceur.syntax.trees.NullTree,oa=traceur.syntax.trees.ObjectLiteralExpression,la=traceur.syntax.trees.ObjectPattern,ma=traceur.syntax.trees.ObjectPatternField,na=traceur.syntax.trees.ParenExpression,S=traceur.syntax.trees.ParseTreeType,aa=traceur.syntax.trees.PostfixExpression,ea=traceur.syntax.trees.Program,Ga=traceur.syntax.trees.PropertyMethodAssignment,ya=traceur.syntax.trees.PropertyNameAssignment,Ha=traceur.syntax.trees.PropertyNameShorthand,Ia=traceur.syntax.trees.QuasiLiteralExpression,
ha=traceur.syntax.trees.QuasiLiteralPortion,za=traceur.syntax.trees.QuasiSubstitution,Ja=traceur.syntax.trees.RestParameter,Ka=traceur.syntax.trees.ReturnStatement,Ba=traceur.syntax.trees.SetAccessor,La=traceur.syntax.trees.SpreadExpression,xa=traceur.syntax.trees.SpreadPatternElement,Ca=traceur.syntax.trees.SuperExpression,Ma=traceur.syntax.trees.SwitchStatement,Na=traceur.syntax.trees.ThisExpression,Da=traceur.syntax.trees.ThrowStatement,Ea=traceur.syntax.trees.TryStatement,Oa=traceur.syntax.trees.UnaryExpression,
Pa=traceur.syntax.trees.VariableDeclaration,Qa=traceur.syntax.trees.VariableDeclarationList,Fa=traceur.syntax.trees.VariableStatement,Ra=traceur.syntax.trees.WhileStatement,Sa=traceur.syntax.trees.WithStatement,Aa=traceur.syntax.trees.YieldStatement,G=traceur.options.parse,da={NO_IN:"NO_IN",NORMAL:"NORMAL"};e.prototype={allowYield_:!1,parseProgram:function(b){var c=this.getTreeStartLocation_(),b=this.parseProgramElements_(!!b);this.eat_(a.END_OF_FILE);return new ea(this.getTreeLocation_(c),b)},parseProgramElements_:function(b){for(var c=
[];!this.peek_(a.END_OF_FILE);){var d=this.parseProgramElement_(b);if(!d)return null;c.push(d)}return c},peekProgramElement_:function(){return this.peekFunction_()||this.peekVariableDeclarationList_()||this.peekImportDeclaration_()||this.peekExportDeclaration_()||this.peekModuleDeclaration_()||this.peekClassDeclaration_()||this.peekStatement_()},parseProgramElement_:function(a){return this.peekVariableDeclarationList_()?this.parseVariableStatement_():this.peekImportDeclaration_(a)?this.parseImportDeclaration_(a):
this.peekExportDeclaration_(a)?this.parseExportDeclaration_(a):this.peekModuleDeclaration_(a)?this.parseModuleDeclaration_(a):this.parseStatement_()},peekModuleDefinition_:function(){return this.peekPredefinedString_(f.MODULE)&&this.peek_(a.IDENTIFIER,1)&&this.peek_(a.OPEN_CURLY,2)},parseModuleDefinition_:function(b){var c=this.getTreeStartLocation_();this.eatId_();var d=this.eatId_();this.eat_(a.OPEN_CURLY);for(var e=[];this.peekModuleElement_();)e.push(this.parseModuleElement_(b));this.eat_(a.CLOSE_CURLY);
return new sa(this.getTreeLocation_(c),d,e)},parseModuleSpecifier_:function(a){var b=this.getTreeStartLocation_(),c=this.eatId_();this.eatId_(f.FROM);a=this.parseModuleExpression_(a);return new va(this.getTreeLocation_(b),c,a)},parseModuleExpression_:function(b){for(var c=this.getTreeStartLocation_(),b=this.parseModuleReference_(b),d=[];this.peek_(a.PERIOD)&&this.peekIdName_(1);)this.eat_(a.PERIOD),d.push(this.eatIdName_());return new ta(this.getTreeLocation_(c),b,d)},parseModuleReference_:function(b){var c=
this.getTreeStartLocation_();return b&&this.peek_(a.STRING)?(b=this.eat_(a.STRING),new ua(this.getTreeLocation_(c),b)):this.parseIdentifierExpression_()},peekModuleElement_:function(){return this.peekProgramElement_()},parseModuleElement_:function(a){return this.parseProgramElement_(a)},peekImportDeclaration_:function(){return G.modules&&this.peek_(a.IMPORT)},parseImportDeclaration_:function(b){var c=this.getTreeStartLocation_();this.eat_(a.IMPORT);var d=[];for(d.push(this.parseImportBinding_(b));this.peek_(a.COMMA);)this.eat_(a.COMMA),
d.push(this.parseImportBinding_(b));this.eatPossibleImplicitSemiColon_();return new Z(this.getTreeLocation_(c),d)},parseImportBinding_:function(a){var b=this.getTreeStartLocation_(),c=this.parseImportSpecifierSet_();this.eatId_(f.FROM);a=this.parseModuleExpression_(a);return new N(this.getTreeLocation_(b),a,c)},parseImportSpecifierSet_:function(){if(this.peek_(a.OPEN_CURLY)){var b=this.getTreeStartLocation_();this.eat_(a.OPEN_CURLY);for(var c=[this.parseImportSpecifier_()];this.peek_(a.COMMA);){this.eat_(a.COMMA);
if(this.peek_(a.CLOSE_CURLY))break;c.push(this.parseImportSpecifier_())}this.eat_(a.CLOSE_CURLY);return new fa(this.getTreeLocation_(b),c)}return this.peek_(a.STAR)?(c=this.eat_(a.STAR),new fa(this.getTreeLocation_(b),c)):this.parseIdentifierNameExpression_()},parseImportSpecifier_:function(){var b=this.getTreeStartLocation_(),c=this.eatIdName_(),d=null;this.peek_(a.COLON)&&(this.eat_(a.COLON),d=this.eatId_());return new $(this.getTreeLocation_(b),c,d)},peekExportDeclaration_:function(){return G.modules&&
this.peek_(a.EXPORT)},parseExportDeclaration_:function(b){var c=this.getTreeStartLocation_();this.eat_(a.EXPORT);switch(this.peekType_()){case a.CONST:case a.LET:case a.VAR:b=this.parseVariableStatement_();break;case a.FUNCTION:b=this.parseFunctionDeclaration_();break;case a.CLASS:b=this.parseClassDeclaration_();break;case a.IDENTIFIER:b=this.peekModuleDeclaration_(b)?this.parseModuleDeclaration_(b):this.parseExportMappingList_();break;case a.OPEN_CURLY:b=this.parseExportMappingList_();break;default:return this.reportError_("Unexpected symbol '"+
this.peekToken_()+"'"),null}return new H(this.getTreeLocation_(c),b)},parseExportMappingList_:function(){for(var b=this.getTreeStartLocation_(),c=[this.parseExportMapping_()];this.peek_(a.COMMA);)this.eat_(a.COMMA),c.push(this.parseExportMapping_());this.eatPossibleImplicitSemiColon_();return new Q(this.getTreeEndLocation_(b),c)},peekExportMapping_:function(){return this.peek_(a.OPEN_CURLY)||this.peekId_()},parseExportMapping_:function(){var a=this.getTreeStartLocation_(),b=this.parseExportSpecifierSet_(),
c=null;this.peekPredefinedString_(f.FROM)&&(this.eatId_(f.FROM),c=this.parseModuleExpression_(!1));return new L(this.getTreeLocation_(a),c,b)},peekExportSpecifierSet_:function(){return this.peek_(a.OPEN_CURLY)||this.peekIdName_()},parseExportSpecifierSet_:function(){if(!this.peek_(a.OPEN_CURLY))return this.parseIdentifierExpression_();var b=this.getTreeStartLocation_();this.eat_(a.OPEN_CURLY);for(var c=[this.parseExportSpecifier_()];this.peek_(a.COMMA);){this.eat_(a.COMMA);if(this.peek_(a.CLOSE_CURLY))break;
c.push(this.parseExportSpecifier_())}this.eat_(a.CLOSE_CURLY);return new I(this.getTreeLocation_(b),c)},parseExportSpecifier_:function(){var b=this.getTreeStartLocation_(),c,d=null;this.peek_(a.COLON,1)?(c=this.eatIdName_(),this.eat_(a.COLON),d=this.eatId_()):c=this.eatId_();return new K(this.getTreeLocation_(b),c,d)},peekId_:function(b){return this.peek_(a.IDENTIFIER,b)},peekIdName_:function(b){b=this.peekType_(b);return b==a.IDENTIFIER||c.isKeyword(b)},peekModuleDeclaration_:function(){return G.modules&&
this.peekPredefinedString_(f.MODULE)&&this.peek_(a.IDENTIFIER,1)&&(this.peekPredefinedString_(f.FROM,2)||this.peek_(a.OPEN_CURLY,2))},parseModuleDeclaration_:function(b){if(this.peekModuleDefinition_(b))return this.parseModuleDefinition_(b);var c=this.getTreeStartLocation_();this.eatId_();for(var d=[this.parseModuleSpecifier_(b)];this.peek_(a.COMMA);)this.eat_(a.COMMA),d.push(this.parseModuleSpecifier_(b));this.eatPossibleImplicitSemiColon_();return new ra(this.getTreeLocation_(c),d)},peekClassDeclaration_:function(){return G.classes&&
this.peek_(a.CLASS)&&this.peekId_(1)},parseClassShared_:function(b){var c=this.getTreeStartLocation_();this.eat_(a.CLASS);var d=null;if(b==B||!this.peek_(a.EXTENDS)&&!this.peek_(a.OPEN_CURLY))d=this.parseBindingIdentifier_();var e=null;this.peek_(a.EXTENDS)&&(this.eat_(a.EXTENDS),e=this.parseAssignmentExpression_());this.eat_(a.OPEN_CURLY);var j=this.parseClassElements_();this.eat_(a.CLOSE_CURLY);return new b(this.getTreeLocation_(c),d,e,j)},parseClassDeclaration_:function(){return this.parseClassShared_(B)},
parseClassExpression_:function(){return this.parseClassShared_(t)},parseClassElements_:function(){for(var a=[];this.peekClassElement_();)a.push(this.parseClassElement_());return a},peekClassElement_:function(){return G.classes&&(this.peekPropertyMethodAssignment_()||this.peekGetAccessor_()||this.peekSetAccessor_())},parseClassElement_:function(){return this.peekGetAccessor_()?this.parseGetAccessor_():this.peekSetAccessor_()?this.parseSetAccessor_():this.parsePropertyMethodAssignment_()},parseSourceElement_:function(){return this.peekFunction_()?
this.parseFunctionDeclaration_():this.peekClassDeclaration_()?this.parseClassDeclaration_():this.peekLet_()?this.parseVariableStatement_():this.parseStatementStandard_()},peekLet_:function(){return G.blockBinding&&this.peek_(a.LET)},peekConst_:function(){return G.blockBinding&&this.peek_(a.CONST)},peekSourceElement_:function(){return this.peekFunction_()||this.peekClassDeclaration_()||this.peekStatementStandard_()||this.peekLet_()},peekFunction_:function(b){b=b||0;return this.peek_(a.FUNCTION,b)||
this.peek_(a.POUND,b)},parseFunctionDeclaration_:function(){var b=this.getTreeStartLocation_();this.nextToken_();var c=null!=this.eatOpt_(a.STAR);return this.parseFunctionDeclarationTail_(b,c,this.parseBindingIdentifier_())},parseFunctionDeclarationTail_:function(b,c,d){this.eat_(a.OPEN_PAREN);var e=this.parseFormalParameterList_();this.eat_(a.CLOSE_PAREN);var j=this.parseFunctionBody_(c);return new X(this.getTreeLocation_(b),d,c,e,j)},parseFunctionExpression_:function(){var b=this.getTreeStartLocation_();
this.nextToken_();var c=null!=this.eatOpt_(a.STAR),d=null;this.peekBindingIdentifier_()&&(d=this.parseBindingIdentifier_());this.eat_(a.OPEN_PAREN);var e=this.parseFormalParameterList_();this.eat_(a.CLOSE_PAREN);var j=this.parseFunctionBody_(c);return new X(this.getTreeLocation_(b),d,c,e,j)},parseFormalParameterList_:function(){var b=this.getTreeStartLocation_(),c;this.peekRest_()?c=[this.parseRestParameter_()]:(c=this.parseFormalsList_(),this.peek_(a.COMMA)&&(this.eat_(a.COMMA),c.push(this.parseRestParameter_())));
return new P(this.getTreeLocation_(b),c)},parseFormalsList_:function(){for(var b=[],c="ALLOWED";this.peekFormalParameter_();){var d=this.parseFormalParameter_(c);d.initializer&&(c="REQUIRED");b.push(d);this.peek_(a.COMMA)&&this.peekFormalParameter_(1)&&this.eat_(a.COMMA)}return b},peekFormalParameter_:function(a){a=a||0;return this.peekBindingIdentifier_(a)||this.peekPattern_(a)},parseFormalParameter_:function(a){return this.parseBindingElement_(a)},parseRestParameter_:function(){var b=this.getTreeStartLocation_();
this.eat_(a.DOT_DOT_DOT);return new Ja(this.getTreeLocation_(b),this.parseBindingIdentifier_())},parseFunctionBody_:function(b){var c=this.getTreeStartLocation_();this.eat_(a.OPEN_CURLY);var d=this.allowYield_;this.allowYield_=b;b=this.parseSourceElementList_();this.allowYield_=d;this.eat_(a.CLOSE_CURLY);return new s(this.getTreeLocation_(c),b)},parseSourceElementList_:function(){for(var a=[];this.peekSourceElement_();){var b=this.parseSourceElement_();if(!b)return null;a.push(b)}return a},parseSpreadExpression_:function(){if(!G.spread)return this.parseMissingPrimaryExpression_();
var b=this.getTreeStartLocation_();this.eat_(a.DOT_DOT_DOT);var c=this.parseAssignmentExpression_();return new La(this.getTreeLocation_(b),c)},parseStatement_:function(){return this.parseSourceElement_()},parseStatementStandard_:function(){switch(this.peekType_()){case a.OPEN_CURLY:return this.parseBlock_();case a.AWAIT:return this.parseAwaitStatement_();case a.CONST:if(!G.blockBinding)return this.reportUnexpectedToken_(),null;case a.VAR:return this.parseVariableStatement_();case a.SEMI_COLON:return this.parseEmptyStatement_();
case a.IF:return this.parseIfStatement_();case a.DO:return this.parseDoWhileStatement_();case a.WHILE:return this.parseWhileStatement_();case a.FOR:return this.parseForStatement_();case a.CONTINUE:return this.parseContinueStatement_();case a.BREAK:return this.parseBreakStatement_();case a.RETURN:return this.parseReturnStatement_();case a.YIELD:return this.parseYieldStatement_();case a.WITH:return this.parseWithStatement_();case a.SWITCH:return this.parseSwitchStatement_();case a.THROW:return this.parseThrowStatement_();
case a.TRY:return this.parseTryStatement_();case a.DEBUGGER:return this.parseDebuggerStatement_();default:return this.peekLabelledStatement_()?this.parseLabelledStatement_():this.parseExpressionStatement_()}},peekStatement_:function(){return this.peekSourceElement_()},peekStatementStandard_:function(){switch(this.peekType_()){case a.CONST:return G.blockBinding;case a.YIELD:return G.generators;case a.AWAIT:return G.deferredFunctions;case a.OPEN_CURLY:case a.VAR:case a.SEMI_COLON:case a.IF:case a.DO:case a.WHILE:case a.FOR:case a.CONTINUE:case a.BREAK:case a.RETURN:case a.WITH:case a.SWITCH:case a.THROW:case a.TRY:case a.DEBUGGER:case a.IDENTIFIER:case a.THIS:case a.CLASS:case a.SUPER:case a.NUMBER:case a.STRING:case a.NULL:case a.TRUE:case a.SLASH:case a.SLASH_EQUAL:case a.FALSE:case a.OPEN_SQUARE:case a.OPEN_PAREN:case a.NEW:case a.DELETE:case a.VOID:case a.TYPEOF:case a.PLUS_PLUS:case a.MINUS_MINUS:case a.PLUS:case a.MINUS:case a.TILDE:case a.BANG:return!0;
default:return!1}},parseBlock_:function(){var b=this.getTreeStartLocation_();this.eat_(a.OPEN_CURLY);var c=this.parseSourceElementList_();this.eat_(a.CLOSE_CURLY);return new s(this.getTreeLocation_(b),c)},parseStatementList_:function(){for(var a=[];this.peekStatement_();)a.push(this.parseStatement_());return a},parseVariableStatement_:function(){var a=this.getTreeStartLocation_(),b=this.parseVariableDeclarationList_();this.checkInitializers_(b);this.eatPossibleImplicitSemiColon_();return new Fa(this.getTreeLocation_(a),
b)},parseVariableDeclarationList_:function(b,c){var d=b||da.NORMAL,e=c||"REQUIRED",j=this.peekType_();switch(j){case a.CONST:case a.LET:if(!G.blockBinding)debugger;case a.VAR:this.eat_(j);break;default:throw Error("unreachable");}var ea=this.getTreeStartLocation_(),f=[];for(f.push(this.parseVariableDeclaration_(j,d,e));this.peek_(a.COMMA);)this.eat_(a.COMMA),f.push(this.parseVariableDeclaration_(j,d,e));return new Qa(this.getTreeLocation_(ea),j,f)},parseVariableDeclaration_:function(b,c,d){var b=
"OPTIONAL"!==d,d=this.getTreeStartLocation_(),e;e=this.peekPattern_()?this.parseBindingPattern_():this.parseBindingIdentifier_();var j=null;this.peek_(a.EQUAL)?j=this.parseInitializer_(c):e.isPattern()&&b&&this.reportError_("destructuring must have an initializer");return new Pa(this.getTreeLocation_(d),e,j)},parseInitializer_:function(b){this.eat_(a.EQUAL);return this.parseAssignmentExpression_(b)},parseEmptyStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.SEMI_COLON);return new E(this.getTreeLocation_(b))},
parseExpressionStatement_:function(){var a=this.getTreeStartLocation_(),b=this.parseExpression_();this.eatPossibleImplicitSemiColon_();return new J(this.getTreeLocation_(a),b)},parseIfStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.IF);this.eat_(a.OPEN_PAREN);var c=this.parseExpression_();this.eat_(a.CLOSE_PAREN);var d=this.parseStatement_(),e=null;this.peek_(a.ELSE)&&(this.eat_(a.ELSE),e=this.parseStatement_());return new ba(this.getTreeLocation_(b),c,d,e)},parseDoWhileStatement_:function(){var b=
this.getTreeStartLocation_();this.eat_(a.DO);var c=this.parseStatement_();this.eat_(a.WHILE);this.eat_(a.OPEN_PAREN);var d=this.parseExpression_();this.eat_(a.CLOSE_PAREN);this.eatPossibleImplicitSemiColon_();return new F(this.getTreeLocation_(b),c,d)},parseWhileStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.WHILE);this.eat_(a.OPEN_PAREN);var c=this.parseExpression_();this.eat_(a.CLOSE_PAREN);var d=this.parseStatement_();return new Ra(this.getTreeLocation_(b),c,d)},parseForStatement_:function(){function b(a,
c){1<a.declarations.length&&d.reportError_(c+" statement may not have more than one variable declaration");var e=a.declarations[0];e.lvalue.isPattern()&&e.initializer&&d.reportError_(e.initializer.location,"initializer is not allowed in "+c+" loop with pattern")}var c=this.getTreeStartLocation_();this.eat_(a.FOR);this.eat_(a.OPEN_PAREN);var d=this;if(this.peekVariableDeclarationList_()){var e=this.parseVariableDeclarationList_(da.NO_IN,"OPTIONAL");if(this.peek_(a.IN)){b(e,"for-in");var j=e.declarations[0];
G.blockBinding&&(e.declarationType==a.LET||e.declarationType==a.CONST)&&null!=j.initializer&&this.reportError_("let/const in for-in statement may not have initializer");return this.parseForInStatement_(c,e)}if(this.peekOf_())return b(e,"for-of"),j=e.declarations[0],null!=j.initializer&&this.reportError_("for-of statement may not have initializer"),this.parseForOfStatement_(c,e);this.checkInitializers_(e);return this.parseForStatement2_(c,e)}if(this.peek_(a.SEMI_COLON))return this.parseForStatement2_(c,
null);e=this.parseExpression_(da.NO_IN);return e.isLeftHandSideExpression()&&(this.peek_(a.IN)||this.peekOf_())?(e=this.transformLeftHandSideExpression_(e),this.peekOf_()?this.parseForOfStatement_(c,e):this.parseForInStatement_(c,e)):this.parseForStatement2_(c,e)},peekOf_:function(){return G.forOf&&this.peekPredefinedString_(f.OF)},parseForOfStatement_:function(b,c){this.eatId_();var d=this.parseExpression_();this.eat_(a.CLOSE_PAREN);var e=this.parseStatement_();return new W(this.getTreeLocation_(b),
c,d,e)},checkInitializers_:function(b){if(G.blockBinding&&b.declarationType==a.CONST)for(var c=b.declarationType,d=0;d<b.declarations.length&&this.checkInitializer_(c,b.declarations[d]);d++);},checkInitializer_:function(b,c){return G.blockBinding&&b==a.CONST&&null==c.initializer?(this.reportError_("const variables must have an initializer"),!1):!0},peekVariableDeclarationList_:function(){switch(this.peekType_()){case a.VAR:return!0;case a.CONST:case a.LET:return G.blockBinding;default:return!1}},
parseForStatement2_:function(b,c){this.eat_(a.SEMI_COLON);var d=null;this.peek_(a.SEMI_COLON)||(d=this.parseExpression_());this.eat_(a.SEMI_COLON);var e=null;this.peek_(a.CLOSE_PAREN)||(e=this.parseExpression_());this.eat_(a.CLOSE_PAREN);var j=this.parseStatement_();return new R(this.getTreeLocation_(b),c,d,e,j)},parseForInStatement_:function(b,c){this.eat_(a.IN);var d=this.parseExpression_();this.eat_(a.CLOSE_PAREN);var e=this.parseStatement_();return new T(this.getTreeLocation_(b),c,d,e)},parseContinueStatement_:function(){var b=
this.getTreeStartLocation_();this.eat_(a.CONTINUE);var c=null;this.peekImplicitSemiColon_()||(c=this.eatIdOpt_());this.eatPossibleImplicitSemiColon_();return new z(this.getTreeLocation_(b),c)},parseBreakStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.BREAK);var c=null;this.peekImplicitSemiColon_()||(c=this.eatIdOpt_());this.eatPossibleImplicitSemiColon_();return new q(this.getTreeLocation_(b),c)},parseReturnStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.RETURN);
var c=null;this.peekImplicitSemiColon_()||(c=this.parseExpression_());this.eatPossibleImplicitSemiColon_();return new Ka(this.getTreeLocation_(b),c)},parseYieldStatement_:function(){if(!this.allowYield_)return this.parseMissingPrimaryExpression_("'yield' expressions are only allowed inside 'function*'");var b=this.getTreeStartLocation_();this.eat_(a.YIELD);var c=null,d=null!=this.eatOpt_(a.STAR);if(d||!this.peekImplicitSemiColon_())c=this.parseExpression_();this.eatPossibleImplicitSemiColon_();return new Aa(this.getTreeLocation_(b),
c,d)},parseAwaitStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.AWAIT);var c=null;this.peek_(a.IDENTIFIER)&&this.peek_(a.EQUAL,1)&&(c=this.eatId_(),this.eat_(a.EQUAL));var d=this.parseExpression_();this.eatPossibleImplicitSemiColon_();return new p(this.getTreeLocation_(b),c,d)},parseWithStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.WITH);this.eat_(a.OPEN_PAREN);var c=this.parseExpression_();this.eat_(a.CLOSE_PAREN);var d=this.parseStatement_();return new Sa(this.getTreeLocation_(b),
c,d)},parseSwitchStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.SWITCH);this.eat_(a.OPEN_PAREN);var c=this.parseExpression_();this.eat_(a.CLOSE_PAREN);this.eat_(a.OPEN_CURLY);var d=this.parseCaseClauses_();this.eat_(a.CLOSE_CURLY);return new Ma(this.getTreeLocation_(b),c,d)},parseCaseClauses_:function(){for(var b=!1,c=[];;){var d=this.getTreeStartLocation_();switch(this.peekType_()){case a.CASE:this.eat_(a.CASE);var e=this.parseExpression_();this.eat_(a.COLON);var j=this.parseCaseStatementsOpt_();
c.push(new x(this.getTreeLocation_(d),e,j));break;case a.DEFAULT:b?this.reportError_("Switch statements may have at most one default clause"):b=!0;this.eat_(a.DEFAULT);this.eat_(a.COLON);c.push(new D(this.getTreeLocation_(d),this.parseCaseStatementsOpt_()));break;default:return c}}},parseCaseStatementsOpt_:function(){return this.parseStatementList_()},parseLabelledStatement_:function(){var b=this.getTreeStartLocation_(),c=this.eatId_();this.eat_(a.COLON);return new pa(this.getTreeLocation_(b),c,this.parseStatement_())},
peekLabelledStatement_:function(){return this.peek_(a.IDENTIFIER)&&this.peek_(a.COLON,1)},parseThrowStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.THROW);var c=null;this.peekImplicitSemiColon_()||(c=this.parseExpression_());this.eatPossibleImplicitSemiColon_();return new Da(this.getTreeLocation_(b),c)},parseTryStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.TRY);var c=this.parseBlock_(),d=null;this.peek_(a.CATCH)&&(d=this.parseCatch_());var e=null;this.peek_(a.FINALLY)&&
(e=this.parseFinallyBlock_());null==d&&null==e&&this.reportError_("'catch' or 'finally' expected.");return new Ea(this.getTreeLocation_(b),c,d,e)},parseCatch_:function(){var b=this.getTreeStartLocation_();this.eat_(a.CATCH);this.eat_(a.OPEN_PAREN);var c;c=this.peekPattern_()?this.parseBindingPattern_():this.parseBindingIdentifier_();this.eat_(a.CLOSE_PAREN);var d=this.parseBlock_();return new v(this.getTreeLocation_(b),c,d)},parseFinallyBlock_:function(){var b=this.getTreeStartLocation_();this.eat_(a.FINALLY);
var c=this.parseBlock_();return new M(this.getTreeLocation_(b),c)},parseDebuggerStatement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.DEBUGGER);this.eatPossibleImplicitSemiColon_();return new A(this.getTreeLocation_(b))},parsePrimaryExpression_:function(){switch(this.peekType_()){case a.CLASS:return G.classes?this.parseClassExpression_():this.parseMissingPrimaryExpression_();case a.SUPER:return this.parseSuperExpression_();case a.THIS:return this.parseThisExpression_();case a.IDENTIFIER:return this.parseIdentifierExpression_();
case a.NUMBER:case a.STRING:case a.TRUE:case a.FALSE:case a.NULL:return this.parseLiteralExpression_();case a.OPEN_SQUARE:return this.parseArrayLiteral_();case a.OPEN_CURLY:return this.parseObjectLiteral_();case a.OPEN_PAREN:return this.parseParenExpression_();case a.SLASH:case a.SLASH_EQUAL:return this.parseRegularExpressionLiteral_();case a.BACK_QUOTE:return this.parseQuasiLiteral_(null);default:return this.parseMissingPrimaryExpression_()}},parseSuperExpression_:function(){var b=this.getTreeStartLocation_();
this.eat_(a.SUPER);return new Ca(this.getTreeLocation_(b))},parseThisExpression_:function(){var b=this.getTreeStartLocation_();this.eat_(a.THIS);return new Na(this.getTreeLocation_(b))},peekBindingIdentifier_:function(a){return this.peekId_(a||0)},parseBindingIdentifier_:function(){var a=this.getTreeStartLocation_(),b=this.eatId_();return new n(this.getTreeLocation_(a),b)},parseIdentifierExpression_:function(){var a=this.getTreeStartLocation_(),b=this.eatId_();return new U(this.getTreeLocation_(a),
b)},parseIdentifierNameExpression_:function(){var a=this.getTreeStartLocation_(),b=this.eatIdName_();return new U(this.getTreeLocation_(a),b)},parseLiteralExpression_:function(){var a=this.getTreeStartLocation_(),b=this.nextLiteralToken_();return new ga(this.getTreeLocation_(a),b)},nextLiteralToken_:function(){return this.nextToken_()},parseRegularExpressionLiteral_:function(){var a=this.getTreeStartLocation_(),b=this.nextRegularExpressionLiteralToken_();return new ga(this.getTreeLocation_(a),b)},
peekSpread_:function(){return this.peek_(a.DOT_DOT_DOT)},parseArrayLiteral_:function(){var b=this.getTreeStartLocation_(),c,d=[],e=G.arrayComprehension;for(this.eat_(a.OPEN_SQUARE);this.peek_(a.COMMA)||this.peekSpread_()||this.peekAssignmentExpression_();){this.peek_(a.COMMA)?(c=new wa,e=!1):c=this.parseAssignmentOrSpread_();if(e&&this.peek_(a.FOR))return this.parseArrayComprehension_(b,c);e=!1;d.push(c);this.peek_(a.CLOSE_SQUARE)||this.eat_(a.COMMA)}this.eat_(a.CLOSE_SQUARE);return new i(this.getTreeLocation_(b),
d)},parseArrayComprehension_:function(b,c){var d=this.parseComprehensionForList_(),e=this.parseComprehensionIf_();this.eat_(a.CLOSE_SQUARE);return new j(this.getTreeLocation_(b),c,d,e)},parseObjectLiteral_:function(){var b=this.getTreeStartLocation_(),c=[];for(this.eat_(a.OPEN_CURLY);this.peekPropertyAssignment_();)if(this.peekGetAccessor_())c.push(this.parseGetAccessor_()),this.eatPropertyOptionalComma_();else if(this.peekSetAccessor_())c.push(this.parseSetAccessor_()),this.eatPropertyOptionalComma_();
else if(this.peekPropertyMethodAssignment_())c.push(this.parsePropertyMethodAssignment_()),this.eatPropertyOptionalComma_();else if(c.push(this.parsePropertyNameAssignment_()),null==this.eatOpt_(a.COMMA))break;this.eat_(a.CLOSE_CURLY);return new oa(this.getTreeLocation_(b),c)},eatPropertyOptionalComma_:function(){G.propertyOptionalComma?this.eatOpt_(a.COMMA):this.eat_(a.COMMA)},peekPropertyAssignment_:function(){var b=+this.peek_(a.STAR);return this.peekPropertyName_(b)},peekPropertyName_:function(b){b=
this.peekType_(b);switch(b){case a.IDENTIFIER:case a.STRING:case a.NUMBER:return!0;default:return c.isKeyword(b)}},peekGetAccessor_:function(){return this.peekPredefinedString_(f.GET)&&this.peekPropertyName_(1)},peekPredefinedString_:function(b,c){var d=c||0;return this.peek_(a.IDENTIFIER,d)&&this.peekToken_(d).value===b},parseGetAccessor_:function(){var b=this.getTreeStartLocation_();this.eatId_();var c=this.nextToken_();this.eat_(a.OPEN_PAREN);this.eat_(a.CLOSE_PAREN);var d=this.parseFunctionBody_(!1);
return new V(this.getTreeLocation_(b),c,d)},peekSetAccessor_:function(){return this.peekPredefinedString_(f.SET)&&this.peekPropertyName_(1)},parseSetAccessor_:function(){var b=this.getTreeStartLocation_();this.eatId_();var c=this.nextToken_();this.eat_(a.OPEN_PAREN);var d=this.parsePropertySetParameterList_();this.eat_(a.CLOSE_PAREN);var e=this.parseFunctionBody_(!1);return new Ba(this.getTreeLocation_(b),c,d,e)},parsePropertySetParameterList_:function(){var a=this.getTreeStartLocation_(),b;b=this.peekPattern_()?
this.parseBindingPattern_():this.parseBindingIdentifier_();return new m(this.getTreeLocation_(a),b,null)},parsePropertyNameAssignment_:function(){var b=this.getTreeStartLocation_();if(this.peek_(a.COLON,1)){var c=this.nextToken_();this.eat_(a.COLON);var d=this.parseAssignmentExpression_();return new ya(this.getTreeLocation_(b),c,d)}return this.parsePropertyNameShorthand_()},peekPropertyMethodAssignment_:function(){var b=+this.peek_(a.STAR);return G.propertyMethods&&this.peekPropertyName_(b)&&this.peek_(a.OPEN_PAREN,
b+1)},parsePropertyMethodAssignment_:function(){var b=this.getTreeStartLocation_(),c=null!=this.eatOpt_(a.STAR),d=this.nextToken_();this.eat_(a.OPEN_PAREN);var e=this.parseFormalParameterList_();this.eat_(a.CLOSE_PAREN);var j=this.parseFunctionBody_(c);return new Ga(this.getTreeLocation_(b),d,c,e,j)},parsePropertyNameShorthand_:function(){var b=this.getTreeStartLocation_(),c=this.eatId_();return!G.propertyNameShorthand?(this.eat_(a.COLON),null):new Ha(this.getTreeLocation_(b),c)},parseParenExpression_:function(){return this.parseArrowFunction_()},
parseMissingPrimaryExpression_:function(a){var b=this.getTreeStartLocation_();this.reportError_(a||"primary expression expected");a=this.nextToken_();return new qa(this.getTreeLocation_(b),a)},peekExpression_:function(b){switch(this.peekType_(b||0)){case a.BACK_QUOTE:return G.quasi;case a.BANG:case a.CLASS:case a.DELETE:case a.FALSE:case a.FUNCTION:case a.IDENTIFIER:case a.MINUS:case a.MINUS_MINUS:case a.NEW:case a.NULL:case a.NUMBER:case a.OPEN_CURLY:case a.OPEN_PAREN:case a.OPEN_SQUARE:case a.PLUS:case a.PLUS_PLUS:case a.SLASH:case a.SLASH_EQUAL:case a.STRING:case a.SUPER:case a.THIS:case a.TILDE:case a.TRUE:case a.TYPEOF:case a.VOID:return!0;
default:return!1}},parseExpression_:function(b){var b=b||da.IN,c=this.getTreeStartLocation_(),d=this.parseAssignmentExpression_(b);if(this.peek_(a.COMMA)){var e=[];for(e.push(d);this.peek_(a.COMMA)&&this.peekAssignmentExpression_(1);)this.eat_(a.COMMA),e.push(this.parseAssignmentExpression_(b));return new u(this.getTreeLocation_(c),e)}return d},peekAssignmentExpression_:function(a){return this.peekExpression_(a||0)},parseAssignmentExpression_:function(b){if(this.peekBindingIdentifier_()&&this.peekArrow_(1))return this.parseArrowFunction_();
var c=b||da.NORMAL,b=this.getTreeStartLocation_(),d=this.parseConditional_(c);if(this.peekAssignmentOperator_()){this.peek_(a.EQUAL)&&(d=this.transformLeftHandSideExpression_(d));!d.isLeftHandSideExpression()&&!d.isPattern()&&this.reportError_("Left hand side of assignment must be new, call, member, function, primary expressions or destructuring pattern");var e=this.nextToken_(),c=this.parseAssignmentExpression_(c);return new o(this.getTreeLocation_(b),d,e,c)}return d},transformLeftHandSideExpression_:function(a){switch(a.type){case S.ARRAY_LITERAL_EXPRESSION:case S.OBJECT_LITERAL_EXPRESSION:var b=
new d,c=(new e(b,this.scanner_.getFile(),a.location.start.offset)).parseAssignmentPattern_();if(!b.hadError())return c;break;case S.PAREN_EXPRESSION:if(b=this.transformLeftHandSideExpression_(a.expression),b!==a.expression)return new na(a.location,b)}return a},peekAssignmentOperator_:function(){var a=this.peekToken_();return!!a&&a.isAssignmentOperator()},parseConditional_:function(b){var c=this.getTreeStartLocation_(),d=this.parseLogicalOR_(b);if(this.peek_(a.QUESTION)){this.eat_(a.QUESTION);var e=
this.parseAssignmentExpression_();this.eat_(a.COLON);b=this.parseAssignmentExpression_(b);return new C(this.getTreeLocation_(c),d,e,b)}return d},parseLogicalOR_:function(b){for(var c=this.getTreeStartLocation_(),d=this.parseLogicalAND_(b);this.peek_(a.OR);)var e=this.eat_(a.OR),j=this.parseLogicalAND_(b),d=new o(this.getTreeLocation_(c),d,e,j);return d},parseLogicalAND_:function(b){for(var c=this.getTreeStartLocation_(),d=this.parseBitwiseOR_(b);this.peek_(a.AND);)var e=this.eat_(a.AND),j=this.parseBitwiseOR_(b),
d=new o(this.getTreeLocation_(c),d,e,j);return d},parseBitwiseOR_:function(b){for(var c=this.getTreeStartLocation_(),d=this.parseBitwiseXOR_(b);this.peek_(a.BAR);)var e=this.eat_(a.BAR),j=this.parseBitwiseXOR_(b),d=new o(this.getTreeLocation_(c),d,e,j);return d},parseBitwiseXOR_:function(b){for(var c=this.getTreeStartLocation_(),d=this.parseBitwiseAND_(b);this.peek_(a.CARET);)var e=this.eat_(a.CARET),j=this.parseBitwiseAND_(b),d=new o(this.getTreeLocation_(c),d,e,j);return d},parseBitwiseAND_:function(b){for(var c=
this.getTreeStartLocation_(),d=this.parseEquality_(b);this.peek_(a.AMPERSAND);)var e=this.eat_(a.AMPERSAND),j=this.parseEquality_(b),d=new o(this.getTreeLocation_(c),d,e,j);return d},parseEquality_:function(a){for(var b=this.getTreeStartLocation_(),c=this.parseRelational_(a);this.peekEqualityOperator_();)var d=this.nextToken_(),e=this.parseRelational_(a),c=new o(this.getTreeLocation_(b),c,d,e);return c},peekEqualityOperator_:function(){switch(this.peekType_()){case a.EQUAL_EQUAL:case a.NOT_EQUAL:case a.EQUAL_EQUAL_EQUAL:case a.NOT_EQUAL_EQUAL:return!0;
default:if(!G.isExpression)return!1;var b=this.peekTokenNoLineTerminator_();return b&&b.type===a.IDENTIFIER&&(b.value===f.IS||b.value===f.ISNT)}},parseRelational_:function(a){for(var b=this.getTreeStartLocation_(),c=this.parseShiftExpression_();this.peekRelationalOperator_(a);)var d=this.nextToken_(),e=this.parseShiftExpression_(),c=new o(this.getTreeLocation_(b),c,d,e);return c},peekRelationalOperator_:function(b){switch(this.peekType_()){case a.OPEN_ANGLE:case a.CLOSE_ANGLE:case a.GREATER_EQUAL:case a.LESS_EQUAL:case a.INSTANCEOF:return!0;
case a.IN:return b==da.NORMAL;default:return!1}},parseShiftExpression_:function(){for(var a=this.getTreeStartLocation_(),b=this.parseAdditiveExpression_();this.peekShiftOperator_();)var c=this.nextToken_(),d=this.parseAdditiveExpression_(),b=new o(this.getTreeLocation_(a),b,c,d);return b},peekShiftOperator_:function(){switch(this.peekType_()){case a.LEFT_SHIFT:case a.RIGHT_SHIFT:case a.UNSIGNED_RIGHT_SHIFT:return!0;default:return!1}},parseAdditiveExpression_:function(){for(var a=this.getTreeStartLocation_(),
b=this.parseMultiplicativeExpression_();this.peekAdditiveOperator_();)var c=this.nextToken_(),d=this.parseMultiplicativeExpression_(),b=new o(this.getTreeLocation_(a),b,c,d);return b},peekAdditiveOperator_:function(){switch(this.peekType_()){case a.PLUS:case a.MINUS:return!0;default:return!1}},parseMultiplicativeExpression_:function(){for(var a=this.getTreeStartLocation_(),b=this.parseUnaryExpression_();this.peekMultiplicativeOperator_();)var c=this.nextToken_(),d=this.parseUnaryExpression_(),b=new o(this.getTreeLocation_(a),
b,c,d);return b},peekMultiplicativeOperator_:function(){switch(this.peekType_()){case a.STAR:case a.SLASH:case a.PERCENT:return!0;default:return!1}},parseUnaryExpression_:function(){var a=this.getTreeStartLocation_();if(this.peekUnaryOperator_()){var b=this.nextToken_(),c=this.parseUnaryExpression_();return new Oa(this.getTreeLocation_(a),b,c)}return this.parsePostfixExpression_()},peekUnaryOperator_:function(){switch(this.peekType_()){case a.DELETE:case a.VOID:case a.TYPEOF:case a.PLUS_PLUS:case a.MINUS_MINUS:case a.PLUS:case a.MINUS:case a.TILDE:case a.BANG:return!0;
default:return!1}},parsePostfixExpression_:function(){for(var a=this.getTreeStartLocation_(),b=this.parseLeftHandSideExpression_();this.peekPostfixOperator_();)var c=this.nextToken_(),b=new aa(this.getTreeLocation_(a),b,c);return b},peekPostfixOperator_:function(){if(this.peekImplicitSemiColon_())return!1;switch(this.peekType_()){case a.PLUS_PLUS:case a.MINUS_MINUS:return!0;default:return!1}},parseLeftHandSideExpression_:function(){var b=this.getTreeStartLocation_(),c=this.parseNewExpression_();if(!(c instanceof
ka)||null!=c.args)for(;this.peekCallSuffix_();)switch(this.peekType_()){case a.OPEN_PAREN:var d=this.parseArguments_(),c=new r(this.getTreeLocation_(b),c,d);break;case a.OPEN_SQUARE:this.eat_(a.OPEN_SQUARE);d=this.parseExpression_();this.eat_(a.CLOSE_SQUARE);c=new ja(this.getTreeLocation_(b),c,d);break;case a.PERIOD:this.eat_(a.PERIOD);c=new ia(this.getTreeLocation_(b),c,this.eatIdName_());break;case a.PERIOD_OPEN_CURLY:d=this.parseCascadeExpressions_();c=new w(this.getTreeLocation_(b),c,d);break;
case a.BACK_QUOTE:c=this.parseQuasiLiteral_(c)}return c},peekCallSuffix_:function(){return this.peek_(a.OPEN_PAREN)||this.peek_(a.OPEN_SQUARE)||this.peek_(a.PERIOD)||G.quasi&&this.peek_(a.BACK_QUOTE)||G.cascadeExpression&&this.peek_(a.PERIOD_OPEN_CURLY)},parseMemberExpressionNoNew_:function(){var b=this.getTreeStartLocation_(),c;for(c=this.peekFunction_()?this.parseFunctionExpression_():this.parsePrimaryExpression_();this.peekMemberExpressionSuffix_();)switch(this.peekType_()){case a.OPEN_SQUARE:this.eat_(a.OPEN_SQUARE);
var d=this.parseExpression_();this.eat_(a.CLOSE_SQUARE);c=new ja(this.getTreeLocation_(b),c,d);break;case a.PERIOD:this.eat_(a.PERIOD);c=new ia(this.getTreeLocation_(b),c,this.eatIdName_());break;case a.PERIOD_OPEN_CURLY:d=this.parseCascadeExpressions_();c=new w(this.getTreeLocation_(b),c,d);break;case a.BACK_QUOTE:c=this.parseQuasiLiteral_(c)}return c},parseCascadeExpressions_:function(){this.eat_(a.PERIOD_OPEN_CURLY);for(var b=[];this.peekId_()&&this.peekAssignmentExpression_();)b.push(this.parseCascadeExpression_()),
this.eatPossibleImplicitSemiColon_();this.eat_(a.CLOSE_CURLY);return b},parseCascadeExpression_:function(){var a=this.parseAssignmentExpression_(),b;switch(a.type){case S.CALL_EXPRESSION:case S.MEMBER_EXPRESSION:case S.MEMBER_LOOKUP_EXPRESSION:case S.CASCADE_EXPRESSION:b=a.operand;break;case S.BINARY_OPERATOR:b=a.left;break;default:this.reportError_(a.location,"Invalid expression. Type: "+a.type)}if(b)switch(b.type){case S.MEMBER_EXPRESSION:case S.MEMBER_LOOKUP_EXPRESSION:case S.CALL_EXPRESSION:case S.CASCADE_EXPRESSION:case S.IDENTIFIER_EXPRESSION:break;
default:this.reportError_(b.location,"Invalid expression: "+b.type)}a.type==S.BINARY_OPERATOR&&!a.operator.isAssignmentOperator()&&this.reportError_(a.operator,"Invalid operator: "+a.operator);return a},peekMemberExpressionSuffix_:function(){return this.peek_(a.OPEN_SQUARE)||this.peek_(a.PERIOD)||G.quasi&&this.peek_(a.BACK_QUOTE)||G.cascadeExpression&&this.peek_(a.PERIOD_OPEN_CURLY)},parseNewExpression_:function(){if(this.peek_(a.NEW)){var b=this.getTreeStartLocation_();this.eat_(a.NEW);var c=this.parseNewExpression_(),
d=null;this.peek_(a.OPEN_PAREN)&&(d=this.parseArguments_());return new ka(this.getTreeLocation_(b),c,d)}return this.parseMemberExpressionNoNew_()},parseArguments_:function(){var b=this.getTreeStartLocation_(),c=[];for(this.eat_(a.OPEN_PAREN);this.peekAssignmentOrRest_();)c.push(this.parseAssignmentOrSpread_()),this.peek_(a.CLOSE_PAREN)||this.eat_(a.COMMA);this.eat_(a.CLOSE_PAREN);return new h(this.getTreeLocation_(b),c)},peekRest_:function(b){return G.restParameters&&this.peek_(a.DOT_DOT_DOT,b||0)},
peekAssignmentOrRest_:function(){return this.peekRest_()||this.peekAssignmentExpression_()},parseAssignmentOrSpread_:function(){return this.peekSpread_()?this.parseSpreadExpression_():this.parseAssignmentExpression_()},parseArrowFunction_:function(){var b=this.getTreeStartLocation_(),c,d;if(this.peekBindingIdentifier_()&&this.peekArrow_(1))c=this.parseBindingIdentifier_(),c=[new m(c.location,c,null)];else if(this.eat_(a.OPEN_PAREN),this.peek_(a.CLOSE_PAREN))this.eat_(a.CLOSE_PAREN),c=[];else if(this.peekRest_())c=
[this.parseRestParameter_()],this.eat_(a.CLOSE_PAREN);else{d=this.parseExpression_();if(d.type===S.MISSING_PRIMARY_EXPRESSION)return d;if(this.peek_(a.COMMA)&&this.peekRest_(1))this.eat_(a.COMMA),(c=this.reparseAsFormalsList_(d))&&c.push(this.parseRestParameter_()),this.eat_(a.CLOSE_PAREN);else{if(this.peek_(a.FOR)&&G.generatorComprehension)return this.parseGeneratorComprehension_(b,d);this.eat_(a.CLOSE_PAREN);this.peek_(a.ARROW)&&(c=this.reparseAsFormalsList_(d))}}if(!c)return new na(this.getTreeLocation_(b),
d);this.eat_(a.ARROW);d=this.parseConciseBody_();b=this.getTreeLocation_(b);return new l(b,new P(b,c),d)},reparseAsFormalsList_:function(a){var b=new d,c=(new e(b,this.scanner_.getFile(),a.location.start.offset)).parseFormalsList_();return b.hadError()||!c.length||c[c.length-1].location.end.offset!==a.location.end.offset?null:c},peekArrow_:function(b){return G.arrowFunctions&&this.peek_(a.ARROW,b)},parseConciseBody_:function(){return this.peek_(a.OPEN_CURLY)?this.parseBlock_():this.parseAssignmentExpression_()},
parseGeneratorComprehension_:function(b,c){var d=this.parseComprehensionForList_(),e=this.parseComprehensionIf_();this.eat_(a.CLOSE_PAREN);return new O(this.getTreeLocation_(b),c,d,e)},parseComprehensionForList_:function(){for(var b=[];this.peek_(a.FOR);){this.eat_(a.FOR);var c=this.getTreeStartLocation_(),d=this.parseForBinding_();this.eatId_(f.OF);var e=this.parseExpression_();b.push(new y(this.getTreeLocation_(c),d,e))}return b},parseComprehensionIf_:function(){return this.peek_(a.IF)?(this.eat_(a.IF),
this.parseExpression_()):null},parseForBinding_:function(){return this.peekPattern_()?this.parseBindingPattern_():this.parseBindingIdentifier_()},peekPattern_:function(a){a=a||0;return G.destructuring&&(this.peekObjectPattern_(a)||this.peekArrayPattern_(a))},peekArrayPattern_:function(b){return this.peek_(a.OPEN_SQUARE,b||0)},peekObjectPattern_:function(b){return this.peek_(a.OPEN_CURLY,b||0)},parseBindingPattern_:function(){return this.peekArrayPattern_()?this.parseArrayBindingPattern_():this.parseObjectBindingPattern_()},
parseArrayBindingPattern_:function(){var b=this.getTreeStartLocation_(),c=[];for(this.eat_(a.OPEN_SQUARE);this.peekBindingElement_()||this.peek_(a.COMMA)||this.peekRest_();)if(this.parseElisionOpt_(c),this.peekRest_()){c.push(this.parseBindingRestElement_());break}else c.push(this.parseBindingElement_()),this.peek_(a.COMMA)&&!this.peek_(a.CLOSE_SQUARE,1)&&this.eat_(a.COMMA);this.eat_(a.CLOSE_SQUARE);return new k(this.getTreeLocation_(b),c)},parseBindingElementList_:function(b){this.parseElisionOpt_(b);
for(b.push(this.parseBindingElement_());this.peek_(a.COMMA);)this.eat_(a.COMMA),this.parseElisionOpt_(b),b.push(this.parseBindingElement_())},parseElisionOpt_:function(b){for(;this.peek_(a.COMMA);)this.eat_(a.COMMA),b.push(null)},peekBindingElement_:function(){return this.peekBindingIdentifier_()||this.peekPattern_()},parseBindingElement_:function(b){var c=this.getTreeStartLocation_(),d;d=this.peekPattern_()?this.parseBindingPattern_():this.parseBindingIdentifier_();var e=null;if(this.peek_(a.EQUAL)||
"REQUIRED"===b)e=this.parseInitializer_();return new m(this.getTreeLocation_(c),d,e)},parseBindingRestElement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.DOT_DOT_DOT);var c=this.parseBindingIdentifier_();return new xa(this.getTreeLocation_(b),c)},parseObjectBindingPattern_:function(){var b=this.getTreeStartLocation_(),c=[];for(this.eat_(a.OPEN_CURLY);this.peekBindingProperty_();){c.push(this.parseBindingProperty_());if(!this.peek_(a.COMMA))break;this.eat_(a.COMMA)}this.eat_(a.CLOSE_CURLY);
return new la(this.getTreeLocation_(b),c)},peekBindingProperty_:function(){return this.peekBindingIdentifier_()||this.peekPropertyName_()},parseBindingProperty_:function(){var b=this.getTreeStartLocation_();if(this.peek_(a.COLON,1)){var c=this.nextToken_();this.eat_(a.COLON);var d=this.parseBindingElement_();return new ma(this.getTreeLocation_(b),c,d)}d=this.parseBindingIdentifier_();c=null;this.peek_(a.EQUAL)&&(c=this.parseInitializer_());return new m(this.getTreeLocation_(b),d,c)},parseAssignmentPattern_:function(){return this.peekObjectPattern_()?
this.parseObjectAssignmentPattern_():this.parseArrayAssignmentPattern_()},parseObjectAssignmentPattern_:function(){var b=this.getTreeStartLocation_();this.eat_(a.OPEN_CURLY);for(var c=[],d;this.peekId_()||this.peekPropertyName_();){if(this.peek_(a.COLON,1)){this.getTreeStartLocation_();d=this.nextToken_();this.eat_(a.COLON);var e=this.parseLeftHandSideExpression_(),e=this.transformLeftHandSideExpression_(e);d=new ma(this.getTreeLocation_(b),d,e)}else d=this.parseIdentifierExpression_();c.push(d);
if(this.peek_(a.COMMA))this.eat_(a.COMMA);else break}this.eat_(a.CLOSE_CURLY);return new la(this.getTreeLocation_(b),c)},parseArrayAssignmentPattern_:function(){var b=this.getTreeStartLocation_(),c=[];for(this.eat_(a.OPEN_SQUARE);this.peek_(a.COMMA)||this.peekRest_()||this.peekAssignmentExpression_();)if(this.parseElisionOpt_(c),this.peekRest_()){c.push(this.parseAssignmentRestElement_());break}else c.push(this.parseAssignmentElement_()),this.peek_(a.COMMA)&&!this.peek_(a.CLOSE_SQUARE,1)&&this.eat_(a.COMMA);
this.eat_(a.CLOSE_SQUARE);return new k(this.getTreeLocation_(b),c)},parseAssignmentRestElement_:function(){var b=this.getTreeStartLocation_();this.eat_(a.DOT_DOT_DOT);var c=this.parseLeftHandSideExpression_(),c=this.transformLeftHandSideExpression_(c);return new xa(this.getTreeLocation_(b),c)},parseAssignmentElement_:function(){var a=this.parseLeftHandSideExpression_();return this.transformLeftHandSideExpression_(a)},parseQuasiLiteral_:function(b){if(!G.quasi)return this.parseMissingPrimaryExpression_();
var c=b?b.location.start:this.getTreeStartLocation_();this.eat_(a.BACK_QUOTE);for(var d=[];!this.peekEndOfQuasiLiteral_();){var e=this.nextQuasiLiteralPortionToken_();d.push(new ha(this.getTreeLocation_(c),e));if(!this.peekQuasiToken_(a.DOLLAR))break;e=this.nextQuasiSubstitutionToken_();traceur.assert(e.type==a.DOLLAR);this.eat_(a.OPEN_CURLY);e=this.parseExpression_();if(!e)return this.parseMissingPrimaryExpression_();d.push(new za(e.location,e));this.eat_(a.CLOSE_CURLY)}this.eat_(a.BACK_QUOTE);return new Ia(this.getTreeLocation_(c),
b,d)},eatPossibleImplicitSemiColon_:function(){this.peek_(a.SEMI_COLON)&&this.peekToken_().location.start.line==this.getLastLine_()?this.eat_(a.SEMI_COLON):this.peekImplicitSemiColon_()||this.reportError_("Semi-colon expected")},peekImplicitSemiColon_:function(){return this.getNextLine_()>this.getLastLine_()||this.peek_(a.SEMI_COLON)||this.peek_(a.CLOSE_CURLY)||this.peek_(a.END_OF_FILE)},getLastLine_:function(){return this.scanner_.lastToken.location.end.line},getNextLine_:function(){return this.peekToken_().location.start.line},
eatOpt_:function(a){return this.peek_(a)?this.eat_(a):null},eatIdOpt_:function(){return this.peek_(a.IDENTIFIER)?this.eatId_():null},eatId_:function(b){var c=this.eat_(a.IDENTIFIER);return b&&(!c||c.value!==b)?(c||(c=this.peekToken_()),this.reportError_(c,'expected "'+b+'"'),null):c},eatIdName_:function(){var b=this.nextToken_();return b.type!=a.IDENTIFIER?!c.isKeyword(b.type)?(this.reportExpectedError_(b,"identifier"),null):new Y(b.location,b.type):b},eat_:function(a){var b=this.nextToken_();return b.type!=
a?(this.reportExpectedError_(b,a),null):b},reportExpectedError_:function(a,b){this.reportError_(a,"'"+b+"' expected")},getTreeStartLocation_:function(){return this.peekToken_().location.start},getTreeEndLocation_:function(){return this.scanner_.lastToken.location.end},getTreeLocation_:function(a){return new b(a,this.getTreeEndLocation_())},nextToken_:function(){return this.scanner_.nextToken()},nextRegularExpressionLiteralToken_:function(){return this.scanner_.nextRegularExpressionLiteralToken()},
nextQuasiLiteralPortionToken_:function(){return this.scanner_.nextQuasiLiteralPortionToken()},nextQuasiIdentifier_:function(){return this.scanner_.nextQuasiIdentifier()},nextQuasiSubstitutionToken_:function(){return this.scanner_.nextQuasiSubstitutionToken()},peekEndOfQuasiLiteral_:function(){return this.peekQuasiToken_(a.BACK_QUOTE)||this.peekQuasiToken_(a.END_OF_FILE)},peekQuasiToken_:function(a){return this.scanner_.peekQuasiToken(a)},peek_:function(a,b){return this.peekType_(b||0)==a},peekType_:function(a){return this.peekToken_(a||
0).type},peekToken_:function(a){return this.scanner_.peekToken(a||0)},peekTokenNoLineTerminator_:function(a){return this.scanner_.peekTokenNoLineTerminator(a||0)},reportError_:function(a){if(1==arguments.length)this.errorReporter_.reportError(this.scanner_.getPosition(),arguments[0]);else{var b=arguments[0];b instanceof g&&(b=b.location);this.errorReporter_.reportError(b.start,arguments[1])}},reportUnexpectedToken_:function(){this.reportError_(this.peekToken_(),"Unexpected token")}};return{Parser:e}});
traceur.define("syntax",function(){function e(){}var d=traceur.syntax.trees.getTreeNameForType;e.prototype={visitAny:function(c){if(null!==c)this["visit"+d(c.type)](c)},visit:function(c){this.visitAny(c)},visitList:function(c){for(var d=0;d<c.length;d++)this.visitAny(c[d])},visitArgumentList:function(c){this.visitList(c.args)},visitArrayComprehension:function(c){this.visitAny(c.expression);this.visitList(c.comprehensionForList);this.visitAny(c.ifExpression)},visitArrayLiteralExpression:function(c){this.visitList(c.elements)},
visitArrayPattern:function(c){this.visitList(c.elements)},visitArrowFunctionExpression:function(c){this.visitAny(c.formalParameters);this.visitAny(c.functionBody)},visitAwaitStatement:function(c){this.visitAny(c.expression)},visitBinaryOperator:function(c){this.visitAny(c.left);this.visitAny(c.right)},visitBindThisParameter:function(c){this.visitAny(c.expression)},visitBindingElement:function(c){this.visitAny(c.binding);this.visitAny(c.initializer)},visitBindingIdentifier:function(){},visitBlock:function(c){this.visitList(c.statements)},
visitBreakStatement:function(){},visitCallExpression:function(c){this.visitAny(c.operand);this.visitAny(c.args)},visitCaseClause:function(c){this.visitAny(c.expression);this.visitList(c.statements)},visitCatch:function(c){this.visitAny(c.binding);this.visitAny(c.catchBody)},visitCascadeExpression:function(c){this.visitAny(c.operand);this.visitList(c.expressions)},visitClassDeclaration:function(c){this.visitAny(c.superClass);this.visitList(c.elements)},visitClassExpression:function(){},visitCommaExpression:function(c){this.visitList(c.expressions)},
visitComprehensionFor:function(c){this.visitAny(c.left);this.visitAny(c.iterator)},visitConditionalExpression:function(c){this.visitAny(c.condition);this.visitAny(c.left);this.visitAny(c.right)},visitContinueStatement:function(){},visitDebuggerStatement:function(){},visitDefaultClause:function(c){this.visitList(c.statements)},visitDoWhileStatement:function(c){this.visitAny(c.body);this.visitAny(c.condition)},visitEmptyStatement:function(){},visitExportDeclaration:function(c){this.visitAny(c.declaration)},
visitExportMapping:function(c){this.visitAny(c.moduleExpression);this.visitAny(c.specifierSet)},visitExportMappingList:function(c){this.visitList(c.paths)},visitExportSpecifier:function(){},visitExportSpecifierSet:function(c){this.visitList(c.specifiers)},visitExpressionStatement:function(c){this.visitAny(c.expression)},visitFinally:function(c){this.visitAny(c.block)},visitForOfStatement:function(c){this.visitAny(c.initializer);this.visitAny(c.collection);this.visitAny(c.body)},visitForInStatement:function(c){this.visitAny(c.initializer);
this.visitAny(c.collection);this.visitAny(c.body)},visitForStatement:function(c){this.visitAny(c.initializer);this.visitAny(c.condition);this.visitAny(c.increment);this.visitAny(c.body)},visitFormalParameterList:function(c){this.visitList(c.parameters)},visitFunctionDeclaration:function(c){this.visitAny(c.name);this.visitAny(c.formalParameterList);this.visitAny(c.functionBody)},visitGeneratorComprehension:function(c){this.visitAny(c.expression);this.visitList(c.comprehensionForList);this.visitAny(c.ifExpression)},
visitGetAccessor:function(c){this.visitAny(c.body)},visitIdentifierExpression:function(){},visitIfStatement:function(c){this.visitAny(c.condition);this.visitAny(c.ifClause);this.visitAny(c.elseClause)},visitImportDeclaration:function(c){this.visitList(c.importPathList)},visitImportBinding:function(c){null!==c.importSpecifierSet&&this.visitList(c.importSpecifierSet);this.visitAny(c.moduleExpression)},visitImportSpecifier:function(){},visitImportSpecifierSet:function(c){this.visitList(c.specifiers)},
visitLabelledStatement:function(c){this.visitAny(c.statement)},visitLiteralExpression:function(){},visitMemberExpression:function(c){this.visitAny(c.operand)},visitMemberLookupExpression:function(c){this.visitAny(c.operand);this.visitAny(c.memberExpression)},visitMissingPrimaryExpression:function(){},visitModuleDeclaration:function(c){this.visitList(c.specifiers)},visitModuleDefinition:function(c){this.visitList(c.elements)},visitModuleExpression:function(c){this.visitAny(c.reference)},visitModuleRequire:function(){},
visitModuleSpecifier:function(c){this.visitAny(c.expression)},visitNewExpression:function(c){this.visitAny(c.operand);this.visitAny(c.args)},visitNullTree:function(){},visitObjectLiteralExpression:function(c){this.visitList(c.propertyNameAndValues)},visitObjectPattern:function(c){this.visitList(c.fields)},visitObjectPatternField:function(c){this.visitAny(c.element)},visitParenExpression:function(c){this.visitAny(c.expression)},visitPostfixExpression:function(c){this.visitAny(c.operand)},visitProgram:function(c){this.visitList(c.programElements)},
visitPropertyMethodAssignment:function(c){this.visitAny(c.formalParameterList);this.visitAny(c.functionBody)},visitPropertyNameAssignment:function(c){this.visitAny(c.value)},visitPropertyNameShorthand:function(){},visitQuasiLiteralExpression:function(c){this.visitAny(c.operand);this.visitList(c.elements)},visitQuasiLiteralPortion:function(){},visitQuasiSubstitution:function(c){this.visitAny(c.expression)},visitRequiresMember:function(){},visitRestParameter:function(){},visitReturnStatement:function(c){this.visitAny(c.expression)},
visitSetAccessor:function(c){this.visitAny(c.body)},visitSpreadExpression:function(c){this.visitAny(c.expression)},visitSpreadPatternElement:function(c){this.visitAny(c.lvalue)},visitStateMachine:function(){throw Error("State machines should not live outside of the GeneratorTransformer.");},visitSuperExpression:function(){},visitSwitchStatement:function(c){this.visitAny(c.expression);this.visitList(c.caseClauses)},visitThisExpression:function(){},visitThrowStatement:function(c){this.visitAny(c.value)},
visitTryStatement:function(c){this.visitAny(c.body);this.visitAny(c.catchBlock);this.visitAny(c.finallyBlock)},visitUnaryExpression:function(c){this.visitAny(c.operand)},visitVariableDeclaration:function(c){this.visitAny(c.lvalue);this.visitAny(c.initializer)},visitVariableDeclarationList:function(c){this.visitList(c.declarations)},visitVariableStatement:function(c){this.visitAny(c.declarations)},visitWhileStatement:function(c){this.visitAny(c.condition);this.visitAny(c.body)},visitWithStatement:function(c){this.visitAny(c.expression);
this.visitAny(c.body)},visitYieldStatement:function(c){this.visitAny(c.expression)}};return{ParseTreeVisitor:e}});
traceur.define("util",function(){function e(){this.strings_=[];this.length=0}e.prototype={append:function(d){d=d.toString();this.length+=d.length;this.strings_.push(d);return this},toString:function(){return this.strings_.join("")},lastChar:function(){var d=this.strings_[this.strings_.length-1];d&&(d=d[d.length-1]);return d},deleteLastChar:function(){var d=this.strings_.length-1,c=this.strings_[d];c&&(this.strings_[d]=c.substring(0,c.length-1))}};return{StringBuilder:e}});
traceur.define("semantics",function(){function e(b,a){c.call(this);this.includeFunctionScope_=b;this.scope_=a||null;this.block_=null;this.identifiers_=Object.create(null)}var d=traceur.syntax.ParseTreeType,c=traceur.syntax.ParseTreeVisitor,f=traceur.syntax.TokenType,d=traceur.syntax.trees.ParseTreeType;e.variablesInBlock=function(b,a){var c=new e(a,b);c.visitAny(b);return c.identifiers_};e.variablesInFunction=function(b){var a=new e(!0,b.functionBody);a.bindVariablesInFunction_(b);return a.identifiers_};
var b=c.prototype;e.prototype=traceur.createObject(b,{bindVariablesInFunction_:function(b){for(var a=b.formalParameterList.parameters,c=0;c<a.length;c++)this.bindParameter_(a[c]);this.visitAny(b.functionBody)},visitBlock:function(b){var a=this.block_;this.block_=b;b.statements.forEach(function(a){a.type==d.FUNCTION_DECLARATION?this.bindFunctionDeclaration_(a):this.visitAny(a)},this);this.block_=a},bindFunctionDeclaration_:function(b){null!=b.name&&this.block_==this.scope_&&this.bind_(b.name.identifierToken)},
visitFunctionDeclaration:function(){},visitVariableDeclarationList:function(c){if(c.declarationType==f.VAR&&this.includeFunctionScope_||c.declarationType!=f.VAR&&this.block_==this.scope_)b.visitVariableDeclarationList.call(this,c);else for(var c=c.declarations,a=0;a<c.length;a++)this.visitAny(c[a].initializer)},visitVariableDeclaration:function(c){this.bindVariableDeclaration_(c.lvalue);b.visitVariableDeclaration.call(this,c)},bind_:function(b){traceur.assert("string"==typeof b.value);this.identifiers_[b.value]=
!0},bindParameter_:function(b){b.isRestParameter()?this.bind_(b.identifier):this.bindVariableDeclaration_(b.binding)},bindVariableDeclaration_:function(b){switch(b.type){case d.BINDING_IDENTIFIER:this.bind_(b.identifierToken);break;case d.ARRAY_PATTERN:for(var a=b.elements,b=0;b<a.length;b++)this.bindVariableDeclaration_(a[b]);break;case d.SPREAD_PATTERN_ELEMENT:this.bindVariableDeclaration_(b.lvalue);break;case d.OBJECT_PATTERN:a=b.fields;for(b=0;b<a.length;b++)this.bindVariableDeclaration_(a[b]);
break;case d.OBJECT_PATTERN_FIELD:null==b.element?this.bind_(b.identifier):this.bindVariableDeclaration_(b.element);break;case d.PAREN_EXPRESSION:this.bindVariableDeclaration_(b.expression);break;default:throw Error("unreachable");}}});return{VariableBinder:e}});traceur.define("semantics.symbols",function(){return{SymbolType:{EXPORT:"EXPORT",MODULE:"MODULE"}}});
traceur.define("semantics.symbols",function(){function e(c,d,b){this.type=c;this.tree=d;this.name=b}var d=traceur.assert;e.prototype={asExport:function(){d(this instanceof traceur.semantics.symbols.ExportSymbol);return this},asModuleSymbol:function(){d(this instanceof traceur.semantics.symbols.ModuleSymbol);return this}};return{Symbol:e}});
traceur.define("semantics.symbols",function(){function e(e,b,g,a){d.call(this,c.MODULE,g,e);this.children_=Object.create(null);this.exports_=Object.create(null);this.parent=b;this.tree=g;a||console.error("Missing URL");this.url=a}var d=traceur.semantics.symbols.Symbol,c=traceur.semantics.symbols.SymbolType;e.prototype=traceur.createObject(d.prototype,{addModule:function(c){this.addModuleWithName(c,c.name)},addModuleWithName:function(c,b){this.children_[b]=c},hasModule:function(c){return c in this.children_},
getModule:function(c){return this.children_[c]},hasExport:function(c){return c in this.exports_},getExport:function(c){return this.exports_[c]},addExport:function(c,b){this.exports_[c]=b},getExports:function(){var c=this.exports_;return Object.keys(c).map(function(b){return c[b]})}});return{ModuleSymbol:e}});
traceur.define("semantics.symbols",function(){function e(e,b,g){d.call(this,c.EXPORT,e,b);this.relatedTree=g}var d=traceur.semantics.symbols.Symbol,c=traceur.semantics.symbols.SymbolType;e.prototype=Object.create(d.prototype);return{ExportSymbol:e}});
traceur.define("semantics.symbols",function(){function e(a){this.sourceFiles_=Object.create(null);this.parseTrees_=new f;this.rootModule_=new c(null,null,null,a);this.modulesByUrl_=Object.create(null);this.moduleExports_=new b}var d=traceur.semantics.symbols.ExportSymbol,c=traceur.semantics.symbols.ModuleSymbol,f=traceur.util.ObjectMap,b=traceur.util.ArrayMap,g=traceur.util.resolveUrl,a=/^@\w+$/,h=Object.create(null);e.prototype={get url(){return this.rootModule_.url},createClone:function(){var a=
new e(this.url),b=a.sourceFiles_,c=this.sourceFiles_,d;for(d in c)b[d]=c[d];a.parseTrees_.addAll(this.parseTrees_);a.objectClass_=this.objectClass_;return a},hasFile:function(a){return a in this.sourceFiles_},addFile:function(a){this.sourceFiles_[a.name]=a},getFile:function(a){return this.sourceFiles_[a]},getSourceFiles:function(){var a=this.sourceFiles_;return Object.keys(a).map(function(b){return a[b]})},getSourceTrees:function(){return this.parseTrees_.values()},setParseTree:function(a,b){if(this.sourceFiles_[a.name]!=
a)throw Error();this.parseTrees_.put(a,b)},getParseTree:function(a){return this.parseTrees_.get(a)},getRootModule:function(){return this.rootModule_},addExternalModule:function(a){traceur.assert(!this.hasModuleForUrl(a.url));this.modulesByUrl_[a.url]=a},getModuleForUrl:function(b){b=g(this.url,b);traceur.assert(this.hasModuleForUrl(b));if(a.test(b)){if(!(b in h)){var e=new c(null,null,null,b);Object.keys(traceur.runtime.modules[b]).forEach(function(a){e.addExport(a,new d(null,a,null))});h[b]=e}return h[b]}return this.modulesByUrl_[b]},
hasModuleForUrl:function(b){if(a.test(b))return b in traceur.runtime.modules;b=g(this.url,b);return b in this.modulesByUrl_},setModuleForStarTree:function(a,b){this.moduleExports_.put(a,b)},getModuleForStarTree:function(a){return this.moduleExports_.get(a)}};return{Project:e}});
traceur.define("outputgeneration",function(){function e(a,b){d.call(this);this.highlighted_=a;this.showLineNumbers_=b;this.result_=new g;this.currentLine_=new g}var d=traceur.syntax.ParseTreeVisitor,c=traceur.syntax.PredefinedName,f=traceur.syntax.Keywords,b=traceur.syntax.TokenType,g=traceur.util.StringBuilder;e.prototype=traceur.createObject(d.prototype,{currentLineComment_:null,indentDepth_:0,visitAny:function(a){a&&(a===this.highlighted_&&this.write_("\u001b[41m"),null!==a.location&&(null!==a.location.start&&
this.showLineNumbers_)&&(this.currentLineComment_="Line: "+(a.location.start.line+1)+"."+a.location.start.column),this.currentLocation=a.location,d.prototype.visitAny.call(this,a),a===this.highlighted_&&this.write_("\u001b[0m"))},visitArgumentList:function(a){this.write_(b.OPEN_PAREN);this.writeList_(a.args,b.COMMA,!1);this.write_(b.CLOSE_PAREN)},visitArrayComprehension:function(a){this.write_(b.OPEN_SQUARE);this.visitAny(a.expression);this.visitList(a.comprehensionForList);a.ifExpression&&(this.write_(b.IF),
this.visitAny(a.ifExpression));this.write_(b.CLOSE_SQUARE)},visitArrayLiteralExpression:function(a){this.write_(b.OPEN_SQUARE);this.writeList_(a.elements,b.COMMA,!1);this.write_(b.CLOSE_SQUARE)},visitArrayPattern:function(a){this.write_(b.OPEN_SQUARE);this.writeList_(a.elements,b.COMMA,!1);this.write_(b.CLOSE_SQUARE)},visitArrowFunctionExpression:function(a){this.write_(b.OPEN_PAREN);this.visitAny(a.formalParameters);this.write_(b.CLOSE_PAREN);this.write_(b.ARROW);this.visitAny(a.functionBody)},visitAwaitStatement:function(a){this.write_(b.AWAIT);
null!==a.identifier&&(this.write_(a.identifier),this.write_(b.EQUAL));this.visitAny(a.expression);this.write_(b.SEMI_COLON)},visitBinaryOperator:function(a){this.visitAny(a.left);this.write_(a.operator);this.visitAny(a.right)},visitBindThisParameter:function(a){this.write_(b.THIS);this.write_(b.EQUAL);this.visitAny(a.expression)},visitBindingElement:function(a){this.visitAny(a.binding);a.initializer&&(this.write_(b.EQUAL),this.visitAny(a.initializer))},visitBindingIdentifier:function(a){this.write_(a.identifierToken)},
visitBlock:function(a){this.write_(b.OPEN_CURLY);this.writelnList_(a.statements);this.write_(b.CLOSE_CURLY)},visitBreakStatement:function(a){this.write_(b.BREAK);null!==a.name&&this.write_(a.name);this.write_(b.SEMI_COLON)},visitCallExpression:function(a){this.visitAny(a.operand);this.visitAny(a.args)},visitCaseClause:function(a){this.write_(b.CASE);this.visitAny(a.expression);this.write_(b.COLON);this.indentDepth_++;this.writelnList_(a.statements);this.indentDepth_--},visitCatch:function(a){this.write_(b.CATCH);
this.write_(b.OPEN_PAREN);this.visitAny(a.binding);this.write_(b.CLOSE_PAREN);this.visitAny(a.catchBody)},visitCascadeExpression:function(a){this.visitAny(a.operand);this.write_(b.PERIOD_OPEN_CURLY);this.writelnList_(a.expressions,b.SEMI_COLON,!1);this.write_(b.CLOSE_CURLY)},visitClassShared_:function(a){this.write_(b.CLASS);a.name&&this.write_(a.name);null!==a.superClass&&(this.write_(b.EXTENDS),this.visitAny(a.superClass));this.write_(b.OPEN_CURLY);this.writelnList_(a.elements);this.write_(b.CLOSE_CURLY)},
visitClassDeclaration:function(a){this.visitClassShared_(a)},visitClassExpression:function(a){this.visitClassShared_(a)},visitCommaExpression:function(a){this.writeList_(a.expressions,b.COMMA,!1)},visitComprehensionFor:function(a){this.write_(b.FOR);this.visitAny(a.left);this.write_(c.OF);this.visitAny(a.iterator)},visitConditionalExpression:function(a){this.visitAny(a.condition);this.write_(b.QUESTION);this.visitAny(a.left);this.write_(b.COLON);this.visitAny(a.right)},visitContinueStatement:function(a){this.write_(b.CONTINUE);
null!==a.name&&this.write_(a.name);this.write_(b.SEMI_COLON)},visitDebuggerStatement:function(){this.write_(b.DEBUGGER);this.write_(b.SEMI_COLON)},visitDefaultClause:function(a){this.write_(b.DEFAULT);this.write_(b.COLON);this.indentDepth_++;this.writelnList_(a.statements);this.indentDepth_--},visitDoWhileStatement:function(a){this.write_(b.DO);this.visitAny(a.body);this.write_(b.WHILE);this.write_(b.OPEN_PAREN);this.visitAny(a.condition);this.write_(b.CLOSE_PAREN);this.write_(b.SEMI_COLON)},visitEmptyStatement:function(){this.write_(b.SEMI_COLON)},
visitExportDeclaration:function(a){this.write_(b.EXPORT);this.visitAny(a.declaration)},visitExportMappingList:function(a){this.writeList_(a.paths,b.COMMA,!1)},visitExportMapping:function(a){this.visitAny(a.specifierSet);a.moduleExpression&&(this.write_(c.FROM),this.visitAny(a.moduleExpression))},visitExportSpecifier:function(a){this.write_(a.lhs);a.rhs&&(this.write_(b.COLON),this.write_(a.rhs))},visitExportSpecifierSet:function(a){this.write_(b.OPEN_CURLY);this.writeList_(a.specifiers,b.COMMA,!1);
this.write_(b.CLOSE_CURLY)},visitExpressionStatement:function(a){this.visitAny(a.expression);this.write_(b.SEMI_COLON)},visitFinally:function(a){this.write_(b.FINALLY);this.visitAny(a.block)},visitForOfStatement:function(a){this.write_(b.FOR);this.write_(b.OPEN_PAREN);this.visitAny(a.initializer);this.write_(c.OF);this.visitAny(a.collection);this.write_(b.CLOSE_PAREN);this.visitAny(a.body)},visitForInStatement:function(a){this.write_(b.FOR);this.write_(b.OPEN_PAREN);this.visitAny(a.initializer);this.write_(b.IN);
this.visitAny(a.collection);this.write_(b.CLOSE_PAREN);this.visitAny(a.body)},visitForStatement:function(a){this.write_(b.FOR);this.write_(b.OPEN_PAREN);this.visitAny(a.initializer);this.write_(b.SEMI_COLON);this.visitAny(a.condition);this.write_(b.SEMI_COLON);this.visitAny(a.increment);this.write_(b.CLOSE_PAREN);this.visitAny(a.body)},visitFormalParameterList:function(a){for(var c=!0,d=0;d<a.parameters.length;d++){var e=a.parameters[d];c?c=!1:this.write_(b.COMMA);this.visitAny(e)}},visitFunctionDeclaration:function(a){this.write_(f.FUNCTION);
a.isGenerator&&this.write_(b.STAR);this.visitAny(a.name);this.write_(b.OPEN_PAREN);this.visitAny(a.formalParameterList);this.write_(b.CLOSE_PAREN);this.visitAny(a.functionBody)},visitGeneratorComprehension:function(a){this.write_(b.OPEN_PAREN);this.visitAny(a.expression);this.visitList(a.comprehensionForList);a.ifExpression&&(this.write_(b.IF),this.visitAny(a.ifExpression));this.write_(b.CLOSE_PAREN)},visitGetAccessor:function(a){this.write_(c.GET);this.write_(a.propertyName);this.write_(b.OPEN_PAREN);
this.write_(b.CLOSE_PAREN);this.visitAny(a.body)},visitIdentifierExpression:function(a){this.write_(a.identifierToken)},visitIfStatement:function(a){this.write_(b.IF);this.write_(b.OPEN_PAREN);this.visitAny(a.condition);this.write_(b.CLOSE_PAREN);this.visitAny(a.ifClause);a.elseClause&&(this.write_(b.ELSE),this.visitAny(a.elseClause))},visitImportDeclaration:function(a){this.write_(b.IMPORT);this.writeList_(a.importPathList,b.COMMA,!1);this.write_(b.SEMI_COLON)},visitImportBinding:function(a){this.visitAny(a.importSpecifierSet);
a.moduleExpression&&(this.write_(c.FROM),this.visitAny(a.moduleExpression))},visitImportSpecifier:function(a){this.write_(a.importedName);null!==a.destinationName&&(this.write_(b.COLON),this.write_(a.destinationName))},visitImportSpecifierSet:function(a){a.specifiers.type==b.STAR?this.write_(b.STAR):this.visitList(a.specifiers)},visitLabelledStatement:function(a){this.write_(a.name);this.write_(b.COLON);this.visitAny(a.statement)},visitLiteralExpression:function(a){this.write_(a.literalToken)},visitMemberExpression:function(a){this.visitAny(a.operand);
this.write_(b.PERIOD);this.write_(a.memberName)},visitMemberLookupExpression:function(a){this.visitAny(a.operand);this.write_(b.OPEN_SQUARE);this.visitAny(a.memberExpression);this.write_(b.CLOSE_SQUARE)},visitMissingPrimaryExpression:function(){this.write_("MissingPrimaryExpression")},visitModuleDeclaration:function(a){this.write_(c.MODULE);this.writeList_(a.specifiers,b.COMMA,!1);this.write_(b.SEMI_COLON)},visitModuleDefinition:function(a){this.write_(c.MODULE);this.write_(a.name);this.write_(b.OPEN_CURLY);
this.writeln_();this.writeList_(a.elements,null,!0);this.write_(b.CLOSE_CURLY);this.writeln_()},visitModuleExpression:function(a){this.visitAny(a.reference);for(var c=0;c<a.identifiers.length;c++)this.write_(b.PERIOD),this.write_(a.identifiers[c])},visitModuleRequire:function(a){this.write_(a.url)},visitModuleSpecifier:function(a){this.write_(a.identifier);this.write_(c.FROM);this.visitAny(a.expression)},visitNewExpression:function(a){this.write_(b.NEW);this.visitAny(a.operand);this.visitAny(a.args)},
visitNullTree:function(){},visitObjectLiteralExpression:function(a){this.write_(b.OPEN_CURLY);1<a.propertyNameAndValues.length&&this.writeln_();this.writelnList_(a.propertyNameAndValues,b.COMMA);1<a.propertyNameAndValues.length&&this.writeln_();this.write_(b.CLOSE_CURLY)},visitObjectPattern:function(a){this.write_(b.OPEN_CURLY);this.writelnList_(a.fields,b.COMMA);this.write_(b.CLOSE_CURLY)},visitObjectPatternField:function(a){this.write_(a.identifier);null!==a.element&&(this.write_(b.COLON),this.visitAny(a.element))},
visitParenExpression:function(a){this.write_(b.OPEN_PAREN);d.prototype.visitParenExpression.call(this,a);this.write_(b.CLOSE_PAREN)},visitPostfixExpression:function(a){this.visitAny(a.operand);this.write_(a.operator)},visitProgram:function(a){this.writelnList_(a.programElements)},visitPropertyMethodAssignment:function(a){a.isGenerator&&this.write_(b.STAR);this.write_(a.name);this.write_(b.OPEN_PAREN);this.visitAny(a.formalParameterList);this.write_(b.CLOSE_PAREN);this.visitAny(a.functionBody)},visitPropertyNameAssignment:function(a){this.write_(a.name);
this.write_(b.COLON);this.visitAny(a.value)},visitPropertyNameShorthand:function(a){this.write_(a.name)},visitQuasiLiteralExpression:function(a){this.visitAny(a.operand);this.writeRaw_(b.BACK_QUOTE);this.visitList(a.elements);this.writeRaw_(b.BACK_QUOTE)},visitQuasiLiteralPortion:function(a){this.writeRaw_(a.value)},visitQuasiSubstitution:function(a){this.writeRaw_(b.DOLLAR);this.writeRaw_(b.OPEN_CURLY);this.visitAny(a.expression);this.writeRaw_(b.CLOSE_CURLY)},visitRequiresMember:function(a){this.write_(c.REQUIRES);
this.write_(a.name);this.write_(b.SEMI_COLON)},visitReturnStatement:function(a){this.write_(b.RETURN);this.visitAny(a.expression);this.write_(b.SEMI_COLON)},visitRestParameter:function(a){this.write_(b.DOT_DOT_DOT);this.write_(a.identifier)},visitSetAccessor:function(a){this.write_(c.SET);this.write_(a.propertyName);this.write_(b.OPEN_PAREN);this.visitAny(a.parameter);this.write_(b.CLOSE_PAREN);this.visitAny(a.body)},visitSpreadExpression:function(a){this.write_(b.DOT_DOT_DOT);this.visitAny(a.expression)},
visitSpreadPatternElement:function(a){this.write_(b.DOT_DOT_DOT);this.visitAny(a.lvalue)},visitStateMachine:function(){throw Error("State machines cannot be converted to source");},visitSuperExpression:function(){this.write_(b.SUPER)},visitSwitchStatement:function(a){this.write_(b.SWITCH);this.write_(b.OPEN_PAREN);this.visitAny(a.expression);this.write_(b.CLOSE_PAREN);this.write_(b.OPEN_CURLY);this.writelnList_(a.caseClauses);this.write_(b.CLOSE_CURLY)},visitThisExpression:function(){this.write_(b.THIS)},
visitThrowStatement:function(a){this.write_(b.THROW);this.visitAny(a.value);this.write_(b.SEMI_COLON)},visitTryStatement:function(a){this.write_(b.TRY);this.visitAny(a.body);this.visitAny(a.catchBlock);this.visitAny(a.finallyBlock)},visitUnaryExpression:function(a){this.write_(a.operator);this.visitAny(a.operand)},visitVariableDeclarationList:function(a){this.write_(a.declarationType);this.writeList_(a.declarations,b.COMMA,!1)},visitVariableDeclaration:function(a){this.visitAny(a.lvalue);null!==a.initializer&&
(this.write_(b.EQUAL),this.visitAny(a.initializer))},visitVariableStatement:function(a){d.prototype.visitVariableStatement.call(this,a);this.write_(b.SEMI_COLON)},visitWhileStatement:function(a){this.write_(b.WHILE);this.write_(b.OPEN_PAREN);this.visitAny(a.condition);this.write_(b.CLOSE_PAREN);this.visitAny(a.body)},visitWithStatement:function(a){this.write_(b.WITH);this.write_(b.OPEN_PAREN);this.visitAny(a.expression);this.write_(b.CLOSE_PAREN);this.visitAny(a.body)},visitYieldStatement:function(a){this.write_(b.YIELD);
a.isYieldFor&&this.write_(b.STAR);this.visitAny(a.expression);this.write_(b.SEMI_COLON)},writeln_:function(){if(null!==this.currentLineComment_){for(;80>this.currentLine_.length;)this.currentLine_.append(" ");this.currentLine_.append(" // ").append(this.currentLineComment_);this.currentLineComment_=null}this.result_.append(this.currentLine_.toString());this.result_.append("\n");this.outputLineCount++;this.currentLine_=new g},writelnList_:function(a,b){b?this.writeList_(a,b,!0):(0<a.length&&this.writeln_(),
this.writeList_(a,null,!0),0<a.length&&this.writeln_())},writeList_:function(a,b,c){for(var d=!0,e=0;e<a.length;e++){var f=a[e];d?d=!1:(null!==b&&this.write_(b),c&&this.writeln_());this.visitAny(f)}},writeTokenList_:function(a,b,c){for(var d=!0,e=0;e<a.length;e++){var f=a[e];d?d=!1:(null!==b&&this.write_(b),c&&this.writeln_());this.write_(f)}},writeRaw_:function(a){null!==a&&this.currentLine_.append(a.toString())},write_:function(a){a===b.CLOSE_CURLY&&this.indentDepth_--;var c=!0,d=!0;switch(a){case b.PERIOD:case b.OPEN_SQUARE:case b.OPEN_PAREN:case b.CLOSE_SQUARE:d=
c=!1;break;case b.COLON:case b.COMMA:case b.SEMI_COLON:case b.CLOSE_PAREN:c=!1}if(null!==a){if(0===this.currentLine_.length)for(var c=0,e=2*this.indentDepth_;c<e;++c)this.currentLine_.append(" ");else!1===c&&" "===this.currentLine_.lastChar()&&this.currentLine_.deleteLastChar();this.currentLine_.append(a.toString());d&&this.currentLine_.append(" ")}a===b.OPEN_CURLY&&this.indentDepth_++}});return{ParseTreeWriter:e}});
traceur.define("outputgeneration",function(){function e(c,e,b){d.call(this,c,e);this.sourceMapGenerator_=b;this.outputLineCount=0}var d=traceur.outputgeneration.ParseTreeWriter;e.prototype=traceur.createObject(d.prototype,{write_:function(c){this.currentLocation&&this.addMapping();d.prototype.write_.apply(this,[c])},addMapping:function(){this.sourceMapGenerator_.addMapping({generated:{line:this.outputLineCount+1,column:this.currentLine_.length},original:{line:this.currentLocation.start.line+1,column:this.currentLocation.start.column},
source:this.currentLocation.start.source.name})}});return{ParseTreeMapWriter:e}});traceur.define("outputgeneration",function(){function e(){}var d=traceur.outputgeneration.ParseTreeWriter,c=traceur.outputgeneration.ParseTreeMapWriter;e.write=function(e,b){var g,a=null,h;b&&(g=b.showLineNumbers,a=b.highlighted||null,h=b.sourceMapGenerator);g=h?new c(a,g,h):new d(a,g);g.visitAny(e);0<g.currentLine_.length&&g.writeln_();h&&(b.sourceMap=h.toString());return g.result_.toString()};return{TreeWriter:e}});
traceur.define("syntax",function(){function e(){b.call(this)}function d(a,b){this.tree=a;this.message=b}var c=traceur.syntax.trees.NewExpression,f=traceur.syntax.trees.ParseTreeType,b=traceur.syntax.ParseTreeVisitor,g=traceur.outputgeneration.TreeWriter,a=traceur.syntax.PredefinedName,h=traceur.syntax.TokenType;d.prototype=Object.create(Error.prototype);e.validate=function(a){var b=new e;try{b.visitAny(a)}catch(c){if(!(c instanceof d))throw c;b=null;null!==c.tree&&(b=c.tree.location);null===b&&(b=
a.location);throw Error("Parse tree validation failure '"+c.message+"' at "+(null!==b?b.start.toString():"(unknown)")+":\n\n"+g.write(a,{highlighted:c.tree,showLineNumbers:!0})+"\n");}};e.prototype=traceur.createObject(b.prototype,{fail_:function(a,b){throw new d(a,b);},check_:function(a,b,c){a||this.fail_(b,c)},checkVisit_:function(a,b,c){this.check_(a,b,c);this.visitAny(b)},checkType_:function(a,b,c){this.checkVisit_(b.type===a,b,c)},visitArgumentList:function(a){for(var b=0;b<a.args.length;b++){var c=
a.args[b];this.checkVisit_(c.isAssignmentOrSpread(),c,"assignment or spread expected")}},visitArrayLiteralExpression:function(a){for(var b=0;b<a.elements.length;b++){var c=a.elements[b];this.checkVisit_(c.isNull()||c.isAssignmentOrSpread(),c,"assignment or spread expected")}},visitArrayPattern:function(a){for(var b=0;b<a.elements.length;b++){var c=a.elements[b];this.checkVisit_(null===c||c.type===f.BINDING_ELEMENT||c.type==f.IDENTIFIER_EXPRESSION||c.isLeftHandSideExpression()||c.isPattern()||c.isSpreadPatternElement(),
c,"null, sub pattern, left hand side expression or spread expected");c&&c.isSpreadPatternElement()&&this.check_(b===a.elements.length-1,c,"spread in array patterns must be the last element")}},visitAwaitStatement:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"await must be expression")},visitBinaryOperator:function(b){switch(b.operator.type){case h.EQUAL:case h.STAR_EQUAL:case h.SLASH_EQUAL:case h.PERCENT_EQUAL:case h.PLUS_EQUAL:case h.MINUS_EQUAL:case h.LEFT_SHIFT_EQUAL:case h.RIGHT_SHIFT_EQUAL:case h.UNSIGNED_RIGHT_SHIFT_EQUAL:case h.AMPERSAND_EQUAL:case h.CARET_EQUAL:case h.BAR_EQUAL:this.check_(b.left.isLeftHandSideExpression()||
b.left.isPattern(),b.left,"left hand side expression or pattern expected");this.check_(b.right.isArrowFunctionExpression(),b.right,"assignment expression expected");break;case h.AND:case h.OR:case h.BAR:case h.CARET:case h.AMPERSAND:case h.EQUAL_EQUAL:case h.NOT_EQUAL:case h.EQUAL_EQUAL_EQUAL:case h.NOT_EQUAL_EQUAL:case h.OPEN_ANGLE:case h.CLOSE_ANGLE:case h.GREATER_EQUAL:case h.LESS_EQUAL:case h.INSTANCEOF:case h.IN:case h.LEFT_SHIFT:case h.RIGHT_SHIFT:case h.UNSIGNED_RIGHT_SHIFT:case h.PLUS:case h.MINUS:case h.STAR:case h.SLASH:case h.PERCENT:this.check_(b.left.isArrowFunctionExpression(),
b.left,"assignment expression expected");this.check_(b.right.isArrowFunctionExpression(),b.right,"assignment expression expected");break;case h.IDENTIFIER:var c=!1;switch(b.operator.value){case a.IS:case a.ISNT:c=!0}if(c)break;default:this.fail_(b,"unexpected binary operator")}this.visitAny(b.left);this.visitAny(b.right)},visitBindingElement:function(a){var b=a.binding;this.checkVisit_(b.type==f.BINDING_IDENTIFIER||b.type==f.OBJECT_PATTERN||b.type==f.ARRAY_PATTERN,b,"expected valid binding element");
this.visitAny(a.initializer)},visitBlock:function(a){for(var b=0;b<a.statements.length;b++){var c=a.statements[b];this.checkVisit_(c.isSourceElement(),c,"statement or function declaration expected")}},visitCallExpression:function(a){this.check_(a.operand.isLeftHandSideExpression()||a.operand.isMemberExpression(),a.operand,"left hand side expression or member expression expected");a.operand instanceof c&&this.check_(null!==a.operand.args,a.operand,"new args expected");this.visitAny(a.operand);this.visitAny(a.args)},
visitCaseClause:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected");for(var b=0;b<a.statements.length;b++){var c=a.statements[b];this.checkVisit_(c.isStatement(),c,"statement expected")}},visitCatch:function(a){this.checkVisit_(a.binding.isPattern()||a.binding.type==f.BINDING_IDENTIFIER,a.binding,"binding identifier expected");this.checkVisit_(a.catchBody.type===f.BLOCK,a.catchBody,"block expected")},visitClassDeclaration:function(a){for(var b=0;b<a.elements.length;b++){var c=
a.elements[b];switch(c.type){case f.GET_ACCESSOR:case f.SET_ACCESSOR:case f.PROPERTY_METHOD_ASSIGNMENT:break;default:this.fail_(c,"class element expected")}this.visitAny(c)}},visitCommaExpression:function(a){for(var b=0;b<a.expressions.length;b++){var c=a.expressions[b];this.checkVisit_(c.isArrowFunctionExpression(),c,"expression expected")}},visitConditionalExpression:function(a){this.checkVisit_(a.condition.isArrowFunctionExpression(),a.condition,"expression expected");this.checkVisit_(a.left.isArrowFunctionExpression(),
a.left,"expression expected");this.checkVisit_(a.right.isArrowFunctionExpression(),a.right,"expression expected")},visitDefaultClause:function(a){for(var b=0;b<a.statements.length;b++){var c=a.statements[b];this.checkVisit_(c.isStatement(),c,"statement expected")}},visitDoWhileStatement:function(a){this.checkVisit_(a.body.isStatement(),a.body,"statement expected");this.checkVisit_(a.condition.isExpression(),a.condition,"expression expected")},visitExportDeclaration:function(a){var b=a.declaration.type;
this.checkVisit_(b==f.VARIABLE_STATEMENT||b==f.FUNCTION_DECLARATION||b==f.MODULE_DEFINITION||b==f.MODULE_DECLARATION||b==f.CLASS_DECLARATION||b==f.EXPORT_MAPPING_LIST,a.declaration,"expected valid export tree")},visitExportMapping:function(a){a.moduleExpression&&this.checkVisit_(a.moduleExpression.type==f.MODULE_EXPRESSION,a.moduleExpression,"module expression expected");var b=a.specifierSet.type;this.checkVisit_(b==f.EXPORT_SPECIFIER_SET||b==f.IDENTIFIER_EXPRESSION,a.specifierSet,"specifier set or identifier expected")},
visitExportMappingList:function(a){this.check_(0<a.paths.length,a,"expected at least one path");for(var b=0;b<a.paths.length;b++){var c=a.paths[b];this.checkVisit_(c.type==f.EXPORT_MAPPING,c,"expected export mapping")}},visitExportSpecifierSet:function(a){this.check_(0<a.specifiers.length,a,"expected at least one identifier");for(var b=0;b<a.specifiers.length;b++){var c=a.specifiers[b];this.checkVisit_(c.type==f.EXPORT_SPECIFIER||c.type==f.IDENTIFIER_EXPRESSION,c,"expected valid export specifier")}},
visitExpressionStatement:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected")},visitFinally:function(a){this.checkVisit_(a.block.type===f.BLOCK,a.block,"block expected")},visitForOfStatement:function(a){this.checkVisit_(a.initializer.isPattern()||a.initializer.type===f.IDENTIFIER_EXPRESSION||a.initializer.type===f.VARIABLE_DECLARATION_LIST&&1===a.initializer.declarations.length,a.initializer,"for-each statement may not have more than one variable declaration");
this.checkVisit_(a.collection.isExpression(),a.collection,"expression expected");this.checkVisit_(a.body.isStatement(),a.body,"statement expected")},visitForInStatement:function(a){a.initializer.type===f.VARIABLE_DECLARATION_LIST?this.checkVisit_(1>=a.initializer.declarations.length,a.initializer,"for-in statement may not have more than one variable declaration"):this.checkVisit_(a.initializer.isPattern()||a.initializer.isExpression(),a.initializer,"variable declaration, expression or pattern expected");
this.checkVisit_(a.collection.isExpression(),a.collection,"expression expected");this.checkVisit_(a.body.isStatement(),a.body,"statement expected")},visitFormalParameterList:function(a){for(var b=0;b<a.parameters.length;b++){var c=a.parameters[b];switch(c.type){case f.BINDING_ELEMENT:break;case f.REST_PARAMETER:this.checkVisit_(b===a.parameters.length-1,c,"rest parameters must be the last parameter in a parameter list");this.checkType_(f.BINDING_IDENTIFIER,c.identifier,"binding identifier expected");
break;default:this.fail_(c,"parameters must be identifiers or rest parameters. Found: "+c.type)}this.visitAny(c)}},visitForStatement:function(a){null!==a.initializer&&!a.initializer.isNull()&&this.checkVisit_(a.initializer.isExpression()||a.initializer.type===f.VARIABLE_DECLARATION_LIST,a.initializer,"variable declaration list or expression expected");null!==a.condition&&this.checkVisit_(a.condition.isExpression(),a.condition,"expression expected");null!==a.increment&&this.checkVisit_(a.condition.isExpression(),
a.increment,"expression expected");this.checkVisit_(a.body.isStatement(),a.body,"statement expected")},visitFunctionDeclaration:function(a){null!==a.name&&this.checkType_(f.BINDING_IDENTIFIER,a.name,"binding identifier expected");this.checkType_(f.FORMAL_PARAMETER_LIST,a.formalParameterList,"formal parameters expected");this.checkType_(f.BLOCK,a.functionBody,"block expected")},visitGetAccessor:function(a){this.checkType_(f.BLOCK,a.body,"block expected")},visitIfStatement:function(a){this.checkVisit_(a.condition.isExpression(),
a.condition,"expression expected");this.checkVisit_(a.ifClause.isStatement(),a.ifClause,"statement expected");null!==a.elseClause&&this.checkVisit_(a.elseClause.isStatement(),a.elseClause,"statement expected")},visitLabelledStatement:function(a){this.checkVisit_(a.statement.isStatement(),a.statement,"statement expected")},visitMemberExpression:function(a){this.check_(a.operand.isMemberExpression(),a.operand,"member expression expected");a.operand instanceof c&&this.check_(null!==a.operand.args,a.operand,
"new args expected");this.visitAny(a.operand)},visitMemberLookupExpression:function(a){this.check_(a.operand.isLeftHandSideExpression(),a.operand,"left hand side expression expected");a.operand instanceof c&&this.check_(null!==a.operand.args,a.operand,"new args expected");this.visitAny(a.operand)},visitMissingPrimaryExpression:function(a){this.fail_(a,"parse tree contains errors")},visitModuleDeclaration:function(a){for(var b=0;b<a.specifiers.length;b++)this.checkType_(f.MODULE_SPECIFIER,a.specifiers[b],
"module specifier expected")},visitModuleDefinition:function(a){for(var b=0;b<a.elements.length;b++){var c=a.elements[b];this.checkVisit_(c.isStatement()&&c.type!==f.BLOCK||c.type===f.CLASS_DECLARATION||c.type===f.EXPORT_DECLARATION||c.type===f.IMPORT_DECLARATION||c.type===f.MODULE_DEFINITION||c.type===f.MODULE_DECLARATION,c,"module element expected")}},visitModuleRequire:function(a){this.check_(a.url.type==h.STRING,a.url,"string expected")},visitModuleSpecifier:function(a){this.checkType_(f.MODULE_EXPRESSION,
a.expression,"module expression expected")},visitNewExpression:function(a){this.checkVisit_(a.operand.isLeftHandSideExpression(),a.operand,"left hand side expression expected");this.visitAny(a.args)},visitObjectLiteralExpression:function(a){for(var b=0;b<a.propertyNameAndValues.length;b++){var c=a.propertyNameAndValues[b];switch(c.type){case f.GET_ACCESSOR:case f.SET_ACCESSOR:case f.PROPERTY_METHOD_ASSIGNMENT:case f.PROPERTY_NAME_ASSIGNMENT:case f.PROPERTY_NAME_SHORTHAND:break;default:this.fail_(c,
"accessor, property name assignment or property method assigment expected")}this.visitAny(c)}},visitObjectPattern:function(a){for(var b=0;b<a.fields.length;b++){var c=a.fields[b];this.checkVisit_(c.type===f.OBJECT_PATTERN_FIELD||c.type===f.BINDING_ELEMENT||c.type===f.IDENTIFIER_EXPRESSION,c,"object pattern field expected")}},visitObjectPatternField:function(a){this.checkVisit_(a.element.type===f.BINDING_ELEMENT||a.element.isPattern()||a.element.isLeftHandSideExpression(),a.element,"binding element expected")},
visitParenExpression:function(a){a.expression.isPattern()?this.visitAny(a.expression):this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected")},visitPostfixExpression:function(a){this.checkVisit_(a.operand.isArrowFunctionExpression(),a.operand,"assignment expression expected")},visitProgram:function(a){for(var b=0;b<a.programElements.length;b++){var c=a.programElements[b];this.checkVisit_(c.isProgramElement(),c,"global program element expected")}},visitPropertyNameAssignment:function(a){this.checkVisit_(a.value.isArrowFunctionExpression(),
a.value,"assignment expression expected")},visitPropertyNameShorthand:function(){},visitQuasiLiteralExpression:function(a){a.operand&&this.checkVisit_(a.operand.isMemberExpression(),a.operand,"member or call expression expected");for(var b=0;b<a.elements.length;b++){var c=a.elements[b];b%2?this.checkType_(f.QUASI_SUBSTITUTION,c,"Quasi substitution expected"):this.checkType_(f.QUASI_LITERAL_PORTION,c,"Quasi literal portion expected")}},visitReturnStatement:function(a){null!==a.expression&&this.checkVisit_(a.expression.isExpression(),
a.expression,"expression expected")},visitSetAccessor:function(a){this.checkType_(f.BLOCK,a.body,"block expected")},visitSpreadExpression:function(a){this.checkVisit_(a.expression.isArrowFunctionExpression(),a.expression,"assignment expression expected")},visitStateMachine:function(a){this.fail_(a,"State machines are never valid outside of the GeneratorTransformer pass.")},visitSwitchStatement:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected");for(var b=0,
c=0;c<a.caseClauses.length;c++){var d=a.caseClauses[c];d.type===f.DEFAULT_CLAUSE?(++b,this.checkVisit_(1>=b,d,"no more than one default clause allowed")):this.checkType_(f.CASE_CLAUSE,d,"case or default clause expected")}},visitThrowStatement:function(a){null!==a.value&&this.checkVisit_(a.value.isExpression(),a.value,"expression expected")},visitTryStatement:function(a){this.checkType_(f.BLOCK,a.body,"block expected");null!==a.catchBlock&&!a.catchBlock.isNull()&&this.checkType_(f.CATCH,a.catchBlock,
"catch block expected");null!==a.finallyBlock&&!a.finallyBlock.isNull()&&this.checkType_(f.FINALLY,a.finallyBlock,"finally block expected");(null===a.catchBlock||a.catchBlock.isNull())&&(null===a.finallyBlock||a.finallyBlock.isNull())&&this.fail_(a,"either catch or finally must be present")},visitUnaryExpression:function(a){this.checkVisit_(a.operand.isArrowFunctionExpression(),a.operand,"assignment expression expected")},visitVariableDeclaration:function(a){this.checkVisit_(a.lvalue.isPattern()||
a.lvalue.type==f.BINDING_IDENTIFIER,a.lvalue,"binding identifier expected, found: "+a.lvalue.type);null!==a.initializer&&this.checkVisit_(a.initializer.isArrowFunctionExpression(),a.initializer,"assignment expression expected")},visitWhileStatement:function(a){this.checkVisit_(a.condition.isExpression(),a.condition,"expression expected");this.checkVisit_(a.body.isStatement(),a.body,"statement expected")},visitWithStatement:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected");
this.checkVisit_(a.body.isStatement(),a.body,"statement expected")},visitYieldStatement:function(a){null!==a.expression&&this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected")}});return{ParseTreeValidator:e}});
traceur.define("codegeneration",function(){function e(){}var d=traceur.syntax.trees.ArgumentList,c=traceur.syntax.trees.ArrayComprehension,f=traceur.syntax.trees.ArrayLiteralExpression,b=traceur.syntax.trees.ArrayPattern,g=traceur.syntax.trees.ArrowFunctionExpression,a=traceur.syntax.trees.AwaitStatement,h=traceur.syntax.trees.BinaryOperator,j=traceur.syntax.trees.BindThisParameter,i=traceur.syntax.trees.BindingElement,k=traceur.syntax.trees.Block,l=traceur.syntax.trees.CallExpression,p=traceur.syntax.trees.CascadeExpression,
o=traceur.syntax.trees.CaseClause,m=traceur.syntax.trees.Catch,n=traceur.syntax.trees.ClassDeclaration,s=traceur.syntax.trees.ClassExpression,q=traceur.syntax.trees.CommaExpression,r=traceur.syntax.trees.ComprehensionFor,x=traceur.syntax.trees.ConditionalExpression,v=traceur.syntax.trees.DefaultClause,w=traceur.syntax.trees.DoWhileStatement,B=traceur.syntax.trees.ExportDeclaration,t=traceur.syntax.trees.ExportMapping,u=traceur.syntax.trees.ExportMappingList,y=traceur.syntax.trees.ExportSpecifierSet,
C=traceur.syntax.trees.ExpressionStatement,z=traceur.syntax.trees.Finally,A=traceur.syntax.trees.ForInStatement,D=traceur.syntax.trees.ForOfStatement,F=traceur.syntax.trees.ForStatement,E=traceur.syntax.trees.FormalParameterList,H=traceur.syntax.trees.FunctionDeclaration,L=traceur.syntax.trees.GeneratorComprehension,Q=traceur.syntax.trees.GetAccessor,K=traceur.syntax.trees.IfStatement,I=traceur.syntax.trees.ImportBinding,J=traceur.syntax.trees.ImportDeclaration,M=traceur.syntax.trees.LabelledStatement,
W=traceur.syntax.trees.MemberExpression,T=traceur.syntax.trees.MemberLookupExpression,R=traceur.syntax.trees.ModuleDeclaration,P=traceur.syntax.trees.ModuleDefinition,X=traceur.syntax.trees.ModuleExpression,O=traceur.syntax.trees.ModuleSpecifier,V=traceur.syntax.trees.NewExpression,U=traceur.syntax.trees.ObjectLiteralExpression,Y=traceur.syntax.trees.ObjectPattern,ba=traceur.syntax.trees.ObjectPatternField,Z=traceur.syntax.trees.ParenExpression,N=traceur.syntax.trees.PostfixExpression,$=traceur.syntax.trees.Program,
fa=traceur.syntax.trees.PropertyMethodAssignment,pa=traceur.syntax.trees.PropertyNameAssignment,ga=traceur.syntax.trees.QuasiLiteralExpression,ia=traceur.syntax.trees.QuasiSubstitution,ja=traceur.syntax.trees.ReturnStatement,qa=traceur.syntax.trees.SetAccessor,ra=traceur.syntax.trees.SpreadExpression,sa=traceur.syntax.trees.SpreadPatternElement,ta=traceur.syntax.trees.SwitchStatement,ua=traceur.syntax.trees.ThrowStatement,va=traceur.syntax.trees.TryStatement,ka=traceur.syntax.trees.UnaryExpression,
wa=traceur.syntax.trees.VariableDeclaration,oa=traceur.syntax.trees.VariableDeclarationList,la=traceur.syntax.trees.VariableStatement,ma=traceur.syntax.trees.WhileStatement,na=traceur.syntax.trees.WithStatement,S=traceur.syntax.trees.YieldStatement,aa=traceur.syntax.trees.getTreeNameForType;e.prototype={transformAny:function(a){return null==a?null:this["transform"+aa(a.type)](a)},transformList:function(a){if(null==a||0==a.length)return a;for(var b=null,c=0;c<a.length;c++){var d=a[c],e=this.transformAny(d);
if(null!=b||d!=e)null==b&&(b=a.slice(0,c)),b.push(e)}return b||a},toSourceElement:function(a){return a.isSourceElement()?a:new C(a.location,a)},transformSourceElements:function(a){if(null==a||0==a.length)return a;for(var b=null,c=0;c<a.length;c++){var d=a[c],e=this.toSourceElement(this.transformAny(d));if(null!=b||d!=e)null==b&&(b=a.slice(0,c)),b.push(e)}return b||a},transformArgumentList:function(a){var b=this.transformList(a.args);return b==a.args?a:new d(a.location,b)},transformArrayComprehension:function(a){var b=
this.transformAny(a.expression),d=this.transformList(a.comprehensionForList),e=this.transformAny(a.ifExpression);return b===a.expression&&d===a.comprehensionForList&&e===a.ifExpression?a:new c(a.location,b,d,e)},transformArrayLiteralExpression:function(a){var b=this.transformList(a.elements);return b==a.elements?a:new f(a.location,b)},transformArrayPattern:function(a){var c=this.transformList(a.elements);return c==a.elements?a:new b(a.location,c)},transformArrowFunctionExpression:function(a){var b=
this.transformAny(a.formalParameters),c=this.transformAny(a.functionBody);return b==a.formalParameters&&c==a.functionBody?a:new g(null,b,c)},transformAwaitStatement:function(b){var c=this.transformAny(b.expression);return b.expression==c?b:new a(b.location,b.identifier,c)},transformBinaryOperator:function(a){var b=this.transformAny(a.left),c=this.transformAny(a.right);return b==a.left&&c==a.right?a:new h(a.location,b,a.operator,c)},transformBindThisParameter:function(a){var b=this.transformAny(a.expression);
return a.expression==b?a:new j(a.location,b)},transformBindingElement:function(a){var b=this.transformAny(a.binding),c=this.transformAny(a.initializer);return b===a.binding&&c===a.initializer?a:new i(a.location,b,c)},transformBindingIdentifier:function(a){return a},transformBlock:function(a){var b=this.transformList(a.statements);return b==a.statements?a:new k(a.location,b)},transformBreakStatement:function(a){return a},transformCallExpression:function(a){var b=this.transformAny(a.operand),c=this.transformAny(a.args);
return b==a.operand&&c==a.args?a:new l(a.location,b,c)},transformCaseClause:function(a){var b=this.transformAny(a.expression),c=this.transformList(a.statements);return b==a.expression&&c==a.statements?a:new o(a.location,b,c)},transformCatch:function(a){var b=this.transformAny(a.catchBody),c=this.transformAny(a.binding);return b==a.catchBody&&c==a.binding?a:new m(a.location,c,b)},transformCascadeExpression:function(a){var b=this.transformAny(a.operand),c=this.transformList(a.expressions);return b==
a.operand&&c==a.expressions?a:new p(a.location,b,c)},transformClassDeclaration:function(a){var b=this.transformAny(a.superClass),c=this.transformList(a.elements);return b==a.superClass&&c==a.elements?a:new n(a.location,a.name,b,c)},transformClassExpression:function(a){var b=this.transformAny(a.superClass),c=this.transformList(a.elements);return b==a.superClass&&c==a.elements?a:new s(a.location,a.name,b,c)},transformCommaExpression:function(a){var b=this.transformList(a.expressions);return b==a.expressions?
a:new q(a.location,b)},transformComprehensionFor:function(a){var b=this.transformAny(a.left),c=this.transformAny(a.iterator);return b===a.left&&c===a.iterator?a:new r(a.location,b,c)},transformConditionalExpression:function(a){var b=this.transformAny(a.condition),c=this.transformAny(a.left),d=this.transformAny(a.right);return b==a.condition&&c==a.left&&d==a.right?a:new x(a.location,b,c,d)},transformContinueStatement:function(a){return a},transformDebuggerStatement:function(a){return a},transformDefaultClause:function(a){var b=
this.transformList(a.statements);return b==a.statements?a:new v(a.location,b)},transformDoWhileStatement:function(a){var b=this.transformAny(a.body),c=this.transformAny(a.condition);return b==a.body&&c==a.condition?a:new w(a.location,b,c)},transformEmptyStatement:function(a){return a},transformExportDeclaration:function(a){var b=this.transformAny(a.declaration);return a.declaration==b?a:new B(a.location,b)},transformExportMappingList:function(a){var b=this.transformList(a.paths);return b==a.paths?
a:new u(a.location,b)},transformExportMapping:function(a){var b=this.transformAny(a.moduleExpression),c=this.transformAny(a.specifierSet);return b==a.moduleExpression&&c==a.specifierSet?a:new t(a.location,b,c)},transformExportSpecifier:function(a){return a},transformExportSpecifierSet:function(a){var b=this.transformList(a.specifiers);return b==a.specifiers?a:new y(a.location,b)},transformExpressionStatement:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:new C(a.location,
b)},transformFinally:function(a){var b=this.transformAny(a.block);return b==a.block?a:new z(a.location,b)},transformForOfStatement:function(a){var b=this.transformAny(a.initializer),c=this.transformAny(a.collection),d=this.transformAny(a.body);return b==a.initializer&&c==a.collection&&d==a.body?a:new D(a.location,b,c,d)},transformForInStatement:function(a){var b=this.transformAny(a.initializer),c=this.transformAny(a.collection),d=this.transformAny(a.body);return b==a.initializer&&c==a.collection&&
d==a.body?a:new A(a.location,b,c,d)},transformForStatement:function(a){var b=this.transformAny(a.initializer),c=this.transformAny(a.condition),d=this.transformAny(a.increment),e=this.transformAny(a.body);return b==a.initializer&&c==a.condition&&d==a.increment&&e==a.body?a:new F(a.location,b,c,d,e)},transformFormalParameterList:function(a){var b=this.transformList(a.parameters);return b==a.parameters?a:new E(a.location,b)},transformFunctionDeclaration:function(a){var b=this.transformAny(a.formalParameterList),
c=this.transformFunctionBody(a.functionBody);return b==a.formalParameterList&&c==a.functionBody?a:new H(a.location,a.name,a.isGenerator,b,c)},transformFunctionBody:function(a){return this.transformAny(a)},transformGeneratorComprehension:function(a){var b=this.transformAny(a.expression),c=this.transformList(a.comprehensionForList),d=this.transformAny(a.ifExpression);return b===a.expression&&c===a.comprehensionForList&&d===a.ifExpression?a:new L(a.location,b,c,d)},transformGetAccessor:function(a){var b=
this.transformFunctionBody(a.body);return b==a.body?a:new Q(a.location,a.propertyName,b)},transformIdentifierExpression:function(a){return a},transformIfStatement:function(a){var b=this.transformAny(a.condition),c=this.transformAny(a.ifClause),d=this.transformAny(a.elseClause);return b==a.condition&&c==a.ifClause&&d==a.elseClause?a:new K(a.location,b,c,d)},transformImportDeclaration:function(a){var b=this.transformList(a.importPathList);return b==a.importPathList?a:new J(a.location,b)},transformImportBinding:function(a){var b=
this.transformAny(a.moduleExpression),c=this.transformList(a.importSpecifierSet);return b==a.moduleExpression&&c==a.importSpecifierSet?a:new I(a.location,b,c)},transformImportSpecifier:function(a){return a},transformLabelledStatement:function(a){var b=this.transformAny(a.statement);return b==a.statement?a:new M(a.location,a.name,b)},transformLiteralExpression:function(a){return a},transformMemberExpression:function(a){var b=this.transformAny(a.operand);return b==a.operand?a:new W(a.location,b,a.memberName)},
transformMemberLookupExpression:function(a){var b=this.transformAny(a.operand),c=this.transformAny(a.memberExpression);return b==a.operand&&c==a.memberExpression?a:new T(a.location,b,c)},transformMissingPrimaryExpression:function(){throw Error("Should never transform trees that had errors during parse");},transformModuleDeclaration:function(a){var b=this.transformList(a.specifiers);return b==a.specifiers?a:new R(a.location,b)},transformModuleDefinition:function(a){var b=this.transformList(a.elements);
return b==a.elements?a:new P(a.location,a.name,b)},transformModuleExpression:function(a){var b=this.transformAny(a.reference);return b==a.reference?a:new X(a.location,b,a.identifiers)},transformModuleRequire:function(a){return a},transformModuleSpecifier:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:new O(a.location,a.identifier,b)},transformNewExpression:function(a){var b=this.transformAny(a.operand),c=this.transformAny(a.args);return b==a.operand&&c==a.args?a:new V(a.location,
b,c)},transformNullTree:function(a){return a},transformObjectLiteralExpression:function(a){var b=this.transformList(a.propertyNameAndValues);return b==a.propertyNameAndValues?a:new U(a.location,b)},transformObjectPattern:function(a){var b=this.transformList(a.fields);return b==a.fields?a:new Y(a.location,b)},transformObjectPatternField:function(a){var b=this.transformAny(a.element);return b==a.element?a:new ba(a.location,a.identifier,b)},transformParenExpression:function(a){var b=this.transformAny(a.expression);
return b==a.expression?a:new Z(a.location,b)},transformPostfixExpression:function(a){var b=this.transformAny(a.operand);return b==a.operand?a:new N(a.location,b,a.operator)},transformProgram:function(a){var b=this.transformList(a.programElements);return b==a.programElements?a:new $(a.location,b)},transformPropertyMethodAssignment:function(a){var b=this.transformAny(a.formalParameterList),c=this.transformFunctionBody(a.functionBody);return b==a.formalParameterList&&c==a.functionBody?a:new fa(a.location,
a.name,a.isGenerator,b,c)},transformPropertyNameAssignment:function(a){var b=this.transformAny(a.value);return b==a.value?a:new pa(a.location,a.name,b)},transformPropertyNameShorthand:function(a){return a},transformQuasiLiteralExpression:function(a){var b=this.transformAny(a.operand),c=this.transformList(a.elements);return b===a.operand&&c==a.elements?a:new ga(a.location,b,c)},transformQuasiLiteralPortion:function(a){return a},transformQuasiSubstitution:function(a){var b=this.transformAny(a.expression);
return b==a.expression?a:new ia(a.location,b)},transformRequiresMember:function(a){return a},transformRestParameter:function(a){return a},transformReturnStatement:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:new ja(a.location,b)},transformSetAccessor:function(a){var b=this.transformAny(a.parameter),c=this.transformFunctionBody(a.body);return b===a.parameter&&c===a.body?a:new qa(a.location,a.propertyName,b,c)},transformSpreadExpression:function(a){var b=this.transformAny(a.expression);
return b==a.expression?a:new ra(a.location,b)},transformSpreadPatternElement:function(a){var b=this.transformAny(a.lvalue);return b==a.lvalue?a:new sa(a.location,b)},transformStateMachine:function(){throw Error();},transformSuperExpression:function(a){return a},transformSwitchStatement:function(a){var b=this.transformAny(a.expression),c=this.transformList(a.caseClauses);return b==a.expression&&c==a.caseClauses?a:new ta(a.location,b,c)},transformThisExpression:function(a){return a},transformThrowStatement:function(a){var b=
this.transformAny(a.value);return b==a.value?a:new ua(a.location,b)},transformTryStatement:function(a){var b=this.transformAny(a.body),c=this.transformAny(a.catchBlock),d=this.transformAny(a.finallyBlock);return b==a.body&&c==a.catchBlock&&d==a.finallyBlock?a:new va(a.location,b,c,d)},transformUnaryExpression:function(a){var b=this.transformAny(a.operand);return b==a.operand?a:new ka(a.location,a.operator,b)},transformVariableDeclaration:function(a){var b=this.transformAny(a.lvalue),c=this.transformAny(a.initializer);
return b==a.lvalue&&c==a.initializer?a:new wa(a.location,b,c)},transformVariableDeclarationList:function(a){var b=this.transformList(a.declarations);return b==a.declarations?a:new oa(a.location,a.declarationType,b)},transformVariableStatement:function(a){var b=this.transformAny(a.declarations);return b==a.declarations?a:new la(a.location,b)},transformWhileStatement:function(a){var b=this.transformAny(a.condition),c=this.transformAny(a.body);return b==a.condition&&c==a.body?a:new ma(a.location,b,c)},
transformWithStatement:function(a){var b=this.transformAny(a.expression),c=this.transformAny(a.body);return b==a.expression&&c==a.body?a:new na(a.location,b,c)},transformYieldStatement:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:new S(a.location,b,a.isYieldFor)}};return{ParseTreeTransformer:e}});
traceur.define("codegeneration",function(){function e(c){try{this.visitAny(c)}catch(e){if(e!==d)throw e;this.found_=!0}}var d={};e.prototype=traceur.createObject(traceur.syntax.ParseTreeVisitor.prototype,{found_:!1,get found(){return this.found_},set found(c){if(c)throw d;},visitFunctionDeclaration:function(){},visitSetAccessor:function(){},visitGetAccessor:function(){},visitPropertyMethodAssignment:function(){}});return{FindInFunctionScope:e}});
traceur.define("codegeneration",function(){function e(a){c.call(this,a)}function d(a){this.reporter_=a}var c=traceur.codegeneration.FindInFunctionScope,f=traceur.syntax.trees.FormalParameterList,b=traceur.codegeneration.ParseTreeFactory,g=traceur.codegeneration.ParseTreeTransformer,a=traceur.syntax.trees.ParseTreeType,h=traceur.syntax.PredefinedName,j=b.createArgumentList,i=b.createBlock,k=b.createCallExpression,l=b.createFunctionExpression,p=b.createMemberExpression,o=b.createParenExpression,m=b.createReturnStatement,
n=b.createThisExpression;e.prototype=traceur.createObject(c.prototype,{visitThisExpression:function(){this.found=!0}});d.transformTree=function(a,b){return(new d(a)).transformAny(b)};d.prototype=traceur.createObject(g.prototype,{transformArrowFunctionExpression:function(b){var c;c=b.formalParameters?this.transformAny(b.formalParameters).parameters:[];b=this.transformAny(b.functionBody);b.type!=a.BLOCK&&(b=i(m(b)));c=o(l(new f(null,c),b));return(new e(b)).found?k(p(c,h.BIND),j(n())):c}});return{ArrowFunctionTransformer:d}});
traceur.define("codegeneration",function(){function e(){}var d=traceur.codegeneration.ParseTreeFactory,c=d.createArgumentList,f=d.createArrayLiteralExpression,b=d.createCallExpression,g=d.createFunctionDeclaration,a=d.createMemberExpression,h=d.createObjectLiteralExpression,j=d.createStringLiteral,i=traceur.syntax.TokenType,k=traceur.syntax.trees.LiteralExpression,l=traceur.syntax.trees.PropertyNameAssignment,d=traceur.codegeneration.ParseTreeTransformer,p=traceur.syntax.PredefinedName.MARK_METHODS,
o=traceur.syntax.PredefinedName.RUNTIME,m=traceur.syntax.PredefinedName.TRACEUR,n=[];e.transformTree=function(a){return(new e).transformAny(a)};e.prototype=traceur.createObject(d.prototype,{transformObjectLiteralExpression:function(d){n.push([]);var e=this.transformList(d.propertyNameAndValues);if(e==d.propertyNameAndValues)return n.pop(),d;d=n.pop();e=h(e);if(!d.length)return e;var g=a(m,o,p),d=d.map(function(a){return a.type==i.STRING?new k(null,a):j(a.toString())});return b(g,c(e,f(d)))},transformPropertyMethodAssignment:function(a){n[n.length-
1].push(a.name);var b=this.transformAny(a.formalParameterList),c=this.transformAny(a.functionBody),d=null;a.name.type==i.IDENTIFIER&&(d=a.name);b=g(d,b,c);return new l(a.location,a.name,b)}});return{PropertyMethodAssignmentTransformer:e}});
traceur.define("codegeneration",function(){function e(){}var d=traceur.syntax.trees.IdentifierExpression,c=traceur.syntax.trees.PropertyNameAssignment,f=traceur.codegeneration.ParseTreeTransformer;e.transformTree=function(b){return(new e).transformAny(b)};e.prototype=traceur.createObject(f.prototype,{transformPropertyNameShorthand:function(b){return new c(b.location,b.name,new d(b.location,b.name))}});return{PropertyNameShorthandTransformer:e}});
traceur.define("codegeneration",function(){function e(a,b){d.call(this);this.oldName_=a;this.newName_=b}var d=traceur.codegeneration.ParseTreeTransformer,c=traceur.codegeneration.ParseTreeFactory,f=traceur.semantics.VariableBinder,b=f.variablesInFunction,g=f.variablesInBlock,a=c.createIdentifierExpression,h=traceur.syntax.PredefinedName,j=c.createFunctionDeclaration;e.rename=function(a,b,c){return(new e(b,c)).transformAny(a)};var i=d.prototype;e.prototype=traceur.createObject(i,{transformBlock:function(a){return this.oldName_ in
g(a)?a:i.transformBlock.call(this,a)},transformIdentifierExpression:function(b){return this.oldName_==b.identifierToken.value?a(this.newName_):b},transformThisExpression:function(b){return this.oldName_!==h.THIS?b:a(this.newName_)},transformFunctionDeclaration:function(a){this.oldName_==a.name&&(a=j(this.newName_,a.formalParameterList,a.functionBody));return this.oldName_===h.ARGUMENTS||this.oldName_===h.THIS||this.oldName_ in b(a)?a:i.transformFunctionDeclaration.call(this,a)},transformCatch:function(a){return!a.binding.isPattern()&&
this.oldName_===a.binding.identifierToken.value?a:i.transformCatch.call(this,a)}});return{AlphaRenamer:e}});
traceur.define("codegeneration",function(){function e(a,b){a.tempVarStack_.push([]);var c=a.transformList(b),d=a.tempVarStack_.pop();return!d.length?c:c=[h(i(g.VAR,d))].concat(c)}function d(a){a=a.tempVarStack_[a.tempVarStack_.length-1];if(!a)throw Error("Invalid use of addTempVar");return a}function c(a){this.identifierGenerator=a;this.tempVarStack_=[]}var f=traceur.codegeneration.ParseTreeFactory,b=traceur.syntax.trees.Program,g=traceur.syntax.TokenType,a=f.createBlock,h=f.createVariableStatement,
j=f.createVariableDeclaration,i=f.createVariableDeclarationList;c.prototype=traceur.createObject(traceur.codegeneration.ParseTreeTransformer.prototype,{transformProgram:function(a){var c=e(this,a.programElements);return c==a.programElements?a:new b(null,c)},transformFunctionBody:function(b){var c=e(this,b.statements);return c==b.statements?b:a(c)},addTempVar:function(a){var b=d(this),c=this.identifierGenerator.generateUniqueIdentifier();b.push(j(c,a||null));return c},removeTempVar:function(a){for(var b=
d(this),c=-1,e=0;e<b.length;e++)if(b[e].lvalue.identifierToken.value===a){c=e;break}-1!==c&&b.splice(c,1)}});return{TempVarTransformer:c}});
traceur.define("codegeneration",function(){function e(a){this.rvalue=a}function d(a){this.rvalue=a;this.expressions=[]}function c(a){this.rvalue=a;this.declarations=[]}function f(a,c,d){return c.type!==q.IDENTIFIER?b(a,new l(null,c),d):!d?A(a,c):y(v(L(c.value),E(q.IN),a),A(a,c),d)}function b(a,b,c){return!c?D(a,b):y(v(b,E(q.IN),a),D(a,b),c)}function g(a){s.call(this,a)}var a=traceur.syntax.trees.BindingElement,h=traceur.syntax.trees.Catch,j=traceur.syntax.trees.ForInStatement,i=traceur.syntax.trees.ForOfStatement,
k=traceur.syntax.trees.FunctionDeclaration,l=traceur.syntax.trees.LiteralExpression,p=traceur.codegeneration.ParseTreeFactory,o=traceur.syntax.trees.ParseTreeType,m=traceur.syntax.PredefinedName,n=traceur.syntax.trees.SetAccessor,s=traceur.codegeneration.TempVarTransformer,q=traceur.syntax.TokenType,r=p.createArgumentList,x=p.createAssignmentExpression,v=p.createBinaryOperator,w=p.createBindingIdentifier,B=p.createBlock,t=p.createCallExpression,u=p.createCommaExpression,y=p.createConditionalExpression,
C=p.createExpressionStatement,z=p.createIdentifierExpression,A=p.createMemberExpression,D=p.createMemberLookupExpression,F=p.createNumberLiteral,E=p.createOperatorToken,H=p.createParenExpression,L=p.createStringLiteral,Q=p.createVariableDeclaration,K=p.createVariableDeclarationList,I=p.createVariableStatement,J=[];d.prototype=traceur.createObject(e.prototype,{assign:function(a,b){this.expressions.push(x(a,b))}});c.prototype=traceur.createObject(e.prototype,{assign:function(a,b){a.type===o.BINDING_ELEMENT?
this.declarations.push(Q(a.binding,b)):(a.type==o.IDENTIFIER_EXPRESSION&&(a=w(a)),this.declarations.push(Q(a,b)))}});g.transformTree=function(a,b){return(new g(a)).transformAny(b)};var M=s.prototype;g.prototype=traceur.createObject(M,{transformArrayPattern:function(){throw Error("unreachable");},transformObjectPattern:function(){throw Error("unreachable");},transformBinaryOperator:function(a){return a.operator.type==q.EQUAL&&a.left.isPattern()?this.transformAny(this.desugarAssignment_(a.left,a.right)):
M.transformBinaryOperator.call(this,a)},desugarAssignment_:function(a,b){var c=z(this.addTempVar()),e=new d(c);this.desugarPattern_(e,a);e.expressions.unshift(x(c,b));e.expressions.push(c);return H(u(e.expressions))},transformVariableDeclarationList:function(a){if(!this.destructuringInDeclaration_(a))return M.transformVariableDeclarationList.call(this,a);var b=[];a.declarations.forEach(function(a){a.lvalue.isPattern()?b.push.apply(b,this.desugarVariableDeclaration_(a)):b.push(a)},this);return this.transformVariableDeclarationList(K(a.declarationType,
b))},transformForInStatement:function(a){return this.transformForInOrOf_(a,M.transformForInStatement,j)},transformForOfStatement:function(a){return this.transformForInOrOf_(a,M.transformForOfStatement,i)},transformForInOrOf_:function(a,b,c){if(!a.initializer.isPattern()&&(a.initializer.type!==o.VARIABLE_DECLARATION_LIST||!this.destructuringInDeclaration_(a.initializer)))return b.call(this,a);var d,e;a.initializer.isPattern()?(d=null,e=a.initializer):(d=a.initializer.declarationType,e=a.initializer.declarations[0].lvalue);
b=[];d=this.desugarBinding_(e,b,d);d=K(q.VAR,d,null);e=this.transformAny(a.collection);var f=this.transformAny(a.body);f.type!==o.BLOCK&&(f=B(f));b.push.apply(b,f.statements);f=B(b);return new c(a.location,d,e,f)},transformFunctionDeclaration:function(a){J.push([]);var a=M.transformFunctionDeclaration.call(this,a),b=J.pop();if(!b.length)return a;b.push.apply(b,a.functionBody.statements);return new k(a.location,a.name,a.isGenerator,a.formalParameterList,B(b))},transformSetAccessor:function(a){J.push([]);
var a=M.transformSetAccessor.call(this,a),b=J.pop();if(!b.length)return a;b.push.apply(b,a.body.statements);return new n(a.location,a.propertyName,a.parameter,B(b))},transformBindingElement:function(b){if(!b.binding.isPattern()||b.initializer)return b;b=this.desugarBinding_(b.binding,J[J.length-1],q.VAR);return new a(null,b,null)},transformCatch:function(a){if(!a.binding.isPattern())return M.transformCatch.call(this,a);var b=this.transformAny(a.catchBody),c=[],d=this.desugarBinding_(a.binding,c,q.LET);
c.push.apply(c,b.statements);return new h(a.location,d,B(c))},desugarBinding_:function(a,b,e){var f=this.gensym_(a),g=w(f),f=z(f),f=null===e?new d(f):new c(f);this.desugarPattern_(f,a);null===e?b.push(C(u(f.expressions))):b.push(I(this.transformVariableDeclarationList(K(e,f.declarations))));return g},destructuringInDeclaration_:function(a){return a.declarations.some(function(a){return a.lvalue.isPattern()})},desugarVariableDeclaration_:function(a){var b=new c(z(this.gensym_(a.lvalue)));b.assign(b.rvalue,
a.initializer);this.desugarPattern_(b,a.lvalue);return b.declarations},desugarPattern_:function(a,c){switch(c.type){case o.ARRAY_PATTERN:for(var d=c,e=0;e<d.elements.length;e++){var g=d.elements[e];null!==g&&(g.isSpreadPatternElement()?a.assign(g.lvalue,t(A(m.ARRAY,m.PROTOTYPE,m.SLICE,m.CALL),r(a.rvalue,F(e)))):a.assign(g,b(a.rvalue,F(e),g.initializer)))}break;case o.OBJECT_PATTERN:c.fields.forEach(function(b){var c;switch(b.type){case o.BINDING_ELEMENT:c=f(a.rvalue,b.binding.identifierToken,b.initializer);
a.assign(z(b.binding),c);break;case o.OBJECT_PATTERN_FIELD:c=f(a.rvalue,b.identifier,b.element.initializer);a.assign(b.element,c);break;case o.IDENTIFIER_EXPRESSION:c=A(a.rvalue,b.identifierToken);a.assign(b,c);break;default:throw Error("unreachable");}});break;case o.PAREN_EXPRESSION:this.desugarPattern_(a,c.expression);break;default:throw Error("unreachable");}},gensym_:function(a){a=this.collectLvalueIdentifiers_(Object.create(null),a);a=Object.keys(a).sort();return"destructuring$"+a.join("$")},
collectLvalueIdentifiers_:function(a,b){if(null!==b){switch(b.type){case o.BINDING_ELEMENT:this.collectLvalueIdentifiers_(a,b.binding);break;case o.BINDING_IDENTIFIER:case o.IDENTIFIER_EXPRESSION:a[b.identifierToken.value]=!0;break;case o.ARRAY_PATTERN:b.elements.forEach(function(b){this.collectLvalueIdentifiers_(a,b)},this);break;case o.OBJECT_PATTERN:b.fields.forEach(function(b){this.collectLvalueIdentifiers_(a,b)},this);break;case o.OBJECT_PATTERN_FIELD:this.collectLvalueIdentifiers_(a,b.element);
break;case o.PAREN_EXPRESSION:this.collectLvalueIdentifiers_(a,b.expression);break;case o.SPREAD_PATTERN_ELEMENT:this.collectLvalueIdentifiers_(a,b.lvalue);break;default:throw Error("unreachable");}return a}}});return{DestructuringTransformer:g}});
traceur.define("codegeneration",function(){function e(){b.call(this)}var d=traceur.syntax.trees.FormalParameterList,c=traceur.syntax.trees.FunctionDeclaration,f=traceur.codegeneration.ParseTreeFactory,b=traceur.codegeneration.ParseTreeTransformer,g=traceur.syntax.trees.ParseTreeType,a=traceur.syntax.PredefinedName,h=traceur.syntax.TokenType,j=f.createBinaryOperator,i=f.createBlock,k=f.createConditionalExpression,l=f.createIdentifierExpression,p=f.createMemberLookupExpression,o=f.createNumberLiteral,
m=f.createOperatorToken,n=f.createVariableStatement,s=f.createVoid0,q=[];e.transformTree=function(a){return(new e).transformAny(a)};e.prototype=traceur.createObject(b.prototype,{transformFunctionDeclaration:function(a){q.push([]);var a=b.prototype.transformFunctionDeclaration.call(this,a),d=q.pop();if(!d.length)return a;d.push.apply(d,a.functionBody.statements);return new c(a.location,a.name,a.isGenerator,a.formalParameterList,i(d))},transformFormalParameterList:function(b){for(var c=[],e=q[q.length-
1],f=!1,i=0;i<b.parameters.length;i++){var t=this.transformAny(b.parameters[i]);t!==b.parameters[i]&&(f=!0);t.type===g.REST_PARAMETER||!t.initializer?c.push(t):(f=!0,e.push(n(h.VAR,t.binding,k(j(p(l(a.ARGUMENTS),o(i)),m(h.NOT_EQUAL_EQUAL),s()),p(l(a.ARGUMENTS),o(i)),t.initializer))))}return!f?b:new d(b.location,c)}});return{DefaultParametersTransformer:e}});
traceur.define("codegeneration",function(){function e(){d.call(this)}var d=traceur.codegeneration.ParseTreeTransformer,c=traceur.codegeneration.ParseTreeFactory.createArgumentList,f=traceur.codegeneration.ParseTreeFactory.createBlock,b=traceur.codegeneration.ParseTreeFactory.createCallExpression,g=traceur.codegeneration.ParseTreeFactory.createFunctionDeclaration,a=traceur.codegeneration.ParseTreeFactory.createIdentifierExpression,h=traceur.codegeneration.ParseTreeFactory.createMemberExpression,j=
traceur.codegeneration.ParseTreeFactory.createNumberLiteral,i=traceur.codegeneration.ParseTreeFactory.createVariableStatement,k=traceur.syntax.PredefinedName,l=traceur.syntax.TokenType,p=traceur.syntax.trees.FormalParameterList;e.transformTree=function(a){return(new e).transformAny(a)};e.prototype=traceur.createObject(d.prototype,{transformFunctionDeclaration:function(a){var b=a.formalParameterList.parameters;return 0<b.length&&b[b.length-1].isRestParameter()?this.desugarRestParameters_(a):d.prototype.transformFunctionDeclaration.call(this,
a)},desugarRestParameters_:function(d){var e=new p(d.formalParameterList.location,d.formalParameterList.parameters.slice(0,d.formalParameterList.parameters.length-1)),n=b(h(k.ARRAY,k.PROTOTYPE,"slice",k.CALL),c(a(k.ARGUMENTS),j(d.formalParameterList.parameters.length-1))),s=d.formalParameterList.parameters,n=i(l.VAR,s[s.length-1].identifier.identifierToken.value,n),s=[];s.push(n);s.push.apply(s,d.functionBody.statements);return g(d.name,e,this.transformAny(f(s)))}});return{RestParameterTransformer:e}});
traceur.define("codegeneration",function(){function e(a){return a.some(function(a){return a.type==u.SPREAD_EXPRESSION})}function d(b){var c=[];b.forEach(function(a){a.type==u.SPREAD_EXPRESSION?(c.push(j(!0)),c.push(a.expression)):(c.push(j(!1)),c.push(a))});return a(c)}function c(a){a=d(a);return i(l(t,v,w),g(a))}function f(a,b,d){d=h(q(i(l(d,x),g(n(0),n(1)))));d=s(k(m(2),d));return i(d,g(b,c(a.args.args)))}function b(){}var g=traceur.codegeneration.ParseTreeFactory.createArgumentList,a=traceur.codegeneration.ParseTreeFactory.createArrayLiteralExpression,
h=traceur.codegeneration.ParseTreeFactory.createBlock,j=traceur.codegeneration.ParseTreeFactory.createBooleanLiteral,i=traceur.codegeneration.ParseTreeFactory.createCallExpression,k=traceur.codegeneration.ParseTreeFactory.createFunctionExpression,l=traceur.codegeneration.ParseTreeFactory.createMemberExpression,p=traceur.codegeneration.ParseTreeFactory.createMemberLookupExpression,o=traceur.codegeneration.ParseTreeFactory.createNullLiteral,m=traceur.codegeneration.ParseTreeFactory.createParameterList,
n=traceur.codegeneration.ParseTreeFactory.createParameterReference,s=traceur.codegeneration.ParseTreeFactory.createParenExpression,q=traceur.codegeneration.ParseTreeFactory.createReturnStatement,r=traceur.codegeneration.ParseTreeTransformer,x=traceur.syntax.PredefinedName.APPLY,v=traceur.syntax.PredefinedName.RUNTIME,w=traceur.syntax.PredefinedName.SPREAD,B=traceur.syntax.PredefinedName.SPREAD_NEW,t=traceur.syntax.PredefinedName.TRACEUR,u=traceur.syntax.trees.ParseTreeType;b.transformTree=function(a){return(new b).transformAny(a)};
b.prototype=traceur.createObject(r.prototype,{transformArrayLiteralExpression:function(a){return e(a.elements)?c(a.elements):r.prototype.transformArrayLiteralExpression.call(this,a)},transformCallExpression:function(a){if(e(a.args.args)){if(a.operand.type==u.MEMBER_EXPRESSION)var b=a.operand,a=f(a,b.operand,l(n(0),b.memberName));else a.operand.type==u.MEMBER_LOOKUP_EXPRESSION?(b=a.operand,a=f(a,b.operand,p(n(0),b.memberExpression))):a=i(l(a.operand,x),g(o(),c(a.args.args)));return a}return r.prototype.transformCallExpression.call(this,
a)},transformNewExpression:function(a){return null!=a.args&&e(a.args.args)?i(l(t,v,B),g(a.operand,d(a.args.args))):r.prototype.transformNewExpression.call(this,a)}});return{SpreadTransformer:b}});traceur.define("codegeneration",function(){function e(){this.identifierIndex=0}e.prototype={generateUniqueIdentifier:function(){return"$__"+this.identifierIndex++}};return{UniqueIdentifierGenerator:e}});
traceur.define("codegeneration",function(){function e(a){c.call(this);this.identifierGenerator_=a}var d=traceur.codegeneration.ParseTreeFactory,c=traceur.codegeneration.ParseTreeTransformer,f=traceur.syntax.trees.ParseTreeType,b=traceur.syntax.PredefinedName,g=traceur.syntax.TokenType,a=d.createArgumentList,h=d.createAssignmentExpression,j=d.createBlock,i=d.createCallExpression,k=d.createCallStatement,l=d.createExpressionStatement,p=d.createFinally,o=d.createIfStatement,m=d.createMemberExpression,
n=d.createTryStatement,s=d.createVariableStatement,q=d.createWhileStatement;e.transformTree=function(a,b){return(new e(a)).transformAny(b)};e.prototype=traceur.createObject(c.prototype,{transformForOfStatement:function(d){var e=c.prototype.transformForOfStatement.call(this,d),v=this.identifierGenerator_.generateUniqueIdentifier(),d=s(g.VAR,v,i(m(b.TRACEUR,b.RUNTIME,b.GET_ITERATOR),a(e.collection))),w;w=e.initializer.type===f.VARIABLE_DECLARATION_LIST?s(e.initializer.declarationType,e.initializer.declarations[0].lvalue,
m(v,b.CURRENT)):l(h(e.initializer,m(v,b.CURRENT)));e=j(w,e.body);e=q(i(m(v,b.MOVE_NEXT)),e);v=o(m(v,b.CLOSE),k(m(v,b.CLOSE)));return j(d,n(j(e),null,p(j(v))))}});return{ForOfTransformer:e}});
traceur.define("codegeneration",function(){function e(a,b){var c=b.name,e=b.tree;switch(e.type){case v:e=d(a,e.lhs,b.relatedTree);break;case B:e=b.relatedTree?d(a,e.identifierToken,b.relatedTree):e;break;default:e=I(c)}e=K(L(),F(O(e)));e=T(X(m.GET,e),X(m.ENUMERABLE,Y()));return Q(H(J(m.OBJECT,m.DEFINE_PROPERTY),A(U(),V(c),e)))}function d(a,b,d){return d?(a=(new c(a)).transformAny(d),J(a,b)):I(b)}function c(a){p.call(this);this.project_=a}function f(a,d,f){var h=[];h.push(ba());d.getExports().forEach(function(b){h.push(e(a,
b))});h.push(Q(W(U())));f.forEach(function(e){switch(e.type){case u:h.push(g(a,d,e));break;case y:h.push(b(a,d,e));break;case r:e=e.declaration;switch(e.type){case y:h.push(b(a,d,e));break;case u:h.push(g(a,d,e));break;case x:break;case q:case w:case z:h.push(e);break;default:throw Error("unreachable");}break;case t:var f=new c(a);h.push(f.transformAny(e));break;default:h.push(e)}});h.push(O(U()));f=H(J(m.OBJECT,m.CREATE),A(M()));return E(R(K(L(),F(h))),f)}function b(a,b,c){b=b.getModule(c.name.value);
a=f(a,b,c.elements);return $(s.VAR,b.name,a)}function g(a,b,d){a=new c(a);d=d.specifiers.map(a.transformAny,a);d=N(s.VAR,d);return $(d)}var a=traceur.syntax.trees.BindingElement,h=traceur.syntax.trees.BindingIdentifier,j=traceur.syntax.trees.LiteralExpression,i=traceur.syntax.trees.ObjectPattern,k=traceur.syntax.trees.ObjectPatternField,l=traceur.codegeneration.ParseTreeFactory,p=traceur.codegeneration.ParseTreeTransformer,o=traceur.syntax.trees.ParseTreeType,m=traceur.syntax.PredefinedName,n=traceur.syntax.trees.Program,
s=traceur.syntax.TokenType,q=o.CLASS_DECLARATION,r=o.EXPORT_DECLARATION,x=o.EXPORT_MAPPING_LIST,v=o.EXPORT_SPECIFIER,w=o.FUNCTION_DECLARATION,B=o.IDENTIFIER_EXPRESSION,t=o.IMPORT_DECLARATION,u=o.MODULE_DECLARATION,y=o.MODULE_DEFINITION,C=o.MODULE_REQUIRE,z=o.VARIABLE_STATEMENT,A=l.createArgumentList,D=l.createBindingIdentifier,F=l.createBlock,E=l.createCallCall,H=l.createCallExpression,L=l.createEmptyParameterList,Q=l.createExpressionStatement,K=l.createFunctionExpression,I=l.createIdentifierExpression,
J=l.createMemberExpression,M=l.createNullLiteral,W=l.createObjectFreeze,T=l.createObjectLiteralExpression,R=l.createParenExpression,P=l.createProgram,X=l.createPropertyNameAssignment,O=l.createReturnStatement,V=l.createStringLiteral,U=l.createThisExpression,Y=l.createTrueLiteral,ba=l.createUseStrictDirective,Z=l.createVariableDeclaration,N=l.createVariableDeclarationList,$=l.createVariableStatement;c.prototype=traceur.createObject(p.prototype,{transformModuleExpression:function(a){var b=a.reference;
return b.type==C?H(J(m.TRACEUR,m.RUNTIME,m.GET_MODULE_INSTANCE_BY_URL),A(new j(null,b.url))):0==a.identifiers.length?b:J(b,a.identifiers)},transformModuleSpecifier:function(a){var b=this.transformAny(a.expression);return Z(a.identifier,b)},transformImportDeclaration:function(a){a=this.transformList(a.importPathList);return $(N(s.VAR,a))},transformImportBinding:function(b){var c;b.importSpecifierSet.type==o.IDENTIFIER_EXPRESSION?(c=new a(b.location,D(b.importSpecifierSet.identifierToken),null),c=new i(b.location,
[c])):c=this.transformAny(b.importSpecifierSet);b=this.transformAny(b.moduleExpression);return Z(c,b)},transformImportSpecifierSet:function(b){var c;c=b.specifiers.type===s.STAR?this.project_.getModuleForStarTree(b).getExports().map(function(c){return new a(b.location,D(c.name),null)}):this.transformList(b.specifiers);return new i(null,c)},transformImportSpecifier:function(b){if(b.rhs){var c=new h(b.location,b.rhs),c=new a(b.location,c,null);return new k(b.location,b.lhs,c)}return new a(b.location,
D(b.lhs),null)}});c.transform=function(a,d){var e=a.getRootModule(),f=d.programElements.map(function(d){switch(d.type){case y:return b(a,e,d);case u:return g(a,e,d);case t:return(new c(a)).transformAny(d);default:return d}},this);return new n(d.location,f)};c.transformAsModule=function(a,b,c){a=f(a,b,c.programElements);return P([Q(a)])};return{ModuleTransformer:c}});
traceur.define("codegeneration",function(){function e(a){switch(a){case f.STAR_EQUAL:return f.STAR;case f.SLASH_EQUAL:return f.SLASH;case f.PERCENT_EQUAL:return f.PERCENT;case f.PLUS_EQUAL:return f.PLUS;case f.MINUS_EQUAL:return f.MINUS;case f.LEFT_SHIFT_EQUAL:return f.LEFT_SHIFT;case f.RIGHT_SHIFT_EQUAL:return f.RIGHT_SHIFT;case f.UNSIGNED_RIGHT_SHIFT_EQUAL:return f.UNSIGNED_RIGHT_SHIFT;case f.AMPERSAND_EQUAL:return f.AMPERSAND;case f.CARET_EQUAL:return f.CARET;case f.BAR_EQUAL:return f.BAR;default:throw Error("unreachable");
}}var d=traceur.codegeneration.ParseTreeFactory,c=traceur.syntax.trees.ParseTreeType,f=traceur.syntax.TokenType,b=d.createAssignmentExpression,g=d.createBinaryOperator,a=d.createCommaExpression,h=d.createIdentifierExpression,j=d.createMemberExpression,i=d.createMemberLookupExpression,k=d.createOperatorToken,l=d.createParenExpression;return{expandMemberLookupExpression:function(d,f){var j,n=[];d.left.operand.type==c.SUPER_EXPRESSION||d.left.operand.type==c.IDENTIFIER_EXPRESSION?j=d.left.operand:(j=
h(f.addTempVar()),n.push(b(j,d.left.operand)));var s=h(f.addTempVar());n.push(b(s,d.left.memberExpression),b(i(j,s),g(i(j,s),k(e(d.operator.type)),d.right)));return l(a(n))},expandMemberExpression:function(d,f){var i,n=[];d.left.operand.type==c.SUPER_EXPRESSION||d.left.operand.type==c.IDENTIFIER_EXPRESSION?i=d.left.operand:(i=h(f.addTempVar()),n.push(b(i,d.left.operand)));n.push(b(j(i,d.left.memberName),g(j(i,d.left.memberName),k(e(d.operator.type)),d.right)));return l(a(n))}}});
traceur.define("codegeneration",function(){function e(a,b,d,e){c.call(this);this.tempVarTransformer_=a;this.className_=d;this.method_=e;this.reporter_=b}var d=traceur.codegeneration.ParseTreeFactory,c=traceur.codegeneration.ParseTreeTransformer,f=traceur.syntax.trees.ParseTreeType,b=traceur.syntax.PredefinedName,g=traceur.syntax.TokenType,a=traceur.codegeneration.expandMemberExpression,h=traceur.codegeneration.expandMemberLookupExpression,j=d.createArgumentList,i=d.createArrayLiteralExpression,k=
d.createCallExpression,l=d.createMemberExpression,p=d.createStringLiteral,o=d.createThisExpression,m=c.prototype;e.prototype=traceur.createObject(m,{superFound_:!1,get hasSuper(){return this.superFound_},transformFunctionDeclaration:function(a){return a},transformGetAccessor:function(a){return a},transformSetAccessor:function(a){return a},transformPropertyMethodAssignMent:function(a){return a},transformCallExpression:function(a){if(this.method_&&a.operand.type==f.SUPER_EXPRESSION){this.superFound_=
!0;var c=this.method_.name.value;return k(l(b.TRACEUR,b.RUNTIME,b.SUPER_CALL),j(o(),this.className_,p(c),i(a.args.args)))}return(a.operand.type==f.MEMBER_EXPRESSION||a.operand.type==f.MEMBER_LOOKUP_EXPRESSION)&&a.operand.operand.type==f.SUPER_EXPRESSION?(this.superFound_=!0,c=a.operand.type==f.MEMBER_EXPRESSION?p(a.operand.memberName.value):a.operand.memberExpression,k(l(b.TRACEUR,b.RUNTIME,b.SUPER_CALL),j(o(),this.className_,c,i(a.args.args)))):m.transformCallExpression.call(this,a)},transformMemberShared_:function(a,
c){return k(l(b.TRACEUR,b.RUNTIME,b.SUPER_GET),j(o(),this.className_,c))},transformMemberExpression:function(a){return a.operand.type===f.SUPER_EXPRESSION?this.transformMemberShared_(a,p(a.memberName.value)):m.transformMemberExpression.call(this,a)},transformMemberLookupExpression:function(a){return a.operand.type===f.SUPER_EXPRESSION?this.transformMemberShared_(a,a.memberExpression):m.transformMemberLookupExpression.call(this,a)},transformBinaryOperator:function(c){if(c.operator.isAssignmentOperator()&&
(c.left.type===f.MEMBER_EXPRESSION||c.left.type===f.MEMBER_LOOKUP_EXPRESSION)&&c.left.operand.type===f.SUPER_EXPRESSION){if(c.operator.type!==g.EQUAL)return c=c.left.type===f.MEMBER_LOOKUP_EXPRESSION?h(c,this.tempVarTransformer_):a(c,this.tempVarTransformer_),this.transformAny(c);this.superFound_=!0;var d=c.left.type===f.MEMBER_LOOKUP_EXPRESSION?c.left.memberExpression:p(c.left.memberName.value);return k(l(b.TRACEUR,b.RUNTIME,b.SUPER_SET),j(o(),this.className_,d,this.transformAny(c.right)))}return m.transformBinaryOperator.call(this,
c)},transformSuperExpression:function(a){this.reportError_(a,'"super" may only be used on the LHS of a member access expression before a call (TODO wording)');return a},reportError_:function(a,b,c){var d=Array.prototype.slice.call(arguments);d[0]=a.location.start;this.reporter_.reportError.apply(this.reporter_,d)}});return{SuperTransformer:e}});
traceur.define("codegeneration",function(){function e(a,b){switch(b.type){case f.MEMBER_EXPRESSION:return l(e(a,b.operand),b.memberName);case f.MEMBER_LOOKUP_EXPRESSION:return p(e(a,b.operand),b.memberExpression);case f.IDENTIFIER_EXPRESSION:return l(a,b.identifierToken);case f.CALL_EXPRESSION:return h(e(a,b.operand),b.args);case f.CASCADE_EXPRESSION:return j(e(a,b.operand),b.expressions);default:throw Error("Not reachable");}}function d(a,c){b.call(this,a);this.reporter_=c}var c=traceur.codegeneration.ParseTreeFactory,
f=traceur.syntax.trees.ParseTreeType,b=traceur.codegeneration.TempVarTransformer,g=c.createAssignmentExpression,a=c.createBinaryOperator,h=c.createCallExpression,j=c.createCascadeExpression,i=c.createCommaExpression,k=c.createIdentifierExpression,l=c.createMemberExpression,p=c.createMemberLookupExpression,o=c.createParenExpression;d.transformTree=function(a,b,c){return(new d(a,b)).transformAny(c)};d.prototype=traceur.createObject(b.prototype,{transformCascadeExpression:function(a){var b=this.transformAny(a.operand),
c=k(this.addTempVar()),a=this.transformList(a.expressions.map(this.desugarExpression_.bind(this,c)));a.unshift(g(c,b));a.push(c);return o(i(a))},desugarExpression_:function(a,b){switch(b.type){case f.BINARY_OPERATOR:return this.desugarBinaryExpression_(a,b);case f.CALL_EXPRESSION:return this.desugarCallExpression_(a,b);case f.CASCADE_EXPRESSION:return this.desugarCascadeExpression_(a,b);default:this.reporter_.reportError(b.location.start,"Unsupported expression type in cascade: %s",b.type)}},desugarBinaryExpression_:function(b,
c){return a(e(b,c.left),c.operator,c.right)},desugarCallExpression_:function(a,b){var c=e(a,b.operand);return h(c,b.args)},desugarCascadeExpression_:function(a,b){var c=e(a,b.operand);return j(c,b.expressions)}});return{CascadeExpressionTransformer:d}});
traceur.define("codegeneration",function(){function e(a){this.tree=a;this.name=null;this.hasSuper=!1}function d(a,b){l.call(this,a);this.reporter_=b}var c=traceur.syntax.trees.FormalParameterList,f=traceur.syntax.trees.GetAccessor,b=traceur.codegeneration.ParseTreeFactory,g=traceur.syntax.trees.ParseTreeType,a=traceur.syntax.PredefinedName,h=traceur.syntax.trees.PropertyMethodAssignment,j=traceur.syntax.trees.SetAccessor,i=traceur.syntax.trees.SuperExpression,k=traceur.codegeneration.SuperTransformer,
l=traceur.codegeneration.TempVarTransformer,p=traceur.syntax.TokenType,o=b.createArgumentList,m=b.createAssignmentExpression,n=b.createBlock,s=b.createBooleanLiteral,q=b.createCallExpression,r=b.createExpressionStatement,x=b.createFunctionDeclaration,v=b.createIdentifierExpression,w=b.createIdentifierToken,B=b.createMemberExpression,t=b.createNullLiteral,u=b.createObjectLiteralExpression,y=b.createParenExpression,C=b.createPropertyNameAssignment,z=b.createRestParameter,A=b.createSpreadExpression,
D=b.createVariableStatement,F=[];d.transform=function(a,b,c){return(new d(a,b)).transformAny(c)};var E=l.prototype;d.prototype=traceur.createObject(E,{transformClassShared_:function(b,c){var d=this.transformAny(b.superClass),f=new e(b);F.push(f);f.name=v(c);var h,k=b.elements.map(function(b){switch(b.type){case g.GET_ACCESSOR:return this.transformGetAccessor_(b);case g.SET_ACCESSOR:return this.transformSetAccessor_(b);case g.PROPERTY_METHOD_ASSIGNMENT:return b.name.value===a.CONSTRUCTOR?h=this.transformConstructor_(b):
this.transformPropertyMethodAssignment_(b);default:throw Error("Unexpected class element: "+b.type);}},this);h||k.push(this.getDefaultConstructor_(b));F.pop();var i=!!h,j=!!d;return[q(B(a.TRACEUR,a.RUNTIME,a.CREATE_CLASS),o(u(k),d||t(),s(i),s(j))),f.hasSuper]},transformClassDeclaration:function(a){return D(p.LET,a.name,this.transformClassShared_(a,a.name.identifierToken)[0])},transformClassExpression:function(a){var b=this.addTempVar(),a=this.transformClassShared_(a,b),c=a[0];if(a[1])return y(m(v(b),
c));this.removeTempVar(b);return c},transformPropertyMethodAssignment_:function(a){var b=this.transformAny(a.formalParameterList),c=this.transformSuperInBlock_(a,a.functionBody);return b===a.formalParameterList&&c===a.functionBody?a:new h(a.location,a.name,a.isGenerator,b,c)},transformGetAccessor_:function(a){var b=this.transformSuperInBlock_(a,a.body);return b===a.body?a:new f(a.location,a.propertyName,b)},transformSetAccessor_:function(a){var b=this.transformAny(a.parameter),c=this.transformSuperInBlock_(a,
a.body);return c===a.body?a:new j(a.location,a.propertyName,b,c)},transformConstructor_:function(b){var c=F[F.length-1],d=this.transformAny(b.formalParameterList),b=this.transformSuperInBlock_(b,b.functionBody),c=x(c.name.identifierToken,d,b);return C(a.CONSTRUCTOR,c)},transformSuperInBlock_:function(a,b){var c=F[F.length-1],d=new k(this,this.reporter_,c.name,a),e=d.transformAny(E.transformAny.call(this,b));d.hasSuper&&(c.hasSuper=!0);return e},getDefaultConstructor_:function(){var b=z("args"),b=
new c(null,[b]),d=n(r(q(new i(null),o(A(v("args")))))),b=new h(null,w(a.CONSTRUCTOR),!1,b,d);return this.transformConstructor_(b)}});return{ClassTransformer:d}});
traceur.define("codegeneration",function(){function e(){i.call(this)}function d(a,b){this.parent=a;this.type=b}function c(a,b){this.oldName=a;this.newName=b}function f(a,b){a.forEach(function(a){b=j.rename(b,a.oldName,a.newName)});return b}function b(a){return a.type==h.BLOCK?a:o(a)}var g=traceur.syntax.TokenType,a=traceur.syntax.trees.NullTree,h=traceur.syntax.trees.ParseTreeType,j=traceur.codegeneration.AlphaRenamer,i=traceur.codegeneration.ParseTreeTransformer,k=traceur.codegeneration.ParseTreeFactory,
l=k.createAssignmentExpression,p=k.createBindingIdentifier,o=k.createBlock,m=k.createCatch,n=k.createEmptyStatement,s=k.createExpressionStatement,q=k.createFinally,r=k.createForInStatement,x=k.createForStatement,v=k.createFunctionDeclaration,w=k.createIdentifierExpression,B=k.createIdentifierToken,t=k.createThrowStatement,u=k.createTryStatement,y=k.createUndefinedExpression,C=k.createVariableDeclaration,z=k.createVariableDeclarationList,A=k.createVariableStatement,D=g.CONST,F=g.LET,E=g.VAR;e.transformTree=
function(a){return(new e).transformAny(a)};d.prototype={blockVariables:null,addBlockScopedVariable:function(a){this.blockVariables||(this.blockVariables=Object.create(null));this.blockVariables[a]=!0}};var H=i.prototype;e.prototype=traceur.createObject(H,{scope_:null,createProgramScope_:function(){return new d(this.scope__,"PROGRAM")},createFunctionScope_:function(){if(null==this.scope_)throw Error("Top level function scope found.");return new d(this.scope_,"FUNCTION")},createBlockScope_:function(){if(null==
this.scope_)throw Error("Top level block scope found.");return new d(this.scope_,"BLOCK")},push_:function(a){return this.scope_=a},pop_:function(a){if(this.scope_!=a)throw Error("BlockBindingTransformer scope mismatch");this.scope_=a.parent},transformBlock:function(a){var c=this.push_(this.createBlockScope_()),d=a.statements.map(function(a){switch(a.type){case h.FUNCTION_DECLARATION:return this.transformFunctionDeclarationStatement_(a);default:return this.transformAny(a)}},this);null!=c.blockVariables?
a=b(this.rewriteAsCatch_(c.blockVariables,o(d))):d!=a.statements&&(a=o(d));this.pop_(c);return a},rewriteAsCatch_:function(a,c){for(var d in a)c=u(o(t(y())),m(p(d),b(c)),null);return c},transformClassDeclaration:function(){throw Error("ClassDeclaration should be transformed away.");},transformForInStatement:function(a){var b=a.body,c;if(null!=a.initializer&&a.initializer.type==h.VARIABLE_DECLARATION_LIST){c=a.initializer;if(1!=c.declarations.length)throw Error("for .. in has != 1 variables");var d=
c.declarations[0],e=this.getVariableName_(d);switch(c.declarationType){case F:case D:if(null!=d.initializer)throw Error("const/let in for-in may not have an initializer");c=z(g.VAR,"$"+e,null);b=this.prependToBlock_(A(g.LET,e,w("$"+e)),b);break;case E:c=this.transformVariables_(c);break;default:throw Error("Unreachable.");}}else c=this.transformAny(a.initializer);e=a;d=this.transformAny(a.collection);b=this.transformAny(b);if(c!=a.initializer||d!=a.collection||b!=a.body)e=r(c,d,b);return e},prependToBlock_:function(a,
b){if(b.type==h.BLOCK){var c=[];c.push(a);c.push.apply(c,b.statements);return o(c)}return o(a,b)},transformForStatement:function(a){var b;if(null!=a.initializer&&a.initializer.type==h.VARIABLE_DECLARATION_LIST)switch(b=a.initializer,b.declarationType){case F:case D:return this.transformForLet_(a,b);case E:b=this.transformVariables_(b);break;default:throw Error("Reached unreachable.");}else b=this.transformAny(a.initializer);var c=this.transformAny(a.condition),d=this.transformAny(a.increment),e=this.transformAny(a.body),
f=a;if(b!=a.initializer||c!=a.condition||d!=a.increment||e!=a.body)f=x(b,c,d,e);return f},transformForLet_:function(b,d){var e=[],h=[],k=[],i=[];d.declarations.forEach(function(a){var b=this.getVariableName_(a),d="$"+b,a=f(i,a.initializer);k.push(C(d,a));e.push(C(b,w(d)));h.push(s(l(w(d),w(b))));i.push(new c(b,d))},this);var j=f(i,b.condition),t=f(i,b.increment),j=o(A(z(g.LET,k)),x(new a,j,t,o(A(z(g.LET,e)),u(b.body,new a,q(o(h))))));return this.transformAny(j)},transformFunctionDeclarationStatement_:function(a){var b=
this.transformFunctionBody(a.functionBody);return null!=a.name&&"BLOCK"==this.scope_.type?(this.scope_.addBlockScopedVariable(a.name.identifierToken.value),s(l(w(a.name.identifierToken),v(a.name,a.formalParameterList,b)))):b!=a.functionBody?v(a.name,a.formalParameterList,b):a},transformProgram:function(a){var b=this.push_(this.createProgramScope_()),a=H.transformProgram.call(this,a);this.pop_(b);return a},transformVariableDeclaration:function(){throw Error("Should never see variable declaration tree.");
},transformVariableDeclarationList:function(){throw Error("Should never see variable declaration list.");},transformVariableStatement:function(a){if("BLOCK"==this.scope_.type)switch(a.declarations.declarationType){case D:case F:return this.transformBlockVariables_(a.declarations)}var b=this.transformVariables_(a.declarations);b!=a.declarations&&(a=A(b));return a},transformBlockVariables_:function(a){var b=[];a.declarations.forEach(function(c){switch(a.declarationType){case F:case D:break;default:throw Error("Only let/const allowed here.");
}var d=this.getVariableName_(c);this.scope_.addBlockScopedVariable(d);c=this.transformAny(c.initializer);null!=c&&b.push(l(w(d),c))},this);switch(b.length){case 0:return n();case 1:return s(b[0]);default:for(var c=0;c<b.length;c++)b[c]=s(b[c]);return o(b)}},transformVariables_:function(a){for(var b=a.declarations,c=null,d=0;d<b.length;d++){var e=b[d],f=this.getVariableName_(e),h=this.transformAny(e.initializer);if(null!=c||h!=e.initializer)null==c&&(c=[],c.push.apply(c,b.slice(0,d))),c.push(C(B(f),
h))}if(null!=c||a.declarationType!=g.VAR)a=z(a.declarationType!=g.VAR?g.VAR:a.declarationType,null!=c?c:a.declarations);return a},transformFunctionBody:function(a){var b=this.push_(this.createFunctionScope_()),a=this.transformBlockStatements_(a);this.pop_(b);return a},transformBlockStatements_:function(a){var c=this.transformSourceElements(a.statements);null!=this.scope_.blockVariables?a=b(this.rewriteAsCatch_(this.scope_.blockVariables,o(c))):c!=a.statements&&(a=o(c));return a},getVariableName_:function(a){a=
a.lvalue;if(a.type==h.BINDING_IDENTIFIER)return a.identifierToken.value;throw Error("Unexpected destructuring declaration found.");}});return{BlockBindingTransformer:e}});
traceur.define("codegeneration",function(){function e(a){var c;c=a.value.value;for(var d=['"'],e=0,g=1,h,k;e<c.length;)switch(h=c[e++],h){case "\\":k=c[e++];switch(k){case "\n":case "\u2028":case "\u2029":break;case "\r":"\n"===c[e+1]&&e++;break;default:d[g++]=h,d[g++]=k}break;case '"':d[g++]='\\"';break;case "\n":d[g++]="\\n";break;case "\r":d[g++]="\\r";break;case "\t":d[g++]="\\t";break;case "\f":d[g++]="\\f";break;case "\b":d[g++]="\\b";break;case "\u2028":d[g++]="\\u2028";break;case "\u2029":d[g++]=
"\\u2029";break;default:d[g++]=h}d[g++]='"';c=d.join("");a=a.location;return new f(a,new b(l.STRING,c,a))}function d(a){return a.replace(/\u2028|\u2029/g,function(a){switch(a){case "\u2028":return"\\u2028";case "\u2029":return"\\u2029";default:throw Error("Not reachable");}})}function c(a){h.call(this);this.identifierGenerator_=a;this.tempVarName_=a.generateUniqueIdentifier()}var f=traceur.syntax.trees.LiteralExpression,b=traceur.syntax.LiteralToken,g=traceur.syntax.trees.ParenExpression,a=traceur.codegeneration.ParseTreeFactory,
h=traceur.codegeneration.ParseTreeTransformer,j=traceur.syntax.trees.ParseTreeType,i=traceur.syntax.PredefinedName,k=traceur.syntax.trees.Program,l=traceur.syntax.TokenType,p=a.createArgumentList,o=a.createArrayLiteralExpression,m=a.createAssignmentExpression,n=a.createBinaryOperator,s=a.createCallExpression,q=a.createCommaExpression,r=a.createDefineProperty,x=a.createIdentifierExpression,v=a.createObjectFreeze,w=a.createOperatorToken,B=a.createParenExpression,t=a.createVariableDeclaration,u=a.createVariableDeclarationList,
y=a.createVariableStatement;c.transformTree=function(a,b){return(new c(a)).transformAny(b)};c.prototype=traceur.createObject(h.prototype,{transformProgram:function(a){this.callsiteDecls_=[];var b=this.transformList(a.programElements);if(b==a.programElements)return a;if(0<this.callsiteDecls_.length){var c=y(u(l.VAR,this.tempVarName_,null)),d=y(u(l.CONST,this.callsiteDecls_));b.unshift(c,d)}return new k(a.location,b)},transformQuasiLiteralExpression:function(a){if(!a.operand)return this.createDefaultQuasi(a);
var c=this.transformAny(a.operand),g=a.elements,h=[],k=this.identifierGenerator_.generateUniqueIdentifier(),j;j=this.tempVarName_;var a=a.elements,u=x(j),y;y=[];for(var n=0;n<a.length;n+=2)y.push(e(a[n]));y=o(y);u=m(u,y);y=i.RAW;for(var n=[],w=0;w<a.length;w+=2){var I=d(JSON.stringify(a[w].value.value)),J=a[w].location,I=new f(J,new b(l.STRING,I,J));n.push(I)}a=o(n);j=[r(u,y,{value:v(a)}),v(x(j))];j=B(q(j));j=t(k,j);this.callsiteDecls_.push(j);h.push(x(k));for(k=1;k<g.length;k+=2)h.push(this.transformAny(g[k]));
return s(c,p(h))},transformQuasiSubstitution:function(a){a=this.transformAny(a.expression);switch(a.type){case j.BINARY_OPERATOR:switch(a.operator.type){case l.STAR:case l.PERCENT:case l.SLASH:return a}case j.COMMA_EXPRESSION:case j.CONDITIONAL_EXPRESSION:return new g(null,a)}return a},transformQuasiLiteralPortion:function(a){return e(a)},createDefaultQuasi:function(a){var c=a.elements.length;if(0===c)return a=a.location,new f(a,new b(l.STRING,'""',a));var d=this.transformAny(a.elements[0]);if(1==
c)return d;for(var e=w(l.PLUS),h=1;h<c;h++){var k=a.elements[h];k.type===j.QUASI_LITERAL_PORTION&&""===k.value.value||(k=this.transformAny(a.elements[h]),d=n(d,e,k))}return new g(null,d)}});return{QuasiLiteralTransformer:c}});
traceur.define("codegeneration",function(){function e(a){f.call(this,a)}var d=traceur.codegeneration.ParseTreeFactory,c=traceur.syntax.trees.ParseTreeType,f=traceur.codegeneration.TempVarTransformer,b=traceur.syntax.TokenType,g=traceur.codegeneration.expandMemberLookupExpression,a=d.createArgumentList,h=d.createAssignmentExpression,j=d.createCallCall,i=d.createCallExpression,k=d.createCommaExpression,l=d.createIdentifierExpression,p=d.createMemberExpression,o=d.createParenExpression,m=traceur.syntax.PredefinedName.RUNTIME,
n=traceur.syntax.PredefinedName.TRACEUR,s=traceur.syntax.PredefinedName.ELEMENT_DELETE,q=traceur.syntax.PredefinedName.ELEMENT_GET,r=traceur.syntax.PredefinedName.ELEMENT_HAS,x=traceur.syntax.PredefinedName.ELEMENT_SET;e.transformTree=function(a,b){return(new e(a)).transformAny(b)};var v=f.prototype;e.prototype=traceur.createObject(v,{transformBinaryOperator:function(d){if(d.operator.type===b.IN){var e=this.transformAny(d.left),d=this.transformAny(d.right);return i(p(n,m,r),a(d,e))}if(d.left.type===
c.MEMBER_LOOKUP_EXPRESSION&&d.operator.isAssignmentOperator()){if(d.operator.type!==b.EQUAL)return d=g(d,this),this.transformAny(d);var e=this.transformAny(d.left.operand),f=this.transformAny(d.left.memberExpression),d=this.transformAny(d.right);return i(p(n,m,x),a(e,f,d))}return v.transformBinaryOperator.call(this,d)},transformCallExpression:function(b){if(b.operand.type!==c.MEMBER_LOOKUP_EXPRESSION)return v.transformCallExpression.call(this,b);var d=this.transformAny(b.operand.operand),e=this.transformAny(b.operand.memberExpression),
f=l(this.addTempVar()),b=b.args.args.map(this.transformAny,this),e=j(i(p(n,m,q),a(f,e)),f,b),d=[h(f,d),e];return o(k(d))},transformMemberLookupExpression:function(b){return i(p(n,m,q),a(b.operand,b.memberExpression))},transformUnaryExpression:function(d){if(d.operator.type!==b.DELETE||d.operand.type!==c.MEMBER_LOOKUP_EXPRESSION)return v.transformUnaryExpression.call(this,d);var e=this.transformAny(d.operand.operand),d=this.transformAny(d.operand.memberExpression);return i(p(n,m,s),a(e,d))}});return{CollectionTransformer:e}});
traceur.define("codegeneration",function(){function e(a){if(a.type!==j.LITERAL_EXPRESSION)return!1;a=a.literalToken;return a.type===i.NUMBER?0!==Number(a.value):!0}function d(){}var c=traceur.codegeneration.ParseTreeFactory.createArgumentList,f=traceur.codegeneration.ParseTreeFactory.createBinaryOperator,b=traceur.codegeneration.ParseTreeFactory.createCallExpression,g=traceur.codegeneration.ParseTreeFactory.createMemberExpression,a=traceur.codegeneration.ParseTreeFactory.createOperatorToken,h=traceur.codegeneration.ParseTreeTransformer,
j=traceur.syntax.trees.ParseTreeType,i=traceur.syntax.TokenType,k=traceur.syntax.PredefinedName.IS,l=traceur.syntax.PredefinedName.ISNT,p=traceur.syntax.PredefinedName.RUNTIME,o=traceur.syntax.PredefinedName.TRACEUR;d.transformTree=function(a){return(new d).transformAny(a)};d.prototype=traceur.createObject(h.prototype,{transformBinaryOperator:function(d){var j=d.operator;if(j.type!==i.IDENTIFIER||j.value!==k&&j.value!==l)return h.prototype.transformBinaryOperator.call(this,d);var s=this.transformAny(d.left),
d=this.transformAny(d.right);return e(s)||e(d)?f(s,a(j.value===k?i.EQUAL_EQUAL_EQUAL:i.NOT_EQUAL_EQUAL),d):b(g(o,p,j.value),c(s,d))}});return{IsExpressionTransformer:d}});
traceur.define("codegeneration",function(){function e(a){b.call(this,a)}function d(a){b.call(this,a)}function c(a){j.call(this,a)}var f=traceur.codegeneration.AlphaRenamer,b=traceur.codegeneration.FindInFunctionScope,g=traceur.syntax.trees.FunctionDeclaration,a=traceur.codegeneration.ParseTreeFactory,h=traceur.syntax.PredefinedName,j=traceur.codegeneration.TempVarTransformer,i=traceur.syntax.TokenType,k=a.createBlock,l=a.createCallExpression,p=a.createEmptyParameterList,o=a.createForOfStatement,m=
a.createIdentifierExpression,n=a.createIfStatement,s=a.createParenExpression,q=a.createThisExpression,r=a.createVariableDeclarationList;e.prototype=traceur.createObject(b.prototype,{visitThisExpression:function(){this.found=!0}});d.prototype=traceur.createObject(b.prototype,{visitIdentifierExpression:function(a){a.identifierToken.value===h.ARGUMENTS&&(this.found=!0)}});c.prototype=traceur.createObject(j.prototype,{transformComprehension:function(a,b,c,j,t){var u=c?i.VAR:i.LET;if(a.ifExpression)var y=
this.transformAny(a.ifExpression),b=n(y,b);for(y=a.comprehensionForList.length-1;0<=y;y--)var C=a.comprehensionForList[y],z=this.transformAny(C.left),C=this.transformAny(C.iterator),z=r(u,z,null),b=o(z,C,b);(new d(b)).found&&(a=this.addTempVar(m(h.ARGUMENTS)),b=f.rename(b,h.ARGUMENTS,a));(new e(b)).found&&(a=this.addTempVar(q()),b=f.rename(b,h.THIS,a));a=[];j&&a.push(j);a.push(b);t&&a.push(t);b=new g(null,null,c,p(),k(a));return s(l(b))}});return{ComprehensionTransformer:c}});
traceur.define("codegeneration",function(){function e(c){d.call(this,c)}var d=traceur.codegeneration.ComprehensionTransformer,c=traceur.codegeneration.ParseTreeFactory.createYieldStatement;e.transformTree=function(c,b){return(new e(c)).transformAny(b)};e.prototype=traceur.createObject(d.prototype,{transformGeneratorComprehension:function(d){var b=this.transformAny(d.expression),b=c(b);return this.transformComprehension(d,b,!0)}});return{GeneratorComprehensionTransformer:e}});
traceur.define("codegeneration",function(){function e(a){d.call(this,a)}var d=traceur.codegeneration.ComprehensionTransformer,c=traceur.codegeneration.ParseTreeFactory,f=traceur.syntax.TokenType,b=c.createArrayLiteralExpression,g=c.createAssignmentStatement,a=c.createIdentifierExpression,h=c.createMemberLookupExpression,j=c.createNumberLiteral,i=c.createPostfixExpression,k=c.createReturnStatement,l=c.createVariableDeclaration,p=c.createVariableDeclarationList,o=c.createVariableStatement;e.transformTree=
function(a,b){return(new e(a)).transformAny(b)};e.prototype=traceur.createObject(d.prototype,{transformArrayComprehension:function(c){var d=this.transformAny(c.expression),e=this.identifierGenerator.generateUniqueIdentifier(),q=this.identifierGenerator.generateUniqueIdentifier(),r=a(q),q=o(p(f.VAR,[l(e,j(0)),l(q,b([]))])),d=g(h(r,i(a(e),f.PLUS_PLUS)),d),r=k(r);return this.transformComprehension(c,d,!1,q,r)}});return{ArrayComprehensionTransformer:e}});
traceur.define("codegeneration.generator",function(){function e(a){d.call(this);this.identifierGenerator_=a}var d=traceur.codegeneration.ParseTreeTransformer,c=traceur.syntax.trees.ParseTreeType,f=traceur.syntax.PredefinedName,b=traceur.syntax.TokenType,g=traceur.codegeneration.ParseTreeFactory,a=g.createArgumentList,h=g.createAssignmentStatement,j=g.createBinaryOperator,i=g.createBlock,k=g.createCallStatement,l=g.createContinueStatement,p=g.createEmptyArrayLiteralExpression,o=g.createForInStatement,
m=g.createForStatement,n=g.createIdentifierExpression,s=g.createIfStatement,q=g.createMemberExpression,r=g.createMemberLookupExpression,x=g.createNumberLiteral,v=g.createOperatorToken,w=g.createParenExpression,B=g.createPostfixExpression,t=g.createUnaryExpression,u=g.createVariableDeclarationList,y=g.createVariableStatement;e.transformTree=function(a,b){return(new e(a)).transformAny(b)};e.prototype=traceur.createObject(d.prototype,{transformForInStatement:function(d){var e=[],g=this.transformAny(d.body);
g.type==c.BLOCK?e.push.apply(e,g.statements):e.push(g);var g=[],D=this.identifierGenerator_.generateUniqueIdentifier();g.push(y(b.VAR,D,p()));var F=this.identifierGenerator_.generateUniqueIdentifier();g.push(y(b.VAR,F,d.collection));var E=this.identifierGenerator_.generateUniqueIdentifier();g.push(o(u(b.VAR,E,null),n(F),k(q(D,f.PUSH),a(n(E)))));var E=this.identifierGenerator_.generateUniqueIdentifier(),H=r(n(D),n(E)),L;if(d.initializer.type==c.VARIABLE_DECLARATION_LIST)d=d.initializer,L=n(d.declarations[0].lvalue),
d=y(d.declarationType,L.identifierToken,H);else if(d.initializer.type==c.IDENTIFIER_EXPRESSION)L=d.initializer,d=h(d.initializer,H);else throw Error("Invalid left hand side of for in loop");H=[];H.push(d);H.push(s(t(v(b.BANG),w(j(L,v(b.IN),n(F)))),l(),null));H.push.apply(H,e);g.push(m(u(b.VAR,E,x(0)),j(n(E),v(b.OPEN_ANGLE),q(D,f.LENGTH)),B(n(E),v(b.PLUS_PLUS)),i(H)));return i(g)}});return{ForInTransformPass:e}});
traceur.define("codegeneration.generator",function(){function e(a){this.id=a}var d=traceur.syntax.PredefinedName,c=traceur.codegeneration.ParseTreeFactory,f=c.createCaseClause,b=c.createStatementList,g=c.createBreakStatement,b=c.createStatementList,a=c.createAssignmentStatement,h=c.createAssignStateStatement,j=c.createIdentifierExpression,i=c.createNumberLiteral;e.INVALID_STATE=-1;e.generateJump=function(a,c){return b(e.generateAssignState(a,c),g())};e.generateJumpThroughFinally=function(a,c){return b(e.generateAssignStateOutOfFinally_(c,
a),g())};e.generateAssignState=function(a,c){return null!=a&&0>a.tryStates.indexOf(c)?e.generateAssignStateOutOfFinally(a,c):b(h(c))};e.generateAssignStateOutOfFinally=function(a,b){return e.generateAssignStateOutOfFinally_(b,a.finallyState)};e.generateAssignStateOutOfFinally_=function(c,e){return b(h(e),a(j(d.FINALLY_FALL_THROUGH),i(c)))};e.replaceStateList=function(a,b,c){for(var d=[],f=0;f<a.length;f++)d.push(e.replaceStateId(a[f],b,c));return d};e.replaceStateId=function(a,b,c){return a==b?c:
a};e.replaceAllStates=function(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e].replaceState(b,c));return d};e.prototype={transformMachineState:function(a,b,c){return f(i(this.id),this.transform(a,b,c))},transformBreak:function(){return this},transformBreakOrContinue:function(){return this}};return{State:e}});
traceur.define("codegeneration.generator",function(){function e(c,e,b){d.call(this,c);this.fallThroughState=e;this.statements=b}var d=traceur.codegeneration.generator.State;e.prototype=traceur.createObject(d.prototype,{replaceState:function(c,f){return new e(d.replaceStateId(this.id,c,f),d.replaceStateId(this.fallThroughState,c,f),this.statements)},transform:function(c){var e=[];e.push.apply(e,this.statements);e.push.apply(e,d.generateJump(c,this.fallThroughState));return e}});return{FallThroughState:e}});
traceur.define("codegeneration.generator",function(){function e(c,d,b){this.kind=c;this.tryStates=d;this.nestedTrys=b}var d=traceur.codegeneration.generator.State;e.Kind={CATCH:"catch",FINALLY:"finally"};e.prototype={replaceAllStates:function(c,e){return d.replaceStateList(this.tryStates,c,e)},replaceNestedTrys:function(c,d){for(var b=[],e=0;e<this.nestedTrys.length;e++)b.push(this.nestedTrys[e].replaceState(c,d));return b}};return{TryState:e}});
traceur.define("codegeneration.generator",function(){function e(b,c){d.call(this,b);this.label=c}var d=traceur.codegeneration.generator.State,c=traceur.codegeneration.generator.FallThroughState,f=traceur.codegeneration.ParseTreeFactory.createStatementList;e.prototype=traceur.createObject(d.prototype,{replaceState:function(b,c){return new e(d.replaceStateId(this.id,b,c),this.label)},transform:function(){throw Error("These should be removed before the transform step");},transformBreak:function(b,d){return null==
this.label||this.label in b?new c(this.id,d,f()):this},transformBreakOrContinue:function(b,c){return this.transformBreak(b,c)}});return{BreakState:e}});
traceur.define("codegeneration.generator",function(){function e(d,b,e,a,h){c.call(this,c.Kind.CATCH,a,h);this.identifier=d;this.catchState=b;this.fallThroughState=e}var d=traceur.codegeneration.generator.State,c=traceur.codegeneration.generator.TryState;e.prototype=traceur.createObject(c.prototype,{replaceState:function(c,b){return new e(this.identifier,d.replaceStateId(this.catchState,c,b),d.replaceStateId(this.fallThroughState,c,b),this.replaceAllStates(c,b),this.replaceNestedTrys(c,b))}});return{CatchState:e}});
traceur.define("codegeneration.generator",function(){function e(b,a,c,e){d.call(this,b);this.ifState=a;this.elseState=c;this.condition=e}var d=traceur.codegeneration.generator.State,c=traceur.codegeneration.ParseTreeFactory,f=c.createBlock,b=c.createIfStatement;e.prototype=traceur.createObject(d.prototype,{replaceState:function(b,a){return new e(d.replaceStateId(this.id,b,a),d.replaceStateId(this.ifState,b,a),d.replaceStateId(this.elseState,b,a),this.condition)},transform:function(c){return[b(this.condition,
f(d.generateJump(c,this.ifState)),f(d.generateJump(c,this.elseState)))]}});return{ConditionalState:e}});
traceur.define("codegeneration.generator",function(){function e(b,c){d.call(this,b);this.label=c}var d=traceur.codegeneration.generator.State,c=traceur.codegeneration.generator.FallThroughState,f=traceur.codegeneration.ParseTreeFactory.createStatementList;e.prototype=traceur.createObject(d.prototype,{replaceState:function(b,c){return new e(d.replaceStateId(this.id,b,c),this.label)},transform:function(){throw Error("These should be removed before the transform step");},transformBreakOrContinue:function(b,
d,a){return null==this.label||this.label in b?new c(this.id,a,f()):this}});return{ContinueState:e}});traceur.define("codegeneration.generator",function(){function e(c){d.call(this,c)}var d=traceur.codegeneration.generator.State;e.prototype=traceur.createObject(d.prototype,{replaceState:function(c,f){return new e(d.replaceStateId(this.id,c,f))},transform:function(c,e){return d.generateJump(c,e)}});return{EndState:e}});
traceur.define("codegeneration.generator",function(){function e(c){d.call(this,c)}var d=traceur.codegeneration.generator.State;e.prototype=traceur.createObject(d.prototype,{replaceState:function(c,f){return new e(d.replaceStateId(this.id,c,f))},transformMachineState:function(){return null},transform:function(){throw Error("these are generated in addFinallyFallThroughDispatches");}});return{FinallyFallThroughState:e}});
traceur.define("codegeneration.generator",function(){function e(d,b,e,a){c.call(this,c.Kind.FINALLY,e,a);this.finallyState=d;this.fallThroughState=b}var d=traceur.codegeneration.generator.State,c=traceur.codegeneration.generator.TryState;e.prototype=traceur.createObject(c.prototype,{replaceState:function(c,b){return new e(d.replaceStateId(this.finallyState,c,b),d.replaceStateId(this.fallThroughState,c,b),this.replaceAllStates(c,b),this.replaceNestedTrys(c,b))}});return{FinallyState:e}});
traceur.define("codegeneration.generator",function(){function e(a,b){this.first=a;this.second=b}function d(a,b,c){g.call(this,a);this.expression=b;this.clauses=c}var c=traceur.syntax.trees.CaseClause,f=traceur.syntax.trees.DefaultClause,b=traceur.syntax.trees.SwitchStatement,g=traceur.codegeneration.generator.State,a=traceur.codegeneration.ParseTreeFactory,h=a.createStatementList,j=a.createBreakStatement;d.prototype=traceur.createObject(g.prototype,{replaceState:function(a,b){var c=this.clauses.map(function(c){return new e(c.first,
g.replaceStateId(c.second,a,b))});return new d(g.replaceStateId(this.id,a,b),this.expression,c)},transform:function(a){for(var d=[],e=0;e<this.clauses.length;e++){var p=this.clauses[e];null==p.first?d.push(new f(null,g.generateJump(a,p.second))):d.push(new c(null,p.first,g.generateJump(a,p.second)))}return h(new b(null,this.expression,d),j())}});return{SwitchClause:e,SwitchState:d}});
traceur.define("codegeneration.generator",function(){function e(a,b,d){c.call(this,a);this.fallThroughState=b;this.expression=d}var d=traceur.syntax.PredefinedName,c=traceur.codegeneration.generator.State,f=traceur.codegeneration.ParseTreeFactory,b=f.createAssignmentStatement,g=f.createMemberExpression,a=f.createReturnStatement,h=f.createTrueLiteral;e.prototype=traceur.createObject(c.prototype,{replaceState:function(a,b){return new e(c.replaceStateId(this.id,a,b),c.replaceStateId(this.fallThroughState,
a,b),this.expression)},transform:function(e){var f=[];f.push(b(g(d.RESULT,d.CURRENT),this.expression));f.push.apply(f,c.generateAssignState(e,this.fallThroughState));f.push(a(h()));return f}});return{YieldState:e}});traceur.define("codegeneration.generator",function(){function e(){}e.prototype={nextState_:traceur.codegeneration.generator.State.INVALID_STATE+1,allocateState:function(){return this.nextState_++}};return{StateAllocator:e}});
traceur.define("syntax.trees",function(){function e(a,c,d,e){f.call(this,b.STATE_MACHINE,null);this.startState=a;this.fallThroughState=c;this.states=d;this.exceptionBlocks=e}function d(a,b,c){for(var e=0;e<c.length;e++){var f=c[e];if(f.kind==a)for(var g=0;g<f.tryStates.length;g++)b[f.tryStates[g]]=f;d(a,b,f.nestedTrys)}}function c(a,b){for(var d=0;d<a.length;d++){var e=a[d];e.kind==g.Kind.CATCH&&b.push(e);c(e.nestedTrys,b)}}var f=traceur.syntax.trees.ParseTree,b=traceur.syntax.trees.ParseTreeType,
g=traceur.codegeneration.generator.TryState;b.STATE_MACHINE="STATE_MACHINE";e.prototype=traceur.createObject(f.prototype,{hasExceptionBlocks:function(){return 0<this.exceptionBlocks.length},getAllStateIDs:function(){for(var a=[],b=0;b<this.states.length;b++)a.push(this.states[b].id);return a},getEnclosingFinallyMap:function(){var a=Object.create(null);d(g.Kind.FINALLY,a,this.exceptionBlocks);return a},getEnclosingCatchMap:function(){var a=Object.create(null);d(g.Kind.CATCH,a,this.exceptionBlocks);
return a},allCatchStates:function(){var a=[];c(this.exceptionBlocks,a);return a}});return{StateMachine:e}});
traceur.define("codegeneration.generator",function(){function e(a){d.call(this);this.transformBreaks_=!0;this.stateAllocator_=a}var d=traceur.codegeneration.ParseTreeTransformer,c=traceur.codegeneration.generator.BreakState,f=traceur.codegeneration.generator.ContinueState,b=traceur.syntax.trees.StateMachine,g=d.prototype;e.prototype=traceur.createObject(g,{allocateState_:function(){return this.stateAllocator_.allocateState()},stateToStateMachine_:function(a){var c=this.allocateState_();return new b(a.id,
c,[a],[])},transformBreakStatement:function(a){return this.transformBreaks_?this.stateToStateMachine_(new c(this.allocateState_(),a.name?a.name.value:null)):a},transformContinueStatement:function(a){return this.stateToStateMachine_(new f(this.allocateState_(),a.name?a.name.value:null))},transformDoWhileStatement:function(a){return a},transformForOfStatement:function(a){return a},transformForStatement:function(a){return a},transformFunctionDeclaration:function(a){return a},transformStateMachine:function(a){return a},
transformSwitchStatement:function(a){var b=this.transformBreaks_;this.transformBreaks=!1;a=g.transformSwitchStatement.call(this,a);this.transformBreaks_=b;return a},transformWhileStatement:function(a){return a}});return{BreakContinueTransformer:e}});
traceur.define("codegeneration.generator",function(){function e(a){g.call(this);this.reporter=a;this.stateAllocator_=new V;this.labelSet_=Object.create(null)}var d=traceur.syntax.trees.CaseClause,c=traceur.syntax.trees.IdentifierExpression,f=traceur.syntax.IdentifierToken,b=traceur.codegeneration.ParseTreeFactory,g=traceur.codegeneration.ParseTreeTransformer,a=traceur.syntax.trees.ParseTreeType,h=traceur.syntax.PredefinedName,j=traceur.syntax.trees.StateMachine,i=traceur.syntax.trees.SwitchStatement,
k=traceur.syntax.TokenType,l=b.createArrayLiteralExpression,p=b.createAssignStateStatement,o=b.createAssignmentExpression,m=b.createAssignmentStatement,n=b.createBinaryOperator,s=b.createBindingIdentifier,q=b.createBlock,r=b.createBreakStatement,x=b.createCaseClause,v=b.createCatch,w=b.createDefaultClause,B=b.createEmptyParameterList,t=b.createEmptyStatement,u=b.createExpressionStatement,y=b.createFunctionExpression,C=b.createIdentifierExpression,z=b.createNumberLiteral,A=b.createOperatorToken,D=
b.createStatementList,F=b.createStringLiteral,E=b.createSwitchStatement,H=b.createThisExpression,L=b.createThrowStatement,Q=b.createTrueLiteral,K=b.createTryStatement,I=b.createVariableStatement,J=b.createWhileStatement,M=traceur.codegeneration.generator.BreakContinueTransformer,W=traceur.codegeneration.generator.CatchState,T=traceur.codegeneration.generator.ConditionalState,R=traceur.codegeneration.generator.FallThroughState,P=traceur.codegeneration.generator.FinallyFallThroughState,X=traceur.codegeneration.generator.FinallyState,
O=traceur.codegeneration.generator.State,V=traceur.codegeneration.generator.StateAllocator,j=traceur.syntax.trees.StateMachine,U=traceur.codegeneration.generator.SwitchState,Y=traceur.codegeneration.generator.SwitchClause,ba=traceur.codegeneration.generator.TryState,Z=traceur.semantics.VariableBinder,N=g.prototype;e.prototype=traceur.createObject(N,{allocateState:function(){return this.stateAllocator_.allocateState()},transformBlock:function(a){this.clearLabels_();var a=N.transformBlock.call(this,
a),b=this.transformStatementList_(a.statements);return null==b?a:b},transformStatementList_:function(a){if(!this.containsStateMachine_(a))return null;for(var b=this.ensureTransformed_(a[0]),c=1;c<a.length;c++)b=this.createSequence_(b,this.ensureTransformed_(a[c]));return b},containsStateMachine_:function(b){if(b instanceof Array){for(var c=0;c<b.length;c++)if(b[c].type==a.STATE_MACHINE)return!0;return!1}traceur.assert(b instanceof i);for(c=0;c<b.caseClauses.length;c++)if(this.containsStateMachine_(b.caseClauses[c].statements))return!0;
return!1},transformCaseClause:function(a){var a=N.transformCaseClause.call(this,a),b=this.transformStatementList_(a.statements);return null==b?a:new d(null,a.expression,D(b))},transformDoWhileStatement:function(b){var c=this.clearLabels_(),b=N.transformDoWhileStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;var d=b.body,e=d.startState,f=d.fallThroughState,g=this.allocateState(),h=[];this.addLoopBodyStates_(d,f,g,c,h);h.push(new T(f,e,g,b.condition));return new j(e,g,h,d.exceptionBlocks)},
addLoopBodyStates_:function(a,b,c,d,e){for(var f=0;f<a.states.length;f++)e.push(a.states[f].transformBreakOrContinue(d,c,b))},transformForStatement:function(b){var c=this.clearLabels_(),b=N.transformForStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;var d=b.body,e=d.fallThroughState,f=null==b.increment&&null!=b.condition?e:this.allocateState(),g=null==b.initializer?f:this.allocateState(),h=this.allocateState(),k=[];null!=b.initializer&&k.push(new R(g,f,D(u(b.initializer))));null!=
b.condition?k.push(new T(f,d.startState,h,b.condition)):k.push(new R(f,d.startState,D()));null!=b.increment&&k.push(new R(e,f,D(u(b.increment))));this.addLoopBodyStates_(d,e,h,c,k);return new j(g,h,k,d.exceptionBlocks)},transformForInStatement:function(a){return a},transformForOfStatement:function(){throw Error("for of statements should be transformed before this pass");},transformIfStatement:function(b){this.clearLabels_();b=N.transformIfStatement.call(this,b);if(b.ifClause.type!=a.STATE_MACHINE&&
(null==b.elseClause||b.elseClause.type!=a.STATE_MACHINE))return b;var c=this.ensureTransformed_(b.ifClause),d=this.ensureTransformed_(b.elseClause),e=this.allocateState(),f=c.fallThroughState,g=[],h=[];g.push(new T(e,c.startState,null==d?f:d.startState,b.condition));g.push.apply(g,c.states);h.push.apply(h,c.exceptionBlocks);null!=d&&(this.replaceAndAddStates_(d.states,d.fallThroughState,f,g),h.push.apply(h,O.replaceAllStates(d.exceptionBlocks,d.fallThroughState,f)));return new j(e,f,g,h)},replaceAndAddStates_:function(a,
b,c,d){for(var e=0;e<a.length;e++)d.push(a[e].replaceState(b,c))},transformLabelledStatement:function(a){var b=this.addLabel_(a.name.value),a=this.transformAny(a.statement);this.restoreLabels_(b);return a},clearLabels_:function(){var a=this.labelSet_;this.labelSet_=Object.create(null);return a},restoreLabels_:function(a){this.labelSet_=a},addLabel_:function(a){var b=this.labelSet_,c=Object.create(null),d;for(d in this.labelSet_)c[d]=d;c[a]=a;this.labelSet_=c;return b},transformSwitchStatement:function(b){var c=
this.clearLabels_(),b=N.transformSwitchStatement.call(this,b);if(!this.containsStateMachine_(b))return b;for(var d=this.allocateState(),e=this.allocateState(),f=e,g=[],h=[],k=[],i=!1,t=b.caseClauses.length-1;0<=t;t--){var l=b.caseClauses[t];l.type==a.CASE_CLAUSE?(f=this.addSwitchClauseStates_(f,e,c,l.statements,g,k),h.push(new Y(l.expression,f))):(i=!0,f=this.addSwitchClauseStates_(f,e,c,l.statements,g,k),h.push(new Y(null,f)))}i||h.push(new Y(null,e));g.push(new U(d,b.expression,h.reverse()));return new j(d,
e,g.reverse(),k)},addSwitchClauseStates_:function(a,b,c,d,e,f){for(var d=this.ensureTransformedList_(d),g=0;g<d.states.length;g++){var h=d.states[g].transformBreak(c,b);e.push(h.replaceState(d.fallThroughState,a))}f.push.apply(f,d.exceptionBlocks);return d.startState},transformTryStatement:function(b){this.clearLabels_();var c=N.transformTryStatement.call(this,b);if(c.body.type!=a.STATE_MACHINE&&(null==c.catchBlock||c.catchBlock.catchBody.type!=a.STATE_MACHINE))return c;b=this.ensureTransformed_(c.body);
if(null!=c.catchBlock){var d=c.catchBlock,e=d.binding.identifierToken.value,f=this.ensureTransformed_(d.catchBody),d=b.startState,g=b.fallThroughState,k=this.allocateState(),i=[];i.push.apply(i,b.states);i.push(new R(k,f.startState,D(m(C(e),C(h.STORED_EXCEPTION)))));this.replaceAndAddStates_(f.states,f.fallThroughState,g,i);b=new j(d,g,i,[new W(e,k,g,b.getAllStateIDs(),b.exceptionBlocks)])}null!=c.finallyBlock&&(c=this.ensureTransformed_(c.finallyBlock.block),d=b.startState,g=b.fallThroughState,i=
[],i.push.apply(i,b.states),i.push.apply(i,c.states),i.push(new P(c.fallThroughState)),b=new j(d,g,i,[new X(c.startState,c.fallThroughState,b.getAllStateIDs(),b.exceptionBlocks)]));return b},transformVariableStatement:function(b){var c=this.transformVariableDeclarationList(b.declarations);return c==b.declarations?b:null==c?t():c.type==a.VARIABLE_DECLARATION_LIST?I(c):u(c)},transformVariableDeclarationList:function(a){if(a.declarationType==k.VAR){for(var b=[],c=0;c<a.declarations.length;c++){var d=
a.declarations[c];null!=d.initializer&&b.push(o(C(this.transformAny(d.lvalue)),this.transformAny(d.initializer)))}return 0==b.length?null:1==b.length?b[0]:l(b)}return N.transformVariableDeclarationList.call(this,a)},transformWhileStatement:function(b){var c=this.clearLabels_(),b=N.transformWhileStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;var d=b.body,e=d.fallThroughState,f=this.allocateState(),g=[];g.push(new T(e,d.startState,f,b.condition));this.addLoopBodyStates_(d,e,f,c,g);
return new j(e,f,g,d.exceptionBlocks)},transformWithStatement:function(b){b=N.transformWithStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;throw Error("Unreachable - with statement not allowed in strict mode/harmony");},transformThisExpression:function(a){return new c(a.location,new f(a.location,h.$THAT))},transformIdentifierExpression:function(a){return a.identifierToken.value===h.ARGUMENTS?new c(a.location,new f(a.location,h.$ARGUMENTS)):a},generateMachineMethod:function(a){return y(B(),
q(J(Q(),this.generateMachine(a))))},generateHoistedThis:function(){return I(k.VAR,h.$THAT,H())},generateHoistedArguments:function(){return I(k.VAR,h.$ARGUMENTS,C(h.ARGUMENTS))},generateMachine:function(a){var b=a.getEnclosingFinallyMap(),c=a.getEnclosingCatchMap(),d=this.allocateState(),e=this.allocateState(),e=E(C(h.STATE),this.transformMachineStates(a,e,d,b)),f=[];this.addExceptionCases_(d,b,c,a.getAllStateIDs(),f);f.push(w(this.machineUncaughtExceptionStatements(d)));return e=K(q(e),v(s(h.CAUGHT_EXCEPTION),
q(m(C(h.STORED_EXCEPTION),C(h.CAUGHT_EXCEPTION)),E(C(h.STATE),f))),null)},getMachineVariables:function(a,b){var c=[];c.push(I(k.VAR,h.STATE,z(b.startState)));c.push(I(k.VAR,h.STORED_EXCEPTION,null));c.push(I(k.VAR,h.FINALLY_FALL_THROUGH,null));for(var d=Z.variablesInBlock(a,!0),e=b.allCatchStates(),f=0;f<e.length;f++)d[e[f].identifier]=!0;d=Object.keys(d).sort();for(f=0;f<d.length;f++)c.push(I(k.VAR,d[f],null));return c},addExceptionCases_:function(a,b,c,d,e){for(var f=0;f<d.length;f++){var g=d[f],
h=b[g],k=c[g];null!=k&&null!=h&&0<=k.tryStates.indexOf(h.finallyState)?e.push(x(z(g),O.generateJumpThroughFinally(h.finallyState,k.catchState))):null!=k?e.push(x(z(g),D(p(k.catchState),r()))):null!=h&&e.push(x(z(g),O.generateJumpThroughFinally(h.finallyState,a)))}},transformFunctionDeclaration:function(a){this.clearLabels_();return a},transformGetAccessor:function(a){return a},transformSetAccessor:function(a){return a},transformStateMachine:function(a){return a},statementToStateMachine_:function(a){return this.statementsToStateMachine_([a])},
statementsToStateMachine_:function(a){var b=this.allocateState(),c=this.allocateState();return this.stateToStateMachine_(new R(b,c,a),c)},stateToStateMachine_:function(a,b){return new j(a.id,b,[a],[])},transformMachineStates:function(a,b,c,d){for(var e=[],f=0;f<a.states.length;f++){var g=a.states[f],g=g.transformMachineState(d[g.id],b,this.reporter);null!=g&&e.push(g)}this.addFinallyFallThroughDispatches(null,a.exceptionBlocks,e);e.push(x(z(a.fallThroughState),this.machineFallThroughStatements(b)));
e.push(x(z(b),this.machineEndStatements()));e.push(x(z(c),this.machineRethrowStatements(b)));e.push(w([L(n(F("traceur compiler bug: invalid state in state machine"),A(k.PLUS),C(h.STATE)))]));return e},addFinallyFallThroughDispatches:function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(e.kind==ba.Kind.FINALLY){if(null!=a){for(var f=[],g=0,k=0;k<a.tryStates.length;k++){var i=a.tryStates[k];g++;var j;j=g<a.tryStates.length?D():D(m(C(h.STATE),C(h.FINALLY_FALL_THROUGH)),m(C(h.FINALLY_FALL_THROUGH),
z(O.INVALID_STATE)),r());f.push(x(z(i),j))}f.push(w(D(p(a.finallyState),r())));c.push(x(z(e.fallThroughState),D(E(C(h.FINALLY_FALL_THROUGH),f),r())))}else c.push(x(z(e.fallThroughState),D(m(C(h.STATE),C(h.FINALLY_FALL_THROUGH)),r())));this.addFinallyFallThroughDispatches(e,e.nestedTrys,c)}else this.addFinallyFallThroughDispatches(a,e.nestedTrys,c)}},createSequence_:function(a,b){var c=[];c.push.apply(c,a.states);for(var d=0;d<b.states.length;d++)c.push(b.states[d].replaceState(b.startState,a.fallThroughState));
var e=[];e.push.apply(e,a.exceptionBlocks);for(d=0;d<b.exceptionBlocks.length;d++)e.push(b.exceptionBlocks[d].replaceState(b.startState,a.fallThroughState));return new j(a.startState,b.fallThroughState,c,e)},maybeTransformStatement_:function(b){b.type==a.VARIABLE_STATEMENT&&b.declarations.declarationType!=k.VAR&&this.reporter.reportError(null!=b.location?b.location.start:null,"traceur: const/let declaration may not be in a block containing a yield.");var c=(new M(this.stateAllocator_)).transformAny(b);
c!=b&&(c=this.transformAny(c));return c},ensureTransformed_:function(b){if(null==b)return null;b=this.maybeTransformStatement_(b);return b.type==a.STATE_MACHINE?b:this.statementToStateMachine_(b)},ensureTransformedList_:function(b){for(var c=[],d=!1,e=0;e<b.length;e++){var f=this.maybeTransformStatement_(b[e]);c.push(f);f.type==a.STATE_MACHINE&&(d=!0)}return!d?this.statementsToStateMachine_(b):this.transformStatementList_(c)}});return{CPSTransformer:e}});
traceur.define("codegeneration.generator",function(){function e(a){g.call(this,a)}var d=traceur.syntax.TokenType,c=traceur.syntax.trees.ParseTreeType,f=traceur.syntax.PredefinedName,b=traceur.codegeneration.ParseTreeFactory,g=traceur.codegeneration.generator.CPSTransformer,a=traceur.codegeneration.generator.EndState,h=traceur.codegeneration.generator.YieldState,j=traceur.syntax.trees.StateMachine,i=b.createArgumentList,k=b.createAssignStateStatement,l=b.createBlock,p=b.createCallExpression,o=b.createExpressionStatement,
m=b.createFalseLiteral,n=b.createIdentifierExpression,s=b.createMemberExpression,q=b.createObjectLiteralExpression,r=b.createPropertyNameAssignment,x=b.createReturnStatement,v=b.createStatementList,w=b.createThrowStatement,B=b.createVariableStatement;e.transformGeneratorBody=function(a,b){return(new e(a)).transformGeneratorBody(b)};e.prototype=traceur.createObject(g.prototype,{transformYieldStatement:function(b){if(null!=b.expression){var c=this.allocateState(),d=this.allocateState();return this.stateToStateMachine_(new h(c,
d,this.transformAny(b.expression)),d)}b=this.allocateState();return new j(b,this.allocateState(),[new a(b)],[])},transformAwaitStatement:function(a){this.reporter.reportError(a.location.start,"Generator function may not have an async statement.");return a},transformFinally:function(a){var b=g.prototype.transformFinally.call(this,a);if(b.block.type!=c.STATE_MACHINE)return b;this.reporter.reportError(a.location.start,"yield not permitted from within a finally block.");return b},transformReturnStatement:function(a){this.reporter.reportError(a.location.start,
"Generator function may not have a return statement.");return a},transformGeneratorBody:function(a){var b=this.transformAny(a);if(this.reporter.hadError())return a;var c=[];c.push(this.generateHoistedThis());c.push(this.generateHoistedArguments());c.push.apply(c,this.getMachineVariables(a,b));c.push(B(d.VAR,f.RESULT,q(r(f.MOVE_NEXT,this.generateMachineMethod(b)))));c.push(o(p(s(f.TRACEUR,f.RUNTIME,f.MARK_AS_GENERATOR),i(n(f.RESULT)))));c.push(x(n(f.RESULT)));return l(c)},machineUncaughtExceptionStatements:function(){return v(w(n(f.STORED_EXCEPTION)))},
machineRethrowStatements:function(){return v(w(n(f.STORED_EXCEPTION)))},machineFallThroughStatements:function(a){return v(k(a))},machineEndStatements:function(){return[x(m())]}});return{GeneratorTransformer:e}});
traceur.define("codegeneration.generator",function(){function e(a){g.call(this,a)}var d=traceur.syntax.TokenType,c=traceur.syntax.trees.ParseTreeType,f=traceur.syntax.PredefinedName,b=traceur.codegeneration.ParseTreeFactory,g=traceur.codegeneration.generator.CPSTransformer,a=traceur.syntax.trees.StateMachine,h=traceur.codegeneration.generator.EndState,j=traceur.codegeneration.generator.FallThroughState,i=b.createArgumentList,k=b.createAssignStateStatement,l=b.createAssignmentStatement,p=b.createBlock,
o=b.createBreakStatement,m=b.createCallExpression,n=b.createCallStatement,s=b.createEmptyArgumentList,q=b.createFunctionExpression,r=b.createIdentifierExpression,x=b.createMemberExpression,v=b.createNewExpression,w=b.createNumberLiteral,B=b.createParameterList,t=b.createParameterReference,u=b.createReturnStatement,y=b.createStatementList,C=b.createThrowStatement,z=b.createUndefinedExpression,A=b.createVariableStatement;e.transformAsyncBody=function(a,b){return(new e(a)).transformAsyncBody(b)};var D=
g.prototype;e.prototype=traceur.createObject(D,{transformYieldStatement:function(a){this.reporter.reportError(a.location.start,"Async function may not have a yield statement.");return a},transformAwaitStatement:function(b){var c=this.allocateState(),d=this.allocateState(),e=this.allocateState(),g=this.allocateState(),h=[];h.push(new j(c,d,y(l(r(f.WAIT_TASK),b.expression),n(x(f.WAIT_TASK,f.THEN),i(m(r(f.CREATE_CALLBACK),i(w(d))),m(r(f.CREATE_ERRBACK),i(w(e))))),u(null))));b=null!=b.identifier?y(l(r(b.identifier),
r(f.$VALUE))):y();h.push(new j(d,g,b));h.push(new j(e,g,y(C(r(f.ERR)))));return new a(c,g,h,[])},transformFinally:function(a){var b=D.transformFinally.call(this,a);if(b.block.type!=c.STATE_MACHINE)return b;this.reporter.reportError(a.location.start,"async not permitted within a finally block.");return b},transformReturnStatement:function(b){var c=b.expression;null==c&&(c=z());var b=this.allocateState(),d=this.allocateState(),c=new j(b,d,y(this.createCompleteTask_(c))),d=new h(d);return new a(b,this.allocateState(),
[c,d],[])},createCompleteTask_:function(a){return n(x(f.RESULT,f.CALLBACK),i(a))},transformAsyncBody:function(a){var b=this.transformAny(a);if(this.reporter.hadError())return a;var c=[];c.push(this.generateHoistedThis());c.push.apply(c,this.getMachineVariables(a,b));c.push(A(d.VAR,f.$VALUE,null));c.push(A(d.VAR,f.ERR,null));c.push(A(d.VAR,f.RESULT,v(r(f.DEFERRED),s())));c.push(A(d.VAR,f.WAIT_TASK,null));c.push(A(d.VAR,f.CONTINUATION,this.generateMachineMethod(b)));c.push(A(d.VAR,f.CREATE_CALLBACK,
q(B(f.NEW_STATE),p(u(q(B(1),p(l(r(f.STATE),r(f.NEW_STATE)),l(r(f.$VALUE),t(0)),n(r(f.CONTINUATION)))))))));c.push(A(d.VAR,f.CREATE_ERRBACK,q(B(f.NEW_STATE),p(u(q(B(1),p(l(r(f.STATE),r(f.NEW_STATE)),l(r(f.ERR),t(0)),n(r(f.CONTINUATION)))))))));c.push(n(r(f.CONTINUATION)));c.push(u(m(x(f.RESULT,f.CREATE_PROMISE))));return p(c)},machineUncaughtExceptionStatements:function(a){return y(k(a),o())},machineEndStatements:function(){return y(u(null))},machineFallThroughStatements:function(a){return y(this.createCompleteTask_(z()),
k(a),o())},machineRethrowStatements:function(a){return y(n(x(f.RESULT,f.ERRBACK),i(r(f.STORED_EXCEPTION))),k(a),o())}});return{AsyncTransformer:e}});
traceur.define("codegeneration",function(){function e(a){this.visitAny(a)}function d(a){h.call(this);this.identifierGenerator_=a}function c(a,b){h.call(this);this.identifierGenerator_=a;this.reporter_=b}var f=traceur.syntax.ParseTreeVisitor,b=traceur.syntax.trees.FunctionDeclaration,g=traceur.syntax.trees.GetAccessor,a=traceur.syntax.trees.SetAccessor,h=traceur.codegeneration.ParseTreeTransformer,j=traceur.codegeneration.ForOfTransformer,i=traceur.codegeneration.generator.ForInTransformPass,k=traceur.codegeneration.generator.GeneratorTransformer,
l=traceur.codegeneration.generator.AsyncTransformer,p=traceur.codegeneration.ParseTreeFactory.createForOfStatement,o=traceur.codegeneration.ParseTreeFactory.createVariableDeclarationList,m=traceur.codegeneration.ParseTreeFactory.createYieldStatement,n=traceur.codegeneration.ParseTreeFactory.createIdentifierExpression,s=traceur.syntax.TokenType,q=traceur.options.transform;e.prototype=traceur.createObject(f.prototype,{hasYield:!1,hasYieldFor:!1,hasForIn:!1,hasAsync:!1,hasAnyGenerator:function(){return this.hasYield||
this.hasAsync},visitYieldStatement:function(a){this.hasYield=!0;this.hasYieldFor=a.isYieldFor},visitAwaitStatement:function(){this.hasAsync=!0},visitForInStatement:function(a){this.hasForIn=!0;f.prototype.visitForInStatement.call(this,a)},visitFunctionDeclaration:function(){},visitSetAccessor:function(){},visitGetAccessor:function(){}});d.transformTree=function(a,b){return(new d(a)).transformAny(b)};d.prototype=traceur.createObject(h.prototype,{transformYieldStatement:function(a){if(a.isYieldFor){var b=
n(this.identifierGenerator_.generateUniqueIdentifier()),a=p(o(s.VAR,b,null),a.expression,m(b,!1));return j.transformTree(this.identifierGenerator_,a)}return a}});c.transformTree=function(a,b,d){return(new c(a,b)).transformAny(d)};c.prototype=traceur.createObject(h.prototype,{transformFunctionDeclaration:function(a){var c=this.transformBody_(a.functionBody);return c==a.functionBody?a:new b(null,a.name,!1,a.formalParameterList,c)},transformBody_:function(a){var b=new e(a),a=h.prototype.transformBlock.call(this,
a);if(!b.hasAnyGenerator())return a;if(b.hasForIn&&(q.generators||q.deferredFunctions))a=i.transformTree(this.identifierGenerator_,a);b.hasYieldFor&&q.generators&&(a=d.transformTree(this.identifierGenerator_,a));b.hasYield?q.generators&&(a=k.transformGeneratorBody(this.reporter_,a)):q.deferredFunctions&&(a=l.transformAsyncBody(this.reporter_,a));return a},transformGetAccessor:function(a){var b=this.transformBody_(a.body);return b==a.body?a:new g(null,a.propertyName,b)},transformSetAccessor:function(b){var c=
this.transformBody_(b.body);return c==b.body?b:new a(null,b.propertyName,b.parameter,c)}});return{GeneratorTransformPass:c}});var global=this;
traceur.define("semantics",function(){function e(a){b.call(this);this.reporter_=a}function d(a){this.parent=a;this.references=Object.create(null);this.declarations=Object.create(null)}function c(b){b instanceof a?b=b.identifierToken:b instanceof h&&(b=b.identifierToken);b instanceof g&&(b=b.value);return b}var f=traceur.syntax.TokenType,b=traceur.syntax.ParseTreeVisitor,g=traceur.syntax.IdentifierToken,a=traceur.syntax.trees.IdentifierExpression,h=traceur.syntax.trees.BindingIdentifier,j=traceur.syntax.trees.ParseTreeType,
i=traceur.syntax.PredefinedName;e.checkProgram=function(a,b){(new e(a)).visitProgram(b,global)};e.prototype=traceur.createObject(b.prototype,{scope_:null,pushScope_:function(){return this.scope_=new d(this.scope_)},pop_:function(a){if(this.scope_!=a)throw Error("FreeVariableChecker scope mismatch");this.validateScope_();this.scope_=a.parent},visitBlock:function(a){this.visitStatements_(a.statements)},visitProgram:function(a,b){for(var c=this.pushScope_(),d=b;d;)Object.getOwnPropertyNames(d).forEach(this.declareVariable_,
this),d=Object.getPrototypeOf(d);this.visitStatements_(a.programElements);this.pop_(c)},visitStatements_:function(a){a.forEach(function(a){a.type==j.FUNCTION_DECLARATION&&this.declareVariable_(a.name);this.visitAny(a)},this)},visitFunction_:function(a,b,c){var d=this.pushScope_();a&&this.declareVariable_(a);this.declareVariable_(i.ARGUMENTS);this.visitAny(b);this.visitAny(c);this.pop_(d)},visitFunctionDeclaration:function(a){this.visitFunction_(a.name,a.formalParameterList,a.functionBody)},visitArrowFunctionExpression:function(a){this.visitFunction_(null,
a.formalParameters,a.functionBody)},visitGetAccessor:function(a){var b=this.pushScope_();this.visitAny(a.body);this.pop_(b)},visitSetAccessor:function(a){var b=this.pushScope_();this.declareVariable_(a.parameter.binding);this.visitAny(a.body);this.pop_(b)},visitCatch:function(a){var b=this.pushScope_();this.visitAny(a.binding);this.visitAny(a.catchBody);this.pop_(b)},visitVariableDeclarationList:function(a){if(a.declarationType!=f.VAR)throw Error("let and const should have been rewritten");a.declarations.forEach(function(a){this.declareVariable_(a.lvalue);
this.visitAny(a.initializer)},this)},visitBindingIdentifier:function(a){this.declareVariable_(a)},visitIdentifierExpression:function(a){var b=c(a),d=this.scope_;b in d.references||(d.references[b]=a.location)},declareVariable_:function(a){var b=c(a);if(b){var d=this.scope_;b in d.declarations||(d.declarations[b]=a.location)}},validateScope_:function(){var a=this.scope_,b=[],c;for(c in a.references)if(!(c in a.declarations)){var d=a.references[c];if(a.parent)c in a.parent.references||(a.parent.references[c]=
d);else{if(!d)throw Error("generated variable "+c+" is not defined");b.push([d.start,"%s is not defined",c])}}b.length&&(b.sort(function(a,b){return a[0].offset-b[0].offset}),b.forEach(function(a){this.reportError_.apply(this,a)},this))},reportError_:function(a,b,c){var d=Array.prototype.slice.call(arguments);d[0]=a;this.reporter_.reportError.apply(this.reporter_,d)}});return{FreeVariableChecker:e}});
traceur.define("codegeneration",function(){function e(a,b){this.project_=b;this.reporter_=a;this.results_=new n;this.identifierGenerator_=new B}var d=traceur.codegeneration.ArrayComprehensionTransformer,c=traceur.codegeneration.ArrowFunctionTransformer,f=traceur.codegeneration.BlockBindingTransformer,b=traceur.codegeneration.CascadeExpressionTransformer,g=traceur.codegeneration.ClassTransformer,a=traceur.codegeneration.CollectionTransformer,h=traceur.codegeneration.DefaultParametersTransformer,j=
traceur.codegeneration.DestructuringTransformer,i=traceur.codegeneration.ForOfTransformer,k=traceur.semantics.FreeVariableChecker,l=traceur.codegeneration.GeneratorComprehensionTransformer,p=traceur.codegeneration.GeneratorTransformPass,o=traceur.codegeneration.IsExpressionTransformer,m=traceur.codegeneration.ModuleTransformer,n=traceur.util.ObjectMap,s=traceur.syntax.ParseTreeValidator,q=traceur.codegeneration.PropertyMethodAssignmentTransformer,r=traceur.codegeneration.PropertyNameShorthandTransformer,
x=traceur.codegeneration.QuasiLiteralTransformer,v=traceur.codegeneration.RestParameterTransformer,w=traceur.codegeneration.SpreadTransformer,B=traceur.codegeneration.UniqueIdentifierGenerator,t=traceur.options.transform;e.transform=function(a,b){var c=new e(a,b);c.transform_();return c.results_};e.transformFile=function(a,b,c){a=new e(a,b);a.transformFile_(c);return a.results_};e.transformFileAsModule=function(a,b,c,d){a=new e(a,b);a.transformFileAsModule_(c,d);return a.results_};e.prototype={transform_:function(){this.project_.getSourceFiles().forEach(function(a){this.transformFile_(a)},
this)},transformFile_:function(a){var b=this.transform(this.project_.getParseTree(a));this.results_.put(a,b)},transformFileAsModule_:function(a,b){var c=this.transformTree_(this.project_.getParseTree(b),a);this.results_.put(b,c)},transform:function(a){return this.transformTree_(a)},transformTree_:function(e,m){function n(a,b,c){if(a&&!A.hadError()){traceur.options.validate&&s.validate(e);var d=Array.prototype.slice.call(arguments,2);d.push(e);e=b.apply(null,d)||e}}var z=this.identifierGenerator_,
A=this.reporter_;t.modules&&!A.hadError()&&(traceur.options.validate&&s.validate(e),e=this.transformModules_(e,m));n(t.quasi,x.transformTree,z);n(t.arrowFunctions,c.transformTree,A);n(t.classes,g.transform,z,A);n(t.propertyMethods,q.transformTree);n(t.propertyNameShorthand,r.transformTree);n(t.isExpression,o.transformTree);n(t.generatorComprehension,l.transformTree,z);n(t.arrayComprehension,d.transformTree,z);n(t.forOf,i.transformTree,z);n(t.restParameters,v.transformTree);n(t.defaultParameters,h.transformTree);
n(t.generators||t.deferredFunctions,p.transformTree,z,A);n(t.destructuring,j.transformTree,z);n(t.spread,w.transformTree);n(t.blockBinding,f.transformTree);n(t.cascadeExpression,b.transformTree,z,A);n(t.collections||t.privateNames,a.transformTree,z);n(traceur.options.freeVariableChecker,k.checkProgram,A);return e},transformModules_:function(a,b){return b?m.transformAsModule(this.project_,b,a):m.transform(this.project_,a)}};return{ProgramTransformer:e}});
traceur.define("outputgeneration",function(){function e(){}var d=traceur.outputgeneration.TreeWriter;e.write=function(c,e){var b=[];c.keys().forEach(function(g){b.push("// "+g.name,d.write(c.get(g),e))});return b.join("\n")+"\n"};return{ProjectWriter:e}});
traceur.define("codegeneration.module",function(){function e(a,b,c){f.call(this);this.reporter_=a;this.project=b;this.currentModule_=c}var d=traceur.syntax.trees.ParseTree,c=traceur.syntax.trees.ParseTreeType,f=traceur.syntax.ParseTreeVisitor,b=traceur.semantics.symbols.Symbol,g=traceur.util.evaluateStringLiteral,a=traceur.util.resolveUrl;e.prototype=traceur.createObject(f.prototype,{get currentModule(){return this.currentModule_},getModuleByName:function(a){for(var b=this.currentModule;b;){if(b.hasModule(a))return b.getModule(a);
b=b.parent}return null},getModuleForModuleExpression:function(b,d){if(b.reference.type==c.MODULE_REQUIRE){var e=g(b.reference.url),e=a(this.currentModule.url,e);return this.project.getModuleForUrl(e)}var e=b.reference.identifierToken.value,f=this.getModuleByName(e);if(!f)return d&&this.reportError_(b,"'%s' is not a module",e),null;for(e=0;e<b.identifiers.length;e++){var l=b.identifiers[e].value;f.hasModule(l)?f.hasExport(l)?f=f.getModule(l):(d&&this.reportError_(b,"'%s' is not exported by %s",l,f.name||
f.url),f=null):(d&&this.reportError_(b,"'%s' is not a module",l),f=null);if(!f)return null}return f},visitFunctionDeclaration:function(){},visitSetAccessor:function(){},visitGetAccessor:function(){},visitModuleElement_:function(a){switch(a.type){case c.MODULE_DECLARATION:case c.MODULE_DEFINITION:case c.EXPORT_DECLARATION:case c.IMPORT_DECLARATION:this.visitAny(a)}},visitProgram:function(a){a.programElements.forEach(this.visitModuleElement_,this)},visitModuleDefinition:function(a){var b=this.currentModule_,
c=b.getModule(a.name.value);traceur.assert(c);this.currentModule_=c;a.elements.forEach(this.visitModuleElement_,this);this.currentModule_=b},checkForDuplicateModule_:function(a,b){var c=this.currentModule;return c.hasModule(a)?(this.reportError_(b,"Duplicate module declaration '%s'",a),this.reportRelatedError_(c.getModule(a).tree),!1):!0},reportError_:function(a,c,d){var e;e=a instanceof b?a.tree:a;var f=Array.prototype.slice.call(arguments);f[0]=e.location.start;this.reporter_.reportError.apply(this.reporter_,
f)},reportRelatedError_:function(a){if(a instanceof d)this.reportError_(a,"Location related to previous error");else{var b=a.tree;b?this.reportRelatedError_(b):this.reporter_.reportError(null,"Module related to previous error: "+a.url)}}});return{ModuleVisitor:e}});
traceur.define("codegeneration.module",function(){function e(c,b,e){d.call(this,c,b,e)}var d=traceur.codegeneration.module.ModuleVisitor,c=traceur.semantics.symbols.ModuleSymbol;e.prototype=traceur.createObject(d.prototype,{visitModuleDefinition:function(e){var b=e.name.value;if(this.checkForDuplicateModule_(b,e)){var g=this.currentModule,b=new c(b,g,e,g.url);g.addModule(b)}d.prototype.visitModuleDefinition.call(this,e)}});return{ModuleDefinitionVisitor:e}});
traceur.define("codegeneration.module",function(){function e(b,c,a){d.call(this,b,c,a);this.inExport_=!1;this.relatedTree_=null}var d=traceur.codegeneration.module.ModuleVisitor,c=traceur.semantics.symbols.ExportSymbol,f=traceur.syntax.trees.ParseTreeType.IDENTIFIER_EXPRESSION;e.prototype=traceur.createObject(d.prototype,{addExport_:function(b,d){if(this.inExport_){traceur.assert("string"==typeof b);var a=this.currentModule;a.hasExport(b)?(this.reportError_(d,"Duplicate export declaration '%s'",b),
this.reportRelatedError_(a.getExport(b))):a.addExport(b,new c(d,b,this.relatedTree_))}},visitClassDeclaration:function(b){this.addExport_(b.name.identifierToken.value,b)},visitExportDeclaration:function(b){this.inExport_=!0;this.visitAny(b.declaration);this.inExport_=!1},visitExportMapping:function(b){this.relatedTree_=b.moduleExpression;this.visitAny(b.specifierSet);this.relatedTree_=null},visitExportMappingList:function(b){for(var c=0;c<b.paths.length;c++){var a=b.paths[c];a.type==f?this.addExport_(a.identifierToken.value,
a):this.visitAny(a)}},visitExportSpecifier:function(b){this.addExport_((b.rhs||b.lhs).value,b)},visitFunctionDeclaration:function(b){b.name&&this.addExport_(b.name.identifierToken.value,b)},visitIdentifierExpression:function(b){this.addExport_(b.identifierToken.value,b)},visitModuleDefinition:function(b){this.addExport_(b.name.value,b);var c=this.inExport_;this.inExport_=!1;d.prototype.visitModuleDefinition.call(this,b);this.inExport_=c},visitModuleSpecifier:function(b){this.addExport_(b.identifier.value,
b)},visitVariableDeclaration:function(b){this.addExport_(b.lvalue.identifierToken.value,b)}});return{ExportVisitor:e}});traceur.define("codegeneration.module",function(){function e(c,e,b){d.call(this,c,e,b)}var d=traceur.codegeneration.module.ModuleVisitor;e.prototype=traceur.createObject(d.prototype,{visitModuleSpecifier:function(c){var d=c.identifier.value,b=this.currentModule;(c=this.getModuleForModuleExpression(c.expression))&&b.addModuleWithName(c,d)}});return{ModuleDeclarationVisitor:e}});
traceur.define("codegeneration.module",function(){function e(c,e,b){d.call(this,c,e,b)}var d=traceur.codegeneration.module.ModuleVisitor;e.prototype=traceur.createObject(d.prototype,{checkExport_:function(c,d){this.validatingModule_&&!this.validatingModule_.hasExport(d)&&this.reportError_(c,"'%s' is not exported by %s",d,this.validatingModule_.name||"'"+this.validatingModule_.url+"'")},visitAndValidate_:function(c,d){var b=this.validatingModule_;this.validatingModule_=c;this.visitAny(d);this.validatingModule_=
b},visitExportMapping:function(c){if(c.moduleExpression){this.visitAny(c.moduleExpression);var d=this.getModuleForModuleExpression(c.moduleExpression);this.visitAndValidate_(d,c.specifierSet)}},visitExportSpecifier:function(c){this.checkExport_(c,c.lhs.value)},visitIdentifierExpression:function(c){this.checkExport_(c,c.identifierToken.value)},visitModuleExpression:function(c){this.getModuleForModuleExpression(c,!0)},visitImportBinding:function(c){var d=this.getModuleForModuleExpression(c.moduleExpression,
!0);this.visitAndValidate_(d,c.importSpecifierSet)},visitImportSpecifier:function(c){this.checkExport_(c,c.lhs.value)}});return{ValidationVisitor:e}});
traceur.define("codegeneration.module",function(){function e(){d.call(this);this.urls_=Object.create(null)}var d=traceur.syntax.ParseTreeVisitor,c=traceur.util.canonicalizeUrl,f=traceur.util.evaluateStringLiteral;e.prototype=traceur.createObject(d.prototype,{get requireUrls(){return Object.keys(this.urls_)},visitModuleRequire:function(b){this.urls_[c(f(b.url))]=!0}});return{ModuleRequireVisitor:e}});
traceur.define("codegeneration.module",function(){function e(b,c,a){d.call(this,b,c,a)}var d=traceur.codegeneration.module.ModuleVisitor,c=traceur.syntax.trees.ParseTreeType,f=traceur.syntax.TokenType;e.prototype=traceur.createObject(d.prototype,{visitImportBinding:function(b){var d=b.importSpecifierSet;d.type===c.IMPORT_SPECIFIER_SET&&d.specifiers.type===f.STAR&&(b=this.getModuleForModuleExpression(b.moduleExpression),this.project.setModuleForStarTree(d,b))}});return{ImportStarVisitor:e}});
traceur.define("semantics",function(){function e(a,b){this.reporter_=a;this.project_=b}var d=traceur.codegeneration.module.ExportVisitor,c=traceur.codegeneration.module.ImportStarVisitor,f=traceur.codegeneration.module.ModuleDeclarationVisitor,b=traceur.codegeneration.module.ModuleDefinitionVisitor,g=traceur.codegeneration.module.ValidationVisitor;e.prototype={analyze:function(){this.analyzeTrees(this.project_.getSourceTrees())},analyzeFile:function(a){a=[this.project_.getParseTree(a)];this.analyzeTrees(a)},
analyzeTrees:function(a){this.analyzeModuleTrees(a)},analyzeModuleTrees:function(a,e){function j(b){for(var c=0;c<a.length;c++)(new b(i,k,e?e[c]:l)).visitAny(a[c])}var i=this.reporter_,k=this.project_,l=k.getRootModule();j(b);j(d);j(f);j(g);j(c)}};return{ModuleAnalyzer:e}});
traceur.define("codegeneration",function(){function e(b,a){this.reporter_=b;this.project_=a}var d=traceur.codegeneration.ProgramTransformer,c=traceur.syntax.Parser,f=traceur.semantics.ModuleAnalyzer,b=traceur.semantics.symbols.Project;e.compile=function(b,a){return(new e(b,a)).compile_()};e.compileFile=function(c,a,d){d=new b(d);d.addFile(a);return(new e(c,d)).compileFile_(a)};e.prototype={compile_:function(){this.parse_();this.analyze_();this.transform_();return this.hadError_()?null:this.results_},
compileFile_:function(b){this.parseFile_(b);this.analyzeFile_(b);this.transformFile_(b);return this.hadError_()?null:this.results_.get(b)},transform_:function(){this.hadError_()||(this.results_=d.transform(this.reporter_,this.project_))},transformFile_:function(b){this.hadError_()||(this.results_=d.transformFile(this.reporter_,this.project_,b))},analyze_:function(){this.hadError_()||(new f(this.reporter_,this.project_)).analyze()},analyzeFile_:function(b){this.hadError_()||(new f(this.reporter_,this.project_)).analyzeFile(b)},
parse_:function(){this.project_.getSourceFiles().forEach(this.parseFile_,this)},parseFile_:function(b){this.hadError_()||this.project_.setParseTree(b,(new c(this.reporter_,b)).parseProgram(!0))},hadError_:function(){return this.reporter_.hadError()}};return{Compiler:e}});var traceur=traceur||{};
traceur.runtime=function(){function e(a){return{configurable:!0,enumerable:!1,value:a,writable:!0}}function d(a,b){var c=w(a.prototype);if(!c)throw new TypeError("super is null");return l(c,b)}function c(a){for(var b=[],c=0;c<a.length;c+=2)if(a[c]){if(null!=a[c+1]){if("object"!=typeof a[c+1])throw TypeError("Spread expression has wrong type");C(b,z(a[c+1]))}}else y(b,a[c+1]);return b}function f(){return"__$"+Math.floor(1E9*Math.random())+"$"+ ++D+"$__"}function b(a){function b(){return a}a||(a=f());
q(this,E,{value:f()});r(b);r(b.prototype);var c=u(b);q(this,"toString",c);this.public=r(s(null,{toString:u(r(function(){return a}))}));r(this.public.toString.prototype);r(this)}function g(a){if(F.test(a))throw Error("Invalid access to private name");}function a(a,b){return K.isName(b)?delete a[b[E]]:F.test(b)?!0:delete a[b]}function h(a,b){return K.isName(b)?a[b[E]]:F.test(b)?void 0:a[b]}function j(a,b){return K.isName(b)||F.test(b)?!1:b in Object(a)}function i(a,b,c){K.isName(b)?l(a,[b[E]])?a[b[E]]=
c:q(a,b[E],e(c)):(g(b),a[b]=c)}function k(a,b,c){K.isName(b)?(c.enumerable&&(c=Object.create(c,{enumerable:{value:!1}})),q(a,b[E],c)):(g(b),q(a,b,c))}function l(a,b){for(;null!==a;){var c=Object.getOwnPropertyDescriptor(a,b);if(c)return c;a=w(a)}}function p(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function o(a){this.canceller_=a;this.listeners_=[]}function m(a){for(;0<a.listeners_.length;){var b=a.listeners_.shift(),c=void 0;try{try{a.result_[1]?b.errback&&(c=b.errback.call(void 0,a.result_[0])):
b.callback&&(c=b.callback.call(void 0,a.result_[0])),b.deferred.callback(c)}catch(d){b.deferred.errback(d)}}catch(e){}}}function n(a,b,c){if(a.fired_)throw Error("already fired");a.fired_=!0;a.result_=[b,c];m(a)}Function.prototype.call.bind(Function.prototype.call);var s=Object.create,q=Object.defineProperty,r=Object.freeze,x=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,w=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty,t=Function.prototype.bind,u=e;Object.defineProperties(String.prototype,
{startsWith:u(function(a){return 0===this.lastIndexOf(a,0)}),endsWith:u(function(a){var a=String(a),b=this.length-a.length;return 0<=b&&this.indexOf(a,b)===b}),contains:u(function(a){return-1!==this.indexOf(a)}),toArray:u(function(){return this.split("")})});q(String,"raw",{value:function(a){var b=a.raw,c=b.length>>>0;if(0===c)return"";for(var d="",e=0;;){d+=b[e];if(e+1===c)return d;d+=arguments[++e]}},configurable:!0,enumerable:!1,writable:!0});var y=Array.prototype.push.call.bind(Array.prototype.push),
C=Array.prototype.push.apply.bind(Array.prototype.push),z=Array.prototype.slice.call.bind(Array.prototype.slice),A=Array.prototype.filter.call.bind(Array.prototype.filter),D=0,F=/^__\$(?:\d+)\$(?:\d+)\$__$/,E=f();r(b);r(b.prototype);var H=new b,L=new b,Q=new b,K=r({Name:function(a){return new b(a)},isName:function(a){return a instanceof b},elementGet:L,elementSet:Q,elementDelete:H});q(Object,"defineProperty",{value:k});q(Object,"deleteProperty",u(a));q(Object,"getOwnPropertyNames",{value:function(a){return A(v(a),
function(a){return!F.test(a)})}});q(Object,"getProperty",u(h));q(Object,"getPropertyDescriptor",u(function(a,b){if(!K.isName(b))return g(b),l(a,b)}));q(Object,"has",u(j));q(Object,"setProperty",u(i));q(Object.prototype,"hasOwnProperty",{value:function(a){return K.isName(a)||F.test(a)?!1:B.call(this,a)}});q(Object,"is",u(p));var I=new b("iterator"),J=new b("generator"),M={get iterator(){return I}};k(Array.prototype,M.iterator,u(function(){var a=0,b=this,c;return{get current(){return c},moveNext:function(){return a<
b.length?(c=b[a++],!0):!1}}}));o.prototype={fired_:!1,result_:void 0,createPromise:function(){return{then:this.then.bind(this),cancel:this.cancel.bind(this)}},callback:function(a){n(this,a,!1)},errback:function(a){n(this,a,!0)},then:function(a,b){var c=new o(this.cancel.bind(this));this.listeners_.push({deferred:c,callback:a,errback:b});this.fired_&&m(this);return c.createPromise()},cancel:function(){if(this.fired_)throw Error("already finished");var a;this.canceller_?(a=this.canceller_(this),!a instanceof
Error&&(a=Error(a))):a=Error("cancelled");this.fired_||(this.result_=[a,!0],m(this))}};var W=r({get "@name"(){return K},get "@iter"(){return M}});return{createClass:function(a,b,c,d){if(null!==b&&"function"!==typeof b)throw new TypeError("Can only extend functions or null");c=null===b&&!c?function(){}:a.constructor;d?null===b?b=null:(c.__proto__=b,b=b.prototype):b=Object.prototype;var e={};v(a).forEach(function(b){e[b]=x(a,b)});e.constructor.value=c;e.constructor.enumerable=!1;c.prototype=s(b,e);
return c},Deferred:o,elementDelete:function(b,c){return H[E]in Object(b)?h(b,H).call(b,c):a(b,c)},elementGet:function(a,b){return L[E]in Object(a)?h(a,L).call(a,b):h(a,b)},elementHas:function(a,b){return j(a,b)},elementSet:function(a,b,c){Q[E]in Object(a)?h(a,Q).call(a,b,c):i(a,b,c);return c},getIterator:function(a){return h(a,J)?a:h(a,I).call(a)},is:p,isnt:function(a,b){return!p(a,b)},markAsGenerator:function(a){i(a,J,!0)},markMethods:function(a,b){b.forEach(function(b){q(a,b,{enumerable:!1})});
return a},modules:W,spread:c,spreadNew:function(a,b){var d=c(b);d.unshift(null);return(d=new (t.apply(a,d)))&&"object"==typeof d?d:object},superCall:function(a,b,c,e){if(b=d(b,c)){if("value"in b)return b.value.apply(a,e);if(b.get)return b.get.call(a).apply(a,e)}throw new TypeError("Object has no method '"+c+"'.");},superGet:function(a,b,c){if(b=d(b,c)){if(b.get)return b.get.call(a);if("value"in b)return b.value}},superSet:function(a,b,c,e){if((b=d(b,c))&&b.set)b.set.call(a,e);else throw new TypeError("Object has no setter '"+
c+"'.");}}}();var Deferred=traceur.runtime.Deferred;
traceur.define("runtime",function(){function e(a,b,c){this.loader=a;this.url=b;this.state=c;this.uid=traceur.getUid()}function d(a,b){e.call(this,a,b,x)}function c(a,b){e.call(this,a,a.url,v);this.text=b}function f(a,b){e.call(this,a,a.url,v);this.text=b}function b(a,b){this.reporter=a;this.project=b;this.cache=new s;this.urlToKey=Object.create(null)}function g(a,c,d){this.internalLoader_=new b(a,c,d)}var a=traceur.syntax.Parser,h=traceur.syntax.SourceFile,j=traceur.semantics.ModuleAnalyzer,i=traceur.semantics.symbols.ModuleSymbol,
k=traceur.semantics.symbols.Project,l=traceur.codegeneration.ProgramTransformer,p=traceur.outputgeneration.TreeWriter,o=traceur.codegeneration.module.ModuleRequireVisitor,m=traceur.util.resolveUrl,n=traceur.util.ObjectMap,s=traceur.util.ArrayMap,q=traceur.assert,r=Object.freeze(Object.create(null,{Array:{value:Array},Boolean:{value:Boolean},Date:{value:Date},Error:{value:Error},EvalError:{value:EvalError},Function:{value:Function},JSON:{value:JSON},Math:{value:Math},Number:{value:Number},Object:{value:Object},
RangeError:{value:RangeError},ReferenceError:{value:ReferenceError},RegExp:{value:RegExp},String:{value:String},SyntaxError:{value:SyntaxError},TypeError:{value:TypeError},URIError:{value:URIError},undefined:{value:void 0}})),x=0,v=2;e.prototype={state_:x,get state(){return this.state_},set state(a){if(a<this.state_)throw Error("Invalid state change");this.state_=a},get reporter(){return this.loader.reporter},get project(){return this.loader.project},get tree(){return this.project.getParseTree(this.file)},
get moduleSymbol(){return this.project.getRootModule()},addListener:function(a,b){this.listeners||(this.listeners=[]);this.listeners.push(a,b)},dispatchError:function(a){this.dispatch_(a,1)},dispatchComplete:function(a){this.dispatch_(a,0)},dispatch_:function(a,b){var c=this.listeners;if(c){c=c.concat();this.listeners=[];for(var d=b;d<c.length;d+=2){var e=c[d];e&&e(a)}}},parse:function(){var b=this.reporter,c=this.project,d=new h(this.url,this.text);c.addFile(d);this.file=d;var e=(new a(b,d)).parseProgram(this.allowLoad);
if(b.hadError())return this.error="Parse error",!1;c.setParseTree(d,e);this.state=3;return!0},transform:function(){return l.transformFile(this.reporter,this.project,this.file)}};d.prototype=traceur.createObject(e.prototype,{allowLoad:!0,get moduleSymbol(){return this.project.getModuleForUrl(this.url)},parse:function(){if(!e.prototype.parse.call(this))return!1;var a=this.loader.project,b=new i(null,null,this.tree,this.url);a.addExternalModule(b);return!0},transform:function(){return l.transformFileAsModule(this.reporter,
this.project,this.moduleSymbol,this.file)}});c.prototype=traceur.createObject(e.prototype,{allowLoad:!1});f.prototype=traceur.createObject(e.prototype,{allowLoad:!0});b.prototype={get url(){return this.project.url},load:function(a){var a=m(this.url,a),b=this.getCodeUnit(a);if(b.state!=x||6==b.state)return b;var c=this,d=b.xhr=new XMLHttpRequest;d.open("GET",a,!0);d.onload=function(){200==d.status||0==d.status?(b.text=d.responseText,b.state=v,c.handleCodeUnitLoaded(b)):(b.state=6,c.handleCodeUnitLoadError(b))};
d.onerror=function(){b.state=6;c.handleCodeUnitLoadError(b)};b.state=1;d.send();return b},evalLoad:function(a){a=new f(this,a);this.cache.put({},a);return a},eval:function(a){a=new c(this,a);this.cache.put({},a);this.handleCodeUnitLoaded(a);return a},getKey:function(a){return a in this.urlToKey?this.urlToKey[a]:this.urlToKey[a]={}},getCodeUnit:function(a){var b=this.getKey(a),c=this.cache.get(b);c||(c=new d(this,a),this.cache.put(b,c));return c},areAll:function(a){return this.cache.values().every(function(b){return b.state>=
a})},handleCodeUnitLoaded:function(a){if(a.parse()){var b=new o(this.reporter);b.visit(a.tree);var c=a.url;a.dependencies=b.requireUrls.map(function(a){a=m(c,a);return this.load(a)},this);this.areAll(3)&&(this.analyze(),this.transform(),this.evaluate())}else this.abortAll()},handleCodeUnitLoadError:function(a){a.error="Failed to load '"+a.url+"'";this.abortAll()},abortAll:function(){this.cache.values().forEach(function(a){a.xhr&&(a.xhr.abort(),a.state=6)});this.cache.values().forEach(function(a){a.dispatchError(a.error)},
this)},analyze:function(){for(var a=this.cache.values(),b=[],c=[],d=0;d<a.length;d++){var e=a[d];q(3<=e.state);3==e.state&&(b.push(e.tree),c.push(e.moduleSymbol))}(new j(this.reporter,this.project)).analyzeModuleTrees(b,c);if(this.reporter.hadError()){for(d=0;d<a.length;d++)e=a[d],5<=e.state||(e.state=6);for(d=0;d<a.length;d++)e=a[d],6==e.state&&e.dispatchError("Failed to analyze")}},transform:function(){for(var a=this.cache.values(),b=0;b<a.length;b++){var c=a[b];if(!(4<=c.state)){var d=c.file,e=
c.transform();c.transformedTree=e.get(d);c.state=4}}},evaluate:function(){function a(d){b.has(d)||(b.put(d,!0),d.dependencies.forEach(a),c.push(d))}var b=new n,c=[];this.cache.values().forEach(a);for(var d=c,e=0;e<d.length;e++){var f=d[e];if(!(5<=f.state)){q(void 0===w);w=f;var g;try{g=traceur.strictGlobalEval(p.write(f.transformedTree))}catch(h){f.error=h.message;this.abortAll();return}finally{q(w===f),w=void 0}f.result=g;f.transformedTree=null;f.text=null}}for(e=0;e<d.length;e++)f=d[e],5<=f.state||
(f.state=5,f.dispatchComplete(f.result))}};var w,B=/^@\w+$/;g.prototype={load:function(a,b,c){this.internalLoader_.load(a).addListener(b,c)},eval:function(a){return this.internalLoader_.eval(a).result},evalLoad:function(a,b,c){a=this.internalLoader_.evalLoad(a);a.addListener(b,c);this.internalLoader_.handleCodeUnitLoaded(a)},"import":function(){throw Error("Not implemented");},defineGlobal:function(){throw Error("Not implemented");},defineModule:function(){throw Error("Not implemented");},create:function(a,
b){var c=new k(this.project_.url);return new g(this.reporter,c,this,b)},createBase:function(){return r}};return{CodeLoader:g,getModuleInstanceByUrl:function(a){if(B.test(a))return traceur.runtime.modules[a]||null;q(w);for(var a=m(w.url,a),b=0;b<w.dependencies.length;b++)if(w.dependencies[b].url==a)return w.dependencies[b].result;return null}}});
